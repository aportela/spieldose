"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[550],{2719:(e,a,t)=>{t.d(a,{d:()=>i});var s=t(1809),l=t(8612),n=t.n(l),r=t(4958);(0,r.n)();const o={namespace:"spieldose",storages:["local","cookie","session","memory"],storage:"local",expireDays:3650},i=(0,s.Q_)("currentPlaylist",{state:()=>({tracks:[],currentIndex:-1}),getters:{hasTracks:e=>e.tracks&&e.tracks.length>0,getTracks:e=>e.tracks,getCurrentIndex:e=>e.currentIndex,getCurrentTrack:e=>e.currentIndex>=0&&e.tracks.length>0?e.tracks[e.currentIndex]:null,getCurrentTrackURL:e=>e.currentIndex>=0&&e.tracks.length>0?e.tracks[e.currentIndex].url:null,allowSkipPrevious:e=>e.currentIndex>0&&e.tracks.length>0,allowSkipNext:e=>e.currentIndex>=0&&e.tracks.length>0&&e.currentIndex<e.tracks.length-1,allowPlay:e=>!0,allowPause:e=>!0,allowResume:e=>!0,allowStop:e=>!0},actions:{load(){const e=n()(o),a=e.get("currentPlaylistTracks");a&&(this.tracks=a);const t=e.get("currentPlaylistTrackIndex");t>=0&&(this.currentIndex=t)},saveTracks(e){this.tracks=e,this.currentIndex=e&&e.length>0?0:-1;const a=n()(o);a.set("currentPlaylistTracks",e),a.set("currentPlaylistTrackIndex",e&&e.length>0?0:-1)},saveCurrentTrackIndex(e){this.currentIndex=e>=0?e:-1;const a=n()(o);a.set("currentPlaylistTrackIndex",this.currentIndex)},skipPrevious(){this.currentIndex--},skipNext(){this.currentIndex++}}})},4958:(e,a,t)=>{t.d(a,{n:()=>r});var s=t(1809),l=t(1320);const n=(0,l.l)(),r=(0,s.Q_)("player",{state:()=>({element:null,hasPreviousUserInteractions:!1}),getters:{getElement:e=>e.element,getDuration:e=>e.element.duration},actions:{interact(){this.hasPreviousUserInteractions=!0},create(){this.element=document.createElement("audio"),this.element.id="audio_player"},setVolume(e){this.element.volume=e},setCurrentTime(e){this.element.currentTime=e},stop(){this.element.pause(),n.setStatusStopped()},load(){},play(e){e?(this.element.play(),n.setStatusPlaying()):n.isPlaying?(this.element.pause(),n.setStatusPaused()):n.isPaused?(this.element.play(),n.setStatusPlaying()):(this.element.load(),this.element.play(),n.setStatusPlaying())}}})},1320:(e,a,t)=>{t.d(a,{l:()=>l});var s=t(1809);const l=(0,s.Q_)("playerStatus",{state:()=>({status:"stopped"}),getters:{getStatus(e){return e.status},isPlaying(e){return"playing"==e.status},isStopped(e){return"stopped"==e.status},isPaused(e){return"paused"==e.status}},actions:{setStatusPlaying(){this.status="playing"},setStatusStopped(){this.status="stopped"},setStatusPaused(){this.status="paused"}}})},5550:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Qe});var s=t(9835),l=t(499),n=t(7712),r=t(6970),o=t(4376),i=t(9302);const u={class:"text-h6 row"},c={class:"col text-left"},m={class:"col text-right"},p={key:1},d={__name:"DashboardBaseBlock",props:{className:{type:String},loading:{type:Boolean},icon:{type:String},title:{type:String}},emits:["refresh"],setup(e,{emit:a}){const{t}=(0,n.QT)();function o(){a("refresh")}return(a,n)=>{const i=(0,s.up)("q-icon"),d=(0,s.up)("q-spinner"),y=(0,s.up)("q-card-section"),k=(0,s.up)("q-skeleton"),g=(0,s.up)("q-card");return(0,s.wg)(),(0,s.j4)(g,{class:"my-card q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"bg-grey-3 text-black"},{default:(0,s.w5)((()=>[(0,s._)("div",u,[(0,s._)("div",c,[(0,s.Wm)(i,{name:e.icon,class:"cursor-pointer q-mr-sm"},null,8,["name"]),(0,s.Uk)((0,r.zw)(e.title),1)]),(0,s._)("div",m,[e.loading?((0,s.wg)(),(0,s.j4)(d,{key:0,color:"pink",size:"sm",class:"q-ml-sm",thickness:8})):((0,s.wg)(),(0,s.j4)(i,{key:1,name:"refresh",class:"cursor-pointer",onClick:o,title:(0,l.SU)(t)("reload")},null,8,["title"]))])])])),_:1}),(0,s.Wm)(y,{class:"bg-white text-black"},{default:(0,s.w5)((()=>[(0,s.WI)(a.$slots,"body",{},(()=>[e.loading?((0,s.wg)(),(0,s.j4)(k,{key:0,type:"text",square:"",animation:"blink",height:"198px"})):((0,s.wg)(),(0,s.iD)("div",p,[(0,s.WI)(a.$slots,"tabs"),(0,s.WI)(a.$slots,"list"),(0,s.WI)(a.$slots,"chart")]))]))])),_:3})])),_:3})}}};var y=t(4458),k=t(3190),g=t(2857),w=t(3902),b=t(7133),v=t(9984),D=t.n(v);const h=d,_=h;D()(d,"components",{QCard:y.Z,QCardSection:k.Z,QIcon:g.Z,QSpinner:w.Z,QSkeleton:b.ZP});var f=t(4958),P=t(2719);const q={key:0,class:"is-size-6-5 dashboard_list_item"},x={key:0},T={__name:"DashboardBaseBlockListElementTrack",props:{track:{type:Object}},setup(e){const a=(0,f.n)(),t=(0,P.d)();function l(e){a.stop(),t.saveTracks([e]),a.interact(),a.play(!1)}return(a,t)=>{const n=(0,s.up)("q-icon"),o=(0,s.up)("router-link");return e.track?((0,s.wg)(),(0,s.iD)("li",q,[(0,s.WI)(a.$slots,"prepend"),(0,s.Wm)(n,{name:"play_arrow",size:"sm",title:"play track",class:"cursor-pointer q-mr-xs",onClick:t[0]||(t[0]=a=>l(e.track))}),(0,s._)("span",null,(0,r.zw)(e.track.title),1),e.track.artist.name?((0,s.wg)(),(0,s.iD)("span",x,[(0,s.Uk)(" / "),(0,s.Wm)(o,{to:{name:"artist",params:{name:e.track.artist.name}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.track.artist.name),1)])),_:1},8,["to"])])):(0,s.kq)("",!0),(0,s.WI)(a.$slots,"append")])):(0,s.kq)("",!0)}}},W=T,Y=W;D()(T,"components",{QIcon:g.Z});const I={key:0,class:"is-size-6-5 dashboard_list_item"},S={key:0},U={__name:"DashboardBaseBlockListElementArtist",props:{artist:{type:Object}},setup(e){return(a,t)=>{const l=(0,s.up)("q-icon"),n=(0,s.up)("router-link");return e.artist?((0,s.wg)(),(0,s.iD)("li",I,[(0,s.WI)(a.$slots,"prepend"),(0,s.Wm)(l,{name:"link",size:"sm",class:"q-mr-xs"}),e.artist.name?((0,s.wg)(),(0,s.iD)("span",S,[(0,s.Wm)(n,{to:{name:"artist",params:{name:e.artist.name}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.artist.name),1)])),_:1},8,["to"])])):(0,s.kq)("",!0),(0,s.WI)(a.$slots,"append")])):(0,s.kq)("",!0)}}},Z=U,A=Z;D()(U,"components",{QIcon:g.Z});const C={key:0,class:"is-size-6-5 dashboard_list_item"},Q={key:0},z={key:1},M={__name:"DashboardBaseBlockListElementAlbum",props:{album:{type:Object}},setup(e){return(a,t)=>{const l=(0,s.up)("q-icon"),n=(0,s.up)("router-link");return e.album?((0,s.wg)(),(0,s.iD)("li",C,[(0,s.WI)(a.$slots,"prepend"),(0,s.Wm)(l,{name:"album",size:"sm",class:"q-mr-xs"}),(0,s._)("span",null,(0,r.zw)(e.album.title),1),e.album.year?((0,s.wg)(),(0,s.iD)("span",Q," ("+(0,r.zw)(e.album.year)+") ",1)):(0,s.kq)("",!0),e.album.albumArtistName?((0,s.wg)(),(0,s.iD)("span",z,[(0,s.Uk)(" / "),(0,s.Wm)(n,{to:{name:"artist",params:{name:e.album.albumArtistName}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.album.albumArtistName),1)])),_:1},8,["to"])])):(0,s.kq)("",!0),(0,s.WI)(a.$slots,"append")])):(0,s.kq)("",!0)}}},N=M,H=N;D()(M,"components",{QIcon:g.Z});const B={key:0,class:"is-size-6-5 dashboard_list_item"},j={__name:"DashboardBaseBlockListElementGenre",props:{genre:{type:Object}},setup(e){return(a,t)=>{const l=(0,s.up)("q-icon");return e.genre?((0,s.wg)(),(0,s.iD)("li",B,[(0,s.WI)(a.$slots,"prepend"),(0,s.Wm)(l,{name:"tag",size:"sm"}),(0,s._)("span",null,(0,r.zw)(e.genre.name),1),(0,s.WI)(a.$slots,"append")])):(0,s.kq)("",!0)}}},L=j,$=L;D()(j,"components",{QIcon:g.Z});const E={__name:"LabelTimestampAgo",props:{className:{type:String},timestamp:{type:Number}},setup(e){const a=e,{t}=(0,n.QT)();let i="",u=o.ZP.getDateDiff(Date.now(),a.timestamp,"years");return u<1?(u=o.ZP.getDateDiff(Date.now(),a.timestamp,"months"),u<1?(u=o.ZP.getDateDiff(Date.now(),a.timestamp,"days"),u<1?(u=o.ZP.getDateDiff(Date.now(),a.timestamp,"hours"),u<1?(u=o.ZP.getDateDiff(Date.now(),a.timestamp,"minutes"),u<1?(u=o.ZP.getDateDiff(Date.now(),a.timestamp,"seconds"),i=t(u>1?"nSecondsAgo":"oneSecondAgo",{count:u})):i=t(u>1?"nMinutesAgo":"oneMinuteAgo",{count:u})):i=t(u>1?"nHoursAgo":"oneHourAgo",{count:u})):i=t(u>1?"nDaysAgo":"oneDayAgo",{count:u})):i=t(u>1?"nMonthsAgo":"oneMonthAgo",{count:u})):i=t(u>1?"nYearsAgo":"oneYearAgo",{count:u}),(a,t)=>((0,s.wg)(),(0,s.iD)("span",{class:(0,r.C_)(e.className)},[(0,s.WI)(a.$slots,"prepend"),(0,s.Uk)((0,r.zw)((0,l.SU)(i)),1),(0,s.WI)(a.$slots,"append")],2))}},K=E,V=K;var R=t(1569);const O={key:0,class:"q-px-sm"},F={class:"q-ml-sm"},G={key:1,class:"q-px-sm"},J={class:"q-ml-sm"},X={key:2,class:"q-px-sm"},ee={class:"q-ml-sm"},ae={key:3,class:"q-px-sm"},te={class:"q-ml-sm"},se={key:4,class:"text-h5 text-center"},le=5,ne={__name:"DashboardBaseBlockTop",props:{icon:{type:String},entity:{type:String}},setup(e){const a=e,t=(0,i.Z)(),{t:u}=(0,n.QT)(),c=(0,l.iH)(!1),m=(0,l.iH)([]),p=(0,l.iH)(null);let d={fromDate:null,toDate:null};(0,s.YP)(p,(e=>{switch(d={fromDate:null,toDate:null},e){case"today":d.fromDate=o.ZP.formatDate(Date.now(),"YYYYMMDD"),d.toDate=o.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastWeek":d.fromDate=o.ZP.formatDate(o.ZP.addToDate(Date.now(),{days:-7}),"YYYYMMDD"),d.toDate=o.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastMonth":d.fromDate=o.ZP.formatDate(o.ZP.addToDate(Date.now(),{months:-1}),"YYYYMMDD"),d.toDate=o.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastYear":d.fromDate=o.ZP.formatDate(o.ZP.addToDate(Date.now(),{years:-1}),"YYYYMMDD"),d.toDate=o.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"always":break}w()}));const y=[{label:"Today",value:"today"},{label:"Last week",value:"lastWeek"},{label:"Last month",value:"lastMonth"},{label:"Last year",value:"lastYear"},{label:"Always",value:"always"}],k=(0,s.Fl)((()=>{switch(a.entity){case"tracks":return u("Top played tracks");case"artists":return u("Top played artists");case"albums":return u("Top played albums");case"genres":return u("Top played genres");default:return null}}));let g=null;switch(a.entity){case"tracks":g=R.api.metrics.getTracks;break;case"artists":g=R.api.metrics.getArtists;break;case"albums":g=R.api.metrics.getAlbums;break;case"genres":g=R.api.metrics.getGenres;break}function w(){p.value&&(c.value=!0,g(d,"playCount",le).then((e=>{m.value=e.data.data,c.value=!1})).catch((e=>{c.value=!1,t.notify({type:"negative",message:"API Error: error loading metrics",caption:u("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})})))}return p.value="always",(a,t)=>{const n=(0,s.up)("q-tab"),o=(0,s.up)("q-tabs"),i=(0,s.up)("q-icon");return(0,s.wg)(),(0,s.j4)((0,s.LL)(_),{icon:e.icon||"format_list_numbered",title:k.value,loading:c.value,onRefresh:w},{tabs:(0,s.w5)((()=>[(0,s.Wm)(o,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),"no-caps":"",class:"text-pink-7 q-mb-md"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(y,(e=>(0,s.Wm)(n,{key:e.value,name:e.value,label:(0,l.SU)(u)(e.label)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),list:(0,s.w5)((()=>["tracks"==e.entity?((0,s.wg)(),(0,s.iD)("ol",O,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.value,(e=>((0,s.wg)(),(0,s.j4)(Y,{key:e.id,track:e.track},{append:(0,s.w5)((()=>[(0,s._)("span",F,(0,r.zw)(e.playCount)+" "+(0,r.zw)((0,l.SU)(u)(e.playCount>1?"nPlayCounts":"onePlayCount")),1)])),_:2},1032,["track"])))),128))])):"artists"==e.entity?((0,s.wg)(),(0,s.iD)("ol",G,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.value,(e=>((0,s.wg)(),(0,s.j4)(A,{key:e.id,artist:e},{append:(0,s.w5)((()=>[(0,s._)("span",J,(0,r.zw)(e.playCount)+" "+(0,r.zw)((0,l.SU)(u)(e.playCount>1?"nPlayCounts":"onePlayCount")),1)])),_:2},1032,["artist"])))),128))])):"albums"==e.entity?((0,s.wg)(),(0,s.iD)("ol",X,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.value,(e=>((0,s.wg)(),(0,s.j4)(H,{key:e.id,album:e},{append:(0,s.w5)((()=>[(0,s._)("span",ee,(0,r.zw)(e.playCount)+" "+(0,r.zw)((0,l.SU)(u)(e.playCount>1?"nPlayCounts":"onePlayCount")),1)])),_:2},1032,["album"])))),128))])):"genres"==e.entity?((0,s.wg)(),(0,s.iD)("ol",ae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.value,(e=>((0,s.wg)(),(0,s.j4)($,{key:e.id,genre:e},{append:(0,s.w5)((()=>[(0,s._)("span",te,(0,r.zw)(e.playCount)+" "+(0,r.zw)((0,l.SU)(u)(e.playCount>1?"nPlayCounts":"onePlayCount")),1)])),_:2},1032,["genre"])))),128))])):(0,s.kq)("",!0),c.value||m.value&&m.value.length>0?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("h5",se,[(0,s.Wm)(i,{name:"warning",size:"xl"}),(0,s.Uk)(" No enought data")]))])),_:1},40,["icon","title","loading"])}}};var re=t(7817),oe=t(7661);const ie=ne,ue=ie;D()(ne,"components",{QTabs:re.Z,QTab:oe.Z,QIcon:g.Z});const ce={key:0,class:"q-px-sm"},me={key:1,class:"q-px-sm"},pe={key:2,class:"q-px-sm"},de={key:3,class:"q-px-sm"},ye={key:4,class:"text-h5 text-center"},ke=5,ge={__name:"DashboardBaseBlockRecently",props:{icon:{type:String},played:{type:Boolean},added:{type:Boolean}},setup(e){const a=e,t=(0,i.Z)(),{t:r}=(0,n.QT)(),o=(0,l.iH)(!1),u=(0,l.iH)([]),c=(0,s.Fl)((()=>{let e=null;return a.played?e=r("Recently played"):a.added&&(e=r("Recently added")),e})),m=(0,l.iH)(null);(0,s.YP)(m,(()=>{y()}));const p=[{label:"Tracks",value:"tracks",function:R.api.metrics.getTracks,listItemType:""},{label:"Artists",value:"artists",function:R.api.metrics.getArtists},{label:"Albums",value:"albums",function:R.api.metrics.getAlbums},{label:"Genres",value:"genres",function:R.api.metrics.getGenres}];let d={entity:"tracks"};function y(){if(m.value){u.value=[];const e=p.filter((e=>e.value==m.value))[0].function;o.value=!0;let s=null;a.played?s="recentlyPlayed":a.added&&(s="recentlyAdded"),e(d,s,ke).then((e=>{u.value=e.data.data,o.value=!1})).catch((e=>{o.value=!1,t.notify({type:"negative",message:"API Error: error loading metrics",caption:r("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})}))}}return m.value="tracks",(a,t)=>{const n=(0,s.up)("q-tab"),i=(0,s.up)("q-tabs"),d=(0,s.up)("q-icon");return(0,s.wg)(),(0,s.j4)((0,s.LL)(_),{icon:e.icon||"format_list_numbered",title:c.value,loading:o.value,onRefresh:y},{tabs:(0,s.w5)((()=>[(0,s.Wm)(i,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),"no-caps":"",class:"text-pink-7 q-mb-md"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(p,(e=>(0,s.Wm)(n,{key:e.value,name:e.value,label:(0,l.SU)(r)(e.label)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),list:(0,s.w5)((()=>["tracks"==m.value?((0,s.wg)(),(0,s.iD)("ol",ce,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(a=>((0,s.wg)(),(0,s.j4)(Y,{key:a.id,track:a.track},(0,s.Nv)({_:2},[e.played?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(V,{className:"q-ml-sm",timestamp:1e3*a.lastPlayTimestamp},{prepend:(0,s.w5)((()=>[(0,s.Uk)("(")])),append:(0,s.w5)((()=>[(0,s.Uk)(")")])),_:2},1032,["timestamp"])])),key:"0"}:e.added?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(V,{className:"q-ml-sm",timestamp:1e3*a.addedTimestamp},{prepend:(0,s.w5)((()=>[(0,s.Uk)("(")])),append:(0,s.w5)((()=>[(0,s.Uk)(")")])),_:2},1032,["timestamp"])])),key:"1"}:void 0]),1032,["track"])))),128))])):"artists"==m.value?((0,s.wg)(),(0,s.iD)("ol",me,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(a=>((0,s.wg)(),(0,s.j4)(A,{key:a.id,artist:a},(0,s.Nv)({_:2},[e.played?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(V,{className:"q-ml-sm",timestamp:1e3*a.lastPlayTimestamp},{prepend:(0,s.w5)((()=>[(0,s.Uk)("(")])),append:(0,s.w5)((()=>[(0,s.Uk)(")")])),_:2},1032,["timestamp"])])),key:"0"}:e.added?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(V,{className:"q-ml-sm",timestamp:1e3*a.addedTimestamp},{prepend:(0,s.w5)((()=>[(0,s.Uk)("(")])),append:(0,s.w5)((()=>[(0,s.Uk)(")")])),_:2},1032,["timestamp"])])),key:"1"}:void 0]),1032,["artist"])))),128))])):"albums"==m.value?((0,s.wg)(),(0,s.iD)("ol",pe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(a=>((0,s.wg)(),(0,s.j4)(H,{key:a.id,album:a},(0,s.Nv)({_:2},[e.played?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(V,{className:"q-ml-sm",timestamp:1e3*a.lastPlayTimestamp},{prepend:(0,s.w5)((()=>[(0,s.Uk)("(")])),append:(0,s.w5)((()=>[(0,s.Uk)(")")])),_:2},1032,["timestamp"])])),key:"0"}:e.added?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(V,{className:"q-ml-sm",timestamp:1e3*a.addedTimestamp},{prepend:(0,s.w5)((()=>[(0,s.Uk)("(")])),append:(0,s.w5)((()=>[(0,s.Uk)(")")])),_:2},1032,["timestamp"])])),key:"1"}:void 0]),1032,["album"])))),128))])):"genres"==m.value?((0,s.wg)(),(0,s.iD)("ol",de,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(a=>((0,s.wg)(),(0,s.j4)($,{key:a.name,genre:a},(0,s.Nv)({_:2},[e.played?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(V,{className:"q-ml-sm",timestamp:1e3*a.lastPlayTimestamp},{prepend:(0,s.w5)((()=>[(0,s.Uk)("(")])),append:(0,s.w5)((()=>[(0,s.Uk)(")")])),_:2},1032,["timestamp"])])),key:"0"}:e.added?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(V,{className:"q-ml-sm",timestamp:1e3*a.addedTimestamp},{prepend:(0,s.w5)((()=>[(0,s.Uk)("(")])),append:(0,s.w5)((()=>[(0,s.Uk)(")")])),_:2},1032,["timestamp"])])),key:"1"}:void 0]),1032,["genre"])))),128))])):(0,s.kq)("",!0),o.value||u.value&&u.value.length>0?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("h5",ye,[(0,s.Wm)(d,{name:"warning",size:"xl"}),(0,s.Uk)(" No enought data")]))])),_:1},40,["icon","title","loading"])}}},we=ge,be=we;D()(ge,"components",{QTabs:re.Z,QTab:oe.Z,QIcon:g.Z});var ve=t(9844);const De=(0,s._)("div",{class:"ct-chart"},null,-1),he={__name:"DashboardBaseBlockChart",props:{icon:{type:String}},setup(e){const a=(0,i.Z)(),{t}=(0,n.QT)(),r=(0,l.iH)(!1),o=(0,l.iH)([]),u=(0,l.iH)(null);(0,s.YP)(u,(e=>{d()}));const c=[{label:"Hour",value:"hour"},{label:"Weekday",value:"weekday"},{label:"Month",value:"month"},{label:"Year",value:"year"}],m={low:0,showArea:!0,fullWidth:!0,chartPadding:{left:48,right:48}};function p(){let e=[];const a=o.value.map((e=>e.total));switch(u.value){case"hour":e=o.value.map((e=>e.hour));break;case"weekday":e=[t("Sunday"),t("Monday"),t("Tuesday"),t("Wednesday"),t("Thursday"),t("Friday"),t("Saturday")];break;case"month":e=[t("January"),t("February"),t("March"),t("April"),t("May"),t("June"),t("July"),t("August"),t("September"),t("October"),t("November"),t("December")];break;case"year":e=o.value.map((e=>e.year));break}e.length>1?new ve.wW(".ct-chart",{labels:e,series:[a]},m):new ve.vz(".ct-chart",{labels:e,series:[a]},m)}function d(){u.value&&(r.value=!0,R.api.metrics.getDataRanges(u.value).then((e=>{o.value=e.data.data,r.value=!1,(0,s.Y3)((()=>{p()}))})).catch((e=>{r.value=!1,a.notify({type:"negative",message:"API Error: error loading metrics",caption:t("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})})))}return u.value="weekday",(a,n)=>{const o=(0,s.up)("q-tab"),i=(0,s.up)("q-tabs");return(0,s.wg)(),(0,s.j4)((0,s.LL)(_),{icon:e.icon||"analytics",title:(0,l.SU)(t)("Play stats"),loading:r.value,onRefresh:d},{tabs:(0,s.w5)((()=>[(0,s.Wm)(i,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=e=>u.value=e),"no-caps":"",class:"text-pink-7 q-mb-md"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(c,(e=>(0,s.Wm)(o,{key:e.value,name:e.value,label:(0,l.SU)(t)(e.label)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),chart:(0,s.w5)((()=>[De])),_:1},40,["icon","title","loading"])}}},_e=he,fe=_e;D()(he,"components",{QTabs:re.Z,QTab:oe.Z});const Pe={class:"row"},qe={class:"col-xl-4 col-lg-6 col-12"},xe={class:"col-xl-4 col-lg-6 col-12"},Te={class:"col-xl-4 col-lg-6 col-12"},We={class:"col-xl-4 col-lg-6 col-12"},Ye={class:"col-xl-4 col-lg-6 col-12"},Ie={class:"col-xl-4 col-lg-6 col-12"},Se={__name:"DashboardPage",setup(e){const{t:a}=(0,n.QT)();return(e,t)=>{const n=(0,s.up)("q-breadcrumbs-el"),r=(0,s.up)("q-breadcrumbs"),o=(0,s.up)("q-card"),i=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(i,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,{class:"q-pa-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"q-mb-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{icon:"home",label:"Spieldose"}),(0,s.Wm)(n,{icon:"analytics",label:(0,l.SU)(a)("Dashboard")},null,8,["label"])])),_:1}),(0,s._)("div",Pe,[(0,s._)("div",qe,[(0,s.Wm)(ue,{entity:"tracks"})]),(0,s._)("div",xe,[(0,s.Wm)(ue,{entity:"artists"})]),(0,s._)("div",Te,[(0,s.Wm)(ue,{entity:"albums"})]),(0,s._)("div",We,[(0,s.Wm)(ue,{entity:"genres"})]),(0,s._)("div",Ye,[(0,s.Wm)(be,{played:!0})]),(0,s._)("div",Ie,[(0,s.Wm)(be,{added:!0})])]),(0,s.Wm)(fe)])),_:1})])),_:1})}}};var Ue=t(9885),Ze=t(2605),Ae=t(8052);const Ce=Se,Qe=Ce;D()(Se,"components",{QPage:Ue.Z,QCard:y.Z,QBreadcrumbs:Ze.Z,QBreadcrumbsEl:Ae.Z})}}]);
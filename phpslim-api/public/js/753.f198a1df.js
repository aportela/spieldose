"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[753],{9954:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Ul});l(2879);var t=l(9835),o=l(499),n=l(6970),i=l(8339),s=l(1569),r=l(5253),u=l(9302),d=l(6647),c=l(4537),m=l(1957);const p=["title"],v=["title"],g="background: url(images/vinyl.png) no-repeat; background-size: cover;",b={__name:"SidebarPlayerAlbumCover",props:{animation:Boolean,animated:Boolean,normalImage:String,smallImage:String},emits:["change"],setup(e,{emit:a}){const l=e,i=a,{t:s}=(0,d.QT)(),r=(0,o.iH)({normal:l.normalImage,small:l.smallImage}),u=(0,t.Fl)((()=>l.normalImage||null)),c=(0,t.Fl)((()=>l.smallImage||null));function m(){i("change")}return(0,t.YP)(c,(e=>{r.value.small=e})),(0,t.YP)(u,(e=>{r.value.normal=e})),(a,l)=>{const i=(0,t.up)("q-img");return e.animation?((0,t.wg)(),(0,t.iD)("div",{key:0,id:"spieldose-sidebar-vinyl-container",class:(0,n.C_)(["cursor-pointer",{"spieldose-sidebar-animation-rotation-infinite":e.animated}]),style:g,onClick:m,title:(0,o.SU)(s)("Toggle art animation")},[r.value.small?((0,t.wg)(),(0,t.j4)(i,{key:0,src:r.value.small,onError:l[0]||(l[0]=e=>r.value.small=null),"img-class":"vinyl_mini_cover","no-spinner":""},null,8,["src"])):(0,t.kq)("",!0)],10,p)):((0,t.wg)(),(0,t.iD)("div",{key:1,id:"spieldose-sidebar-fullcover-container",class:"cursor-pointer",onClick:m,title:(0,o.SU)(s)("Toggle art animation")},[r.value.normal?((0,t.wg)(),(0,t.j4)(i,{key:0,src:r.value.normal,onError:l[1]||(l[1]=e=>r.value.normal=null),alt:"Album cover",width:"400px",height:"400px","spinner-color":"pink"},null,8,["src"])):((0,t.wg)(),(0,t.j4)(i,{key:1,src:"images/vinyl.png",alt:"Vinyl",width:"400px",height:"400px","spinner-color":"pink"}))],8,v))}}};var w=l(335),k=l(9984),f=l.n(k);const y=b,_=y;f()(b,"components",{QImg:w.Z});var h=l(9925),S=l(5090);const x=["title"],W={__name:"SidebarPlayerSpectrumAnalyzer",props:{create:Boolean,active:Boolean,mode:Number},emits:["change"],setup(e,{emit:a}){const l=e,n=a,{t:i}=(0,d.QT)(),s=(0,S.H)(),r=(0,o.iH)(l.mode||7),u=(0,o.iH)(null),c=(0,t.Fl)((()=>l.create)),m=(0,t.Fl)((()=>l.active||!1));function p(e){const a={source:s.getAudioInstance,start:!1,width:400,height:40,maxFPS:30,mode:r.value,ledBars:!0,showPeaks:!0,trueLeds:!1,barSpace:.2,showScaleX:!1,showScaleY:!1,channelLayout:"single",colorcurrentMode:"gradient",splitGradient:!1,bgAlpha:1,overlay:!0,showBgColor:!0};u.value=new h.Z(document.getElementById("spieldose-sidebar-analyzer-container"),a);const l={bgColor:"#fff",dir:"v",colorStops:[{color:"#d30320",level:.9},{color:"#d72c43",level:.8},{color:"#db5063",level:.6},{color:"#de6b7b",level:.4},{color:"#e399a3",level:.2}]};u.value.registerGradient("default-spieldose",l),u.value.gradient="default-spieldose",s.setAudioMotionAnalyzerSource(u.value.connectedSources[0]),e&&u.value.start()}function v(){++r.value>8&&(r.value=1),u.value&&u.value.setOptions({mode:r.value,barSpace:(9-r.value)/10}),n("change",{mode:r.value})}return(0,t.YP)(c,((e,a)=>{a||!e||u.value||p(l.active)})),(0,t.YP)(m,(e=>{u.value&&(e?u.value.start():u.value.stop())})),(0,t.bv)((()=>{l.create&&p(l.active)})),(e,a)=>((0,t.wg)(),(0,t.iD)("div",{id:"spieldose-sidebar-analyzer-container",class:"cursor-pointer",title:(0,o.SU)(i)("Toggle analyzer octave bands number"),onClick:v},null,8,x))}},z=W,q=z,U={__name:"SidebarPlayerVolumeControl",props:{defaultValue:Number,isMuted:Boolean},emits:["volumeChange","toggleMute"],setup(e,{emit:a}){const l=e,i=a,s=(0,o.iH)(l.defaultValue||1),r=(0,t.Fl)((()=>0==s.value||l.isMuted?"volume_off":s.value<.4?"volume_mute":s.value<.7?"volume_down":"volume_up")),u=(0,t.Fl)((()=>Math.round(100*s.value)));function d(){i("toggleMute")}function c(e){i("volumeChange",e)}return(a,l)=>{const o=(0,t.up)("q-icon"),i=(0,t.up)("q-item-section"),p=(0,t.up)("q-slider"),v=(0,t.up)("q-item"),g=(0,t.up)("q-list");return(0,t.wg)(),(0,t.j4)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{class:(0,n.C_)(["cursor-pointer",{"text-pink":e.isMuted}]),name:r.value,onClick:(0,m.iM)(d,["stop"])},null,8,["name","class"])])),_:1}),(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),min:0,max:1,step:.05,label:"","label-value":u.value+"%",onChange:l[1]||(l[1]=e=>c(s.value))},null,8,["modelValue","label-value"])])),_:1}),(0,t.Wm)(i,{side:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(u.value)+"% ",1)])),_:1})])),_:1})])),_:1})}}};var A=l(3246),M=l(490),C=l(6749),P=l(2857),T=l(8423);const Z=U,I=Z;f()(U,"components",{QList:A.Z,QItem:M.Z,QItemSection:C.Z,QIcon:P.Z,QSlider:T.Z});const V={key:0,class:"q-px-md",style:{"max-width":"400px"}},F=["title"],Q=["title"],B={key:1},E={class:"text-center ellipsis"},D={key:1},L={key:1,class:"q-px-md",style:{"max-width":"400px"}},N=["title"],j={class:"text-center"},H={class:"text-center ellipsis"},R=["href"],O=(0,t._)("span",null," ",-1),G={key:2},Y=(0,t._)("p",{class:"text-weight-bolder"}," ",-1),K=(0,t._)("p",null," ",-1),X=(0,t._)("p",null," ",-1),J=[Y,K,X],$={__name:"SidebarPlayerTrackInfo",props:{track:Object,radioStation:Object},setup(e){const a=e,l=(0,t.Fl)((()=>null!=a.track)),o=(0,t.Fl)((()=>null!=a.radioStation));return(a,i)=>{const s=(0,t.up)("router-link"),r=(0,t.up)("q-btn"),u=(0,t.up)("q-btn-group");return l.value?((0,t.wg)(),(0,t.iD)("div",V,[(0,t._)("p",{class:"text-center text-weight-bolder ellipsis text-pink",title:e.track.title||" "},(0,n.zw)(e.track.title||null),9,F),(0,t._)("p",{class:"text-center ellipsis",title:e.track.album.title||null},[e.track.album.title?((0,t.wg)(),(0,t.j4)(s,{key:0,style:{"text-decoration":"none"},to:{name:"album",params:{title:e.track.album.title},query:{mbId:e.track.album.mbId,artistName:e.track.album.artist.name,artistMBId:e.track.album.artist.mbId,year:e.track.album.year}}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.track.album.title),1)])),_:1},8,["to"])):((0,t.wg)(),(0,t.iD)("span",B," "))],8,Q),(0,t._)("p",E,[e.track.artist.name?((0,t.wg)(),(0,t.j4)(s,{key:0,style:{"text-decoration":"none"},to:{name:"artist",params:{name:e.track.artist.name},query:{mbid:e.track.artist.mbId,tab:"overview"}},title:e.track.artist.name},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.track.artist.name),1)])),_:1},8,["to","title"])):((0,t.wg)(),(0,t.iD)("span",D," "))])])):o.value?((0,t.wg)(),(0,t.iD)("div",L,[(0,t._)("p",{class:"text-center text-weight-bolder ellipsis text-pink",title:e.radioStation.name},(0,n.zw)(e.radioStation.name||" "),9,N),(0,t._)("p",j,[(0,t.Wm)(u,{outline:""},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{outline:"",size:"sm",icon:"playlist_play",label:"playlist",disable:!e.radioStation.playlist,href:e.radioStation.playlist,target:"_new"},null,8,["disable","href"]),(0,t.Wm)(r,{outline:"",size:"sm",icon:"play_arrow",label:"direct stream",disable:!e.radioStation.directStream,href:e.radioStation.directStream,target:"_new"},null,8,["disable","href"])])),_:1})]),(0,t._)("p",H,[e.radioStation.url?((0,t.wg)(),(0,t.iD)("a",{key:0,href:e.radioStation.url,target:"_blank",style:{"text-decoration":"none"}},(0,n.zw)(e.radioStation.url),9,R)):(0,t.kq)("",!0),O])])):((0,t.wg)(),(0,t.iD)("div",G,J))}}};var ee=l(7236),ae=l(8879);const le=$,te=le;f()($,"components",{QBtnGroup:ee.Z,QBtn:ae.Z});const oe={id:"player_controls"},ne={class:"q-pa-md q-gutter-sm text-center"},ie={__name:"SidebarPlayerMainControls",props:{disabled:Boolean,allowSkipPrevious:Boolean,allowPlay:Boolean,allowSkipNext:Boolean,playerStatus:String},emits:["skipPrevious","play","skipNext"],setup(e,{emit:a}){const l=e,o=a,i=(0,t.Fl)((()=>"paused"==l.playerStatus?"pause":"play_arrow"));function s(){o("play")}function r(){o("skipPrevious")}function u(){o("skipNext")}return(a,l)=>{const o=(0,t.up)("q-icon"),d=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)("div",oe,[(0,t._)("div",ne,[(0,t.Wm)(d,{round:"",dense:"",size:"md",disable:e.disabled||!e.allowSkipPrevious,onClick:r},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"skip_previous",title:"Skip to previous track"})])),_:1},8,["disable"]),(0,t.Wm)(d,{round:"",dense:"",size:"lg",disable:e.disabled||!e.allowPlay,onClick:s,class:"q-mx-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:i.value,title:"Play/Pause/Resume track",class:(0,n.C_)({"text-pink-6":"playing"==e.playerStatus||"paused"==e.playerStatus})},null,8,["name","class"])])),_:1},8,["disable"]),(0,t.Wm)(d,{round:"",dense:"",size:"md",disable:e.disabled||!e.allowSkipNext,onClick:u},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"skip_next",title:"Skip to next track"})])),_:1},8,["disable"])])])}}},se=ie,re=se;f()(ie,"components",{QBtn:ae.Z,QIcon:P.Z});const ue={__name:"SidebarPlayerSeekControl",props:{disabled:Boolean,currentElementTimeData:Object},emits:["seek"],setup(e,{emit:a}){const l=e,i=a,s=(0,t.Fl)((()=>l.currentElementTimeData.position));(0,t.YP)(s,(e=>{r.value=parseFloat(e)}));const r=(0,o.iH)(0);function u(){i("seek",r.value)}function d(e,a){if(e&&Number.isInteger(e)&&e>0){var l=Math.floor(e/3600),t=Math.floor((e-3600*l)/60),o=Math.floor(e-3600*l-60*t);return t<10&&(t="0"+t),o<10&&(o="0"+o),t+":"+o}return"00:00"}return(a,l)=>{const o=(0,t.up)("q-item-section"),i=(0,t.up)("q-slider"),s=(0,t.up)("q-item"),c=(0,t.up)("q-list");return(0,t.wg)(),(0,t.j4)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Wm)(o,{side:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(d(e.currentElementTimeData.currentTime)),1)])),_:1}),(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{disable:e.disabled,modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),min:0,max:1,step:.01,label:"","label-value":d(e.currentElementTimeData.currentTime),onChange:u},null,8,["disable","modelValue","label-value"])])),_:1}),(0,t.Wm)(o,{side:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(d(e.currentElementTimeData.duration)),1)])),_:1})])),_:1})])),_:1})}}},de=ue,ce=de;f()(ue,"components",{QList:A.Z,QItem:M.Z,QItemSection:C.Z,QSlider:T.Z});var me=l(8514);const pe={id:"current_track_actions"},ve={__name:"SidebarPlayerTrackActions",props:{id:String,disabled:Boolean,visibleAnalyzer:Boolean,shuffle:Boolean,repeatMode:String,trackFavoritedTimestamp:Number,downloadURL:String},emits:["toggleAnalyzer","toggleVisualization","toggleShuffle","toggleRepeatMode","toggleFavorite","toggleTrackDetailsModal"],setup(e,{emit:a}){const{t:l}=(0,d.QT)(),o=e,n=a,i=(0,t.Fl)((()=>{let e=null;switch(o.repeatMode){case"track":e="music_note";break;case"playlist":e="queue_music";break;default:e="replay";break}return e})),s=(0,t.Fl)((()=>{let e=null;switch(o.repeatMode){case"track":e="Repeat mode: track";break;case"playlist":e="Repeat mode: playlist";break;default:e="Repeat mode: none";break}return e}));function r(){n("toggleAnalyzer")}function u(){me.bus.emit("showFullScreenVisualization")}function c(){n("toggleShuffle")}function m(){n("toggleRepeatMode")}function p(){n("toggleFavorite")}function v(){n("toggleTrackDetailsModal")}return(a,l)=>{const o=(0,t.up)("q-icon"),n=(0,t.up)("q-btn"),d=(0,t.up)("q-btn-group");return(0,t.wg)(),(0,t.iD)("div",pe,[(0,t.Wm)(d,{spread:""},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Toggle analyzer",onClick:r},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"bar_chart",color:e.visibleAnalyzer?"pink":""},null,8,["color"])])),_:1},8,["disable"]),(0,t.Wm)(n,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Toggle shuffle"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"shuffle",color:e.shuffle?"pink":"",onClick:c},null,8,["color"])])),_:1},8,["disable"]),(0,t.Wm)(n,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:s.value,onClick:m},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:i.value,color:e.repeatMode&&"none"!=e.repeatMode?"pink":""},null,8,["name","color"])])),_:1},8,["disable","title"]),(0,t.Wm)(n,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Toggle favorite track",onClick:p},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"favorite",color:e.trackFavoritedTimestamp?"pink":""},null,8,["color"])])),_:1},8,["disable"]),e.downloadURL?((0,t.wg)(),(0,t.j4)(n,{key:0,dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Download track",href:e.downloadURL},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"file_download"})])),_:1},8,["disable","href"])):((0,t.wg)(),(0,t.j4)(n,{key:1,dense:"",unelevated:"",size:"md",disable:"",title:"Download track"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"file_download"})])),_:1})),(0,t.Wm)(n,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Toggle visualization",onClick:u},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"screenshot_monitor"})])),_:1},8,["disable"]),(0,t.Wm)(n,{dense:"",unelevated:"",size:"md",title:"View track details & lyrics",onClick:v,disable:e.disabled},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"tag"})])),_:1},8,["disable"])])),_:1})])}}},ge=ve,be=ge;f()(ve,"components",{QBtnGroup:ee.Z,QBtn:ae.Z,QIcon:P.Z});var we=l(4376),ke=l(7149);const fe={key:0,style:{width:"1024px","max-width":"80vw",background:"#fff"}},ye={class:"text-h6"},_e={class:"q-pa-md"},he={class:"q-ma-none text-h5 text-grey-9"},Se={key:0,class:"q-my-sm text-h5 text-grey-9 q-pl-lg q-ml-md"},xe=["href"],We={key:1},ze={key:1,class:"q-ma-none q-pt-md text-h6 text-grey-8"},qe=["href"],Ue={key:1},Ae={key:2,class:"q-my-none q-pl-md q-ml-lg text-subtitle1 text-grey-8"},Me={key:3,class:"q-my-none q-pl-md q-ml-lg text-subtitle1 text-grey-8"},Ce={key:4,class:"q-mt-md text-subtitle2 text-grey-9"},Pe={class:"q-pa-md"},Te={class:"bg-white q-mt-none q-pt-none text-center"},Ze={key:0,class:"q-mt-xl"},Ie={key:1,class:"text-h6 text-center text-grey-8"},Ve={__name:"SidebarPlayerTrackDetailsModal",props:{trackId:String,coverImage:String},emits:["hide"],setup(e,{emit:a}){const l=(0,u.Z)(),{t:i}=(0,d.QT)(),r=(0,o.iH)(400),c=e,m=(0,o.iH)(!1),p=a,v=(0,o.iH)(!0);function g(){p("hide")}const b=(0,o.iH)("myStats"),w=(0,o.iH)(null);function k(){c.trackId&&(m.value=!0),s.api.track.get(c.trackId).then((e=>{m.value=!1,w.value=e.data.track})).catch((e=>{m.value=!1,l.notify({type:"negative",message:"API Error: error loading track details",caption:i("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})}),m.value=!1}))}function f(e){e!=b.value&&(b.value=e)}return(0,t.bv)((()=>{k()})),(a,l)=>{const s=(0,t.up)("q-space"),u=(0,t.up)("q-btn"),d=(0,t.up)("q-card-section"),c=(0,t.up)("q-card"),m=(0,t.up)("q-img"),p=(0,t.up)("q-icon"),k=(0,t.up)("q-btn-group"),y=(0,t.up)("q-splitter"),_=(0,t.up)("q-dialog"),h=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(_,{modelValue:v.value,"onUpdate:modelValue":l[4]||(l[4]=e=>v.value=e),onHide:g},{default:(0,t.w5)((()=>[w.value?((0,t.wg)(),(0,t.iD)("div",fe,[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{class:"row items-center q-pb-none"},{default:(0,t.w5)((()=>[(0,t._)("div",ye,(0,n.zw)((0,o.SU)(i)("Track details")),1),(0,t.Wm)(s),(0,t.wy)((0,t.Wm)(u,{icon:"close",flat:"",round:"",dense:""},null,512),[[h]])])),_:1})])),_:1}),(0,t.Wm)(y,{modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=e=>r.value=e),unit:"px",style:{height:"768px"},disable:"","after-class":"q-pa-none"},{before:(0,t.w5)((()=>[(0,t.Wm)(m,{src:w.value.covers.normal||"images/vinyl-medium.png",onError:l[0]||(l[0]=e=>w.value.covers.normal="images/vinyl-medium.png"),width:"400px",height:"400px","spinner-color":"pink"},null,8,["src"]),(0,t._)("div",_e,[(0,t._)("p",he,[(0,t.Wm)(p,{name:"music_note",class:"q-mr-sm"}),(0,t.Uk)(" "+(0,n.zw)(w.value.title),1)]),w.value.artist.name?((0,t.wg)(),(0,t.iD)("p",Se,[(0,t.Uk)((0,n.zw)((0,o.SU)(i)("by"))+" ",1),w.value.artist.mbId?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"text-grey-9",href:"https://musicbrainz.org/artist/"+w.value.artist.mbId,target:"blank"},(0,n.zw)(w.value.artist.name),9,xe)):((0,t.wg)(),(0,t.iD)("span",We,(0,n.zw)(w.value.artist.name),1))])):(0,t.kq)("",!0),w.value.album.title?((0,t.wg)(),(0,t.iD)("p",ze,[(0,t.Wm)(p,{name:"album",class:"q-mr-md"}),w.value.album.mbId?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"q-ml-xs text-grey-8",href:"https://musicbrainz.org/release/"+w.value.album.mbId,target:"_blank"},(0,n.zw)(w.value.album.title),9,qe)):((0,t.wg)(),(0,t.iD)("span",Ue,(0,n.zw)(w.value.album.title),1))])):(0,t.kq)("",!0),w.value.trackNumber?((0,t.wg)(),(0,t.iD)("p",Ae,(0,n.zw)((0,o.SU)(i)("Track number"))+": "+(0,n.zw)(w.value.trackNumber),1)):(0,t.kq)("",!0),w.value.album.year?((0,t.wg)(),(0,t.iD)("p",Me,(0,n.zw)((0,o.SU)(i)("On year"))+" "+(0,n.zw)(w.value.album.year),1)):(0,t.kq)("",!0),w.value.favorited?((0,t.wg)(),(0,t.iD)("p",Ce,[(0,t.Wm)(p,{name:"favorite",class:"q-mr-sm"}),(0,t.Uk)(" "+(0,n.zw)((0,o.SU)(i)("Favorited on"))+": "+(0,n.zw)((0,o.SU)(we.ZP).formatDate(1e3*w.value.favorited,"YYYY-MM-DD HH:mm:ssZ")),1)])):(0,t.kq)("",!0)])])),after:(0,t.w5)((()=>[(0,t.Wm)(ke.Z,{globalStats:"globalStats"==b.value,trackId:e.trackId},{prepend:(0,t.w5)((()=>[(0,t.Wm)(k,{spread:"",color:"white","text-color":"text-pink-7"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{label:(0,o.SU)(i)("My stats"),icon:"person",color:"myStats"==b.value?"pink":"dark",onClick:l[1]||(l[1]=e=>f("myStats"))},null,8,["label","color"]),(0,t.Wm)(u,{label:(0,o.SU)(i)("Global stats"),icon:"public",color:"globalStats"==b.value?"pink":"dark",onClick:l[2]||(l[2]=e=>f("globalStats"))},null,8,["label","color"])])),_:1})])),_:1},8,["globalStats","trackId"]),(0,t._)("div",Pe,[(0,t._)("h4",Te,(0,n.zw)((0,o.SU)(i)("Lyrics")),1),w.value.lyrics?((0,t.wg)(),(0,t.iD)("pre",Ze,(0,n.zw)(w.value.lyrics),1)):((0,t.wg)(),(0,t.iD)("p",Ie,[(0,t.Wm)(p,{name:"warning"}),(0,t.Uk)(" "+(0,n.zw)((0,o.SU)(i)("No lyrics found")),1)]))])])),_:1},8,["modelValue"])])):(0,t.kq)("",!0)])),_:1},8,["modelValue"])}}};var Fe=l(7743),Qe=l(4458),Be=l(3190),Ee=l(136),De=l(7498),Le=l(2146);const Ne=Ve,je=Ne;f()(Ve,"components",{QDialog:Fe.Z,QCard:Qe.Z,QCardSection:Be.Z,QSpace:Ee.Z,QBtn:ae.Z,QSplitter:De.Z,QImg:w.Z,QIcon:P.Z,QBtnGroup:ee.Z}),f()(Ve,"directives",{ClosePopup:Le.Z});l(4867);var He=l(8106);const Re={__name:"SidebarPlayer",setup(e){const a=(0,u.Z)(),{t:l}=(0,d.QT)(),n=(0,S.H)(),i=(0,t.Fl)((()=>n.getCurrentPlaylistElement)),s=(0,o.iH)(!1),r=(0,t.Fl)((()=>n.isCurrentPlaylistElementATrack)),c=(0,t.Fl)((()=>i.value&&i.value.track?i.value.track.id||null:i.value&&i.value.radioStation&&i.value.radioStation.id||null)),p=(0,t.Fl)((()=>i.value?i.value.track&&i.value.track.covers?i.value.track.covers.normal||null:i.value.radioStation&&i.value.radioStation.images&&i.value.radioStation.images.normal||null:null)),v=((0,t.Fl)((()=>i.value?i.value.track&&i.value.track.covers?i.value.track.covers.small||null:i.value.radioStation&&i.value.radioStation.images&&i.value.radioStation.images.small||null:null)),(0,t.Fl)((()=>null==c.value))),g=(0,o.iH)({duration:0,currentTime:0,currentProgress:0,position:0});function b(e){n.interact(),n.play(e)}function w(){n.interact(),n.allowSkipPrevious&&He.jZ.skipToPreviousElement().then((e=>{})).catch((e=>{}))}function k(){n.interact(),n.allowSkipNext&&He.jZ.skipToNextElement().then((e=>{})).catch((e=>{}))}function f(e){e>=0&&e<1&&n.setCurrentTime(n.getDuration*e)}(0,t.bv)((()=>{const e=(0,o.iH)(n.getAudioInstance);e.value.addEventListener("ended",(e=>{r.value&&He.dC.increasePlayCount(c.value).then((e=>{})).catch((e=>{switch(e.response.status){default:a.notify({type:"negative",message:l("API Error: error increasing track play count"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}})),"playlist"==n.getRepeatMode?n.allowSkipNext||(n.stop(),He.jZ.skipToElementIndex(0).then((e=>{})).catch((e=>{}))):"track"==n.getRepeatMode?(n.stop(),n.play()):n.allowSkipNext?He.jZ.skipToNextElement().then((e=>{})).catch((e=>{})):n.stop()})),e.value.addEventListener("error",(e=>{console.debug("Audio loading error"),console.log(e)})),e.value.addEventListener("timeupdate",(a=>{r.value?(g.value.currentProgress=e.value.currentTime/e.value.duration,g.value.duration=Math.floor(e.value.duration),g.value.currentTime=Math.floor(e.value.currentTime),isNaN(g.value.currentProgress)?g.value.position=0:g.value.position=Number(g.value.currentProgress.toFixed(2))):(g.value.currentProgress=0,g.value.duration=0,g.value.currentTime=0,g.value.position=0)}))}));function y(){const e=i.value.track.favorited?He.dC.unSetFavorite:He.dC.setFavorite;e(i.value.track.id,"SidebarPlayer").then((e=>{n.toggleFavoriteOnCurrentTrack(e.data.favorited)})).catch((e=>{switch(e.response.status){default:a.notify({type:"negative",message:l("API Error: error toggling favorite flag"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}return(e,a)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(_,{normalImage:(0,o.SU)(n).getCurrentPlaylistElementNormalImage,smallImage:(0,o.SU)(n).getCurrentPlaylistElementSmallImage,animation:(0,o.SU)(n).hasSidebarTopArtAnimationMode,animated:(0,o.SU)(n).isPlaying,onChange:a[0]||(a[0]=e=>(0,o.SU)(n).toggleSidebarTopArtAnimationMode())},null,8,["normalImage","smallImage","animation","animated"]),(0,t.wy)((0,t.Wm)(q,{create:(0,o.SU)(n).hasPreviousUserInteractions&&((0,o.SU)(n).hasCurrentPlaylistElements||(0,o.SU)(n).hasCurrentPlaylistARadioStation),active:(0,o.SU)(n).isSidebarAudioMotionAnalyzerVisible,mode:(0,o.SU)(n).getSidebarAudioMotionAnalyzerMode,onChange:a[1]||(a[1]=e=>(0,o.SU)(n).setSidebarAudioMotionAnalyzerMode(e.mode))},null,8,["create","active","mode"]),[[m.F8,(0,o.SU)(n).isSidebarAudioMotionAnalyzerVisible]]),(0,t.Wm)(I,{isMuted:(0,o.SU)(n).isMuted,defaultValue:(0,o.SU)(n).getVolume,onVolumeChange:a[2]||(a[2]=e=>(0,o.SU)(n).setVolume(e)),onToggleMute:a[3]||(a[3]=e=>(0,o.SU)(n).toggleMute())},null,8,["isMuted","defaultValue"]),(0,t.Wm)(te,{track:i.value.track,radioStation:i.value.radioStation},null,8,["track","radioStation"]),(0,t.Wm)(re,{disabled:!1,allowSkipPrevious:(0,o.SU)(n).allowSkipPrevious,allowPlay:(0,o.SU)(n).hasCurrentPlaylistElements||(0,o.SU)(n).hasCurrentPlaylistARadioStation,allowSkipNext:(0,o.SU)(n).allowSkipNext,playerStatus:(0,o.SU)(n).getPlayerStatus,onSkipPrevious:a[4]||(a[4]=e=>w()),onPlay:a[5]||(a[5]=e=>b()),onSkipNext:a[6]||(a[6]=e=>k())},null,8,["allowSkipPrevious","allowPlay","allowSkipNext","playerStatus"]),(0,t.Wm)(ce,{disabled:v.value||!r.value,currentElementTimeData:g.value,onSeek:f},null,8,["disabled","currentElementTimeData"]),(0,t.Wm)(be,{disabled:v.value,id:c.value,downloadURL:(0,o.SU)(n).isCurrentPlaylistElementATrack?(0,o.SU)(n).getCurrentPlaylistElementURL||"#":null,trackFavoritedTimestamp:r.value?i.value.track.favorited:null,visibleAnalyzer:(0,o.SU)(n).isSidebarAudioMotionAnalyzerVisible,shuffle:(0,o.SU)(n).getShuffle,repeatMode:(0,o.SU)(n).getRepeatMode,onToggleAnalyzer:a[7]||(a[7]=e=>(0,o.SU)(n).toggleSidebarAudioMotionAnalyzer()),onToggleShuffle:a[8]||(a[8]=e=>(0,o.SU)(n).toggleShuffeMode()),onToggleRepeatMode:a[9]||(a[9]=e=>(0,o.SU)(n).toggleRepeatMode()),onToggleFavorite:y,onToggleTrackDetailsModal:a[10]||(a[10]=e=>s.value=!0)},null,8,["disabled","id","downloadURL","trackFavoritedTimestamp","visibleAnalyzer","shuffle","repeatMode"]),s.value?((0,t.wg)(),(0,t.j4)(je,{key:0,coverImage:p.value,trackId:c.value,onHide:a[11]||(a[11]=e=>s.value=!1)},null,8,["coverImage","trackId"])):(0,t.kq)("",!0)]))}},Oe=Re,Ge=Oe,Ye={__name:"AppLeftSidebar",setup(e){const a=(0,u.Z)();return(e,l)=>{const i=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(i,{class:(0,n.C_)(["q-mb-md",{fixed:(0,o.SU)(a).screen.gt.md}])},{default:(0,t.w5)((()=>[(0,t.Wm)(Ge)])),_:1},8,["class"])}}},Ke=Ye,Xe=Ke;f()(Ye,"components",{QCard:Qe.Z});const Je={class:"text-center"},$e={class:"text-weight-medium"},ea={class:"text-grey-8 q-gutter-xs"},aa={class:"text-weight-medium"},la=(0,t._)("br",null,null,-1),ta={class:"text-grey-8 q-gutter-xs"},oa={class:"text-weight-medium"},na={class:"text-grey-8 q-gutter-xs"},ia={__name:"ToolbarSearch",props:{disable:Boolean},setup(e){const a=(0,u.Z)(),{t:l}=(0,d.QT)(),i=(0,o.iH)(null),r=(0,o.iH)([]),c=(0,o.iH)(!1),m=(0,o.iH)([]);function p(e,t){e&&e.trim().length>0?c.value||(r.value=[],c.value=!0,t((()=>{s.api.globalSearch.search({text:e},1,3,!1,"","ASC").then((e=>{m.value=e.data.data,r.value=[],r.value=r.value.concat(m.value.tracks.map((e=>({isTrack:!0,id:e.id,label:e.title,caption:l("fastSearchResultCaption",{artistName:e.artist.name,albumTitle:e.album.title,albumYear:e.album.year})})))),r.value=r.value.concat(m.value.albums.map((e=>({isAlbum:!0,id:e.mbId,label:e.title,caption:"by  "+e.artist.name+" ("+e.year+")",artist:e.artist,year:e.year,image:e.covers.small})))),r.value=r.value.concat(m.value.artists.map((e=>({isMBArtist:!1,isArtist:!0,id:e.mbId,label:e.name,caption:"total tracks: "+e.totalTracks})))),c.value=!1})).catch((e=>{c.value=!1,a.notify({type:"negative",message:l("API Error: fatal error"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})}))}))):t((()=>{r.value=[]}))}function v(e){He.dC.play(e)}function g(e){He.dC.enqueue(e)}function b(e,t,o,n){He.up.play(e||null,t||null,o?o.mbId:null,o?o.name:null,n||null).then((e=>{})).catch((e=>{switch(e.response.status){default:a.notify({type:"negative",message:l("API Error: error playing album"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}function w(e,t,o,n){He.up.enqueue(e||null,t||null,o?o.mbId:null,o?o.name:null,n||null).then((e=>{})).catch((e=>{switch(e.response.status){default:a.notify({type:"negative",message:l("API Error: error enqueueing album"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}return(a,s)=>{const u=(0,t.up)("q-spinner"),d=(0,t.up)("q-item-section"),m=(0,t.up)("q-item"),k=(0,t.up)("q-icon"),f=(0,t.up)("q-item-label"),y=(0,t.up)("q-btn"),_=(0,t.up)("q-separator"),h=(0,t.up)("q-img"),S=(0,t.up)("q-list"),x=(0,t.up)("q-select");return(0,t.wg)(),(0,t.j4)(x,{ref:"search",dense:"",standout:"","use-input":"","hide-selected":"",class:"q-mx-md",filled:"",color:"pink","stack-label":!1,label:(0,o.SU)(l)("Search..."),modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),options:r.value,onFilter:p,style:{"min-width":"24%"},disable:e.disable},(0,t.Nv)({option:(0,t.w5)((e=>[(0,t.Wm)(S,{class:"bg-grey-2 text-dark"},{default:(0,t.w5)((()=>[e.opt.isTrack?((0,t.wg)(),(0,t.j4)(m,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{avatar:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"music_note",color:"black",size:"34px"})])),_:1}),(0,t.Wm)(d,{top:"",class:"col-1 gt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Uk)("Track")])),_:1})])),_:1}),(0,t.Wm)(d,{top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{lines:"1"},{default:(0,t.w5)((()=>[(0,t._)("span",$e,(0,n.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(f,{caption:"",lines:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.opt.caption),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(d,{top:"",side:""},{default:(0,t.w5)((()=>[(0,t._)("div",ea,[(0,t.Wm)(y,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"play_arrow",title:(0,o.SU)(l)("play track"),onClick:a=>v(e.opt.id)},null,8,["title","onClick"]),(0,t.Wm)(y,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"add_box",title:(0,o.SU)(l)("enqueue track"),onClick:a=>g(e.opt.id)},null,8,["title","onClick"])])])),_:2},1024),(0,t.Wm)(_)])),_:2},1024)):e.opt.isAlbum?((0,t.wg)(),(0,t.j4)(m,{key:1},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{avatar:"",top:""},{default:(0,t.w5)((()=>[e.opt.image?((0,t.wg)(),(0,t.j4)(h,{key:0,src:e.opt.image,style:{width:"34px",height:"34px"}},{error:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"album",color:"black",size:"34px"})])),_:2},1032,["src"])):((0,t.wg)(),(0,t.j4)(k,{key:1,name:"album",color:"black",size:"34px"}))])),_:2},1024),(0,t.Wm)(d,{top:"",class:"col-1 gt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Uk)("Album")])),_:1})])),_:1}),(0,t.Wm)(d,{top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{lines:"1"},{default:(0,t.w5)((()=>[(0,t._)("span",aa,(0,n.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(f,{caption:"",lines:"2"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.opt.caption)+" ",1),la,(0,t.Uk)(" total tracks: 13 ")])),_:2},1024)])),_:2},1024),(0,t.Wm)(d,{top:"",side:""},{default:(0,t.w5)((()=>[(0,t._)("div",ta,[(0,t.Wm)(y,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"play_arrow",title:(0,o.SU)(l)("play album"),onClick:a=>b(e.opt.id,e.opt.label,e.opt.artist,e.opt.year)},null,8,["title","onClick"]),(0,t.Wm)(y,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"add_box",title:(0,o.SU)(l)("enqueue album"),onClick:a=>w(e.opt.id,e.opt.label,e.opt.artist,e.opt.year)},null,8,["title","onClick"])])])),_:2},1024)])),_:2},1024)):e.opt.isArtist?((0,t.wg)(),(0,t.j4)(m,{key:2,clickable:"",to:{name:"artist",params:{name:e.opt.label},query:{mbid:e.opt.id,tab:"overview"}}},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{avatar:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{name:"person",color:"black",size:"34px"})])),_:1}),(0,t.Wm)(d,{top:"",class:"col-1 gt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Uk)("Artist")])),_:1})])),_:1}),(0,t.Wm)(d,{top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{lines:"1"},{default:(0,t.w5)((()=>[(0,t._)("span",oa,(0,n.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(f,{caption:"",lines:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.opt.caption),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(d,{top:"",side:""},{default:(0,t.w5)((()=>[(0,t._)("div",na,[(0,t.Wm)(k,{class:"gt-xs",size:"sm",flat:"",dense:"",round:"",name:"link"})])])),_:1})])),_:2},1032,["to"])):(0,t.kq)("",!0)])),_:2},1024)])),_:2},[c.value?{name:"no-option",fn:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t._)("div",Je,[(0,t.Wm)(u,{color:"pink",size:"32px"})])])),_:1})])),_:1})])),key:"0"}:void 0]),1032,["label","modelValue","options","disable"])}}};var sa=l(6384),ra=l(3902),ua=l(3115),da=l(926);const ca=ia,ma=ca;f()(ia,"components",{QSelect:sa.Z,QItem:M.Z,QItemSection:C.Z,QSpinner:ra.Z,QList:A.Z,QIcon:P.Z,QItemLabel:ua.Z,QBtn:ae.Z,QSeparator:da.Z,QImg:w.Z});const pa=e=>((0,t.dD)("data-v-7adda3dc"),e=e(),(0,t.Cn)(),e),va={id:"visualization-container",style:{"background-image":"url('images/overlay.jpg')"}},ga=pa((()=>(0,t._)("div",{id:"analyzer-canvas-container"},null,-1))),ba=pa((()=>(0,t._)("div",{class:"text-h6"},"Spieldose analyzer settings ",-1))),wa={class:"row"},ka={class:"col-12"},fa={class:"row q-pb-lg"},ya={class:"col-2"},_a={class:"col-2"},ha={class:"col-2"},Sa={class:"col-2"},xa={class:"col-2"},Wa={class:"col-2"},za={class:"row q-pb-lg"},qa={class:"col-3"},Ua={class:"col-3"},Aa={class:"col-3"},Ma={class:"col-3"},Ca={key:0},Pa={class:"row"},Ta={class:"col-4"},Za={class:"col-2"},Ia={class:"col-2"},Va={class:"col-2"},Fa={class:"col-2"},Qa={class:"row"},Ba={class:"col-6",style:{"padding-left":"64px"}},Ea={class:"row"},Da={class:"col-6"},La={class:"col-6"},Na={class:"q-mt-lg"},ja={class:"text-grey-9 q-ml-lg q-mt-sm"},Ha={key:0,class:"q-mt-xl"},Ra={class:"text-grey-2 q-mt-none q-mb-sm"},Oa={key:0,class:"text-grey-5 q-mt-md q-mb-sm"},Ga={class:"text-grey-6 q-mt-xs"},Ya={key:0},Ka={class:"col-3"},Xa=pa((()=>(0,t._)("p",{class:"text-pink-3 q-mt-md"},"searching lyrics...",-1))),Ja={key:1},$a={class:"col-3"},el={class:"fixed-bottom-right"},al={__name:"FullScreenVisualization",emits:["hide","skipPrevious","play","skipNext"],setup(e,{emit:a}){const l=(0,o.iH)(!1),i=(0,S.H)(),r=(0,u.Z)(),d=Math.round(r.screen.height/2),c=(0,o.iH)(!1),p=i.currentPlaylistElementCount,v=(0,t.Fl)((()=>i.getCurrentPlaylistIndex)),g=(0,o.iH)(null),b=(0,o.iH)(!1),w=(0,t.Fl)((()=>i.getCurrentPlaylistElement)),k=(0,t.Fl)((()=>w.value.track?w.value.track.id:null));(0,t.YP)(k,(e=>{e?O():g.value=null}));const f=(0,t.Fl)((()=>w.value?w.value.track&&w.value.track.covers?w.value.track.covers.normal||null:w.value.radioStation&&w.value.radioStation.images&&w.value.radioStation.images.normal||null:null)),y=(0,t.Fl)((()=>w.value?w.value.track&&w.value.track.covers?w.value.track.covers.small||null:w.value.radioStation&&w.value.radioStation.images&&w.value.radioStation.images.small||null:null)),x=(0,o.iH)(!1),W=(0,t.Fl)((()=>i.allowSkipPrevious)),z=(0,t.Fl)((()=>i.allowSkipNext)),q=(0,t.Fl)((()=>i.allowPlay)),U={apple:{name:"Apple ][",colorStops:[{pos:.1667,color:"#61bb46"},{pos:.3333,color:"#fdb827"},{pos:.5,color:"#f5821f"},{pos:.6667,color:"#e03a3e"},{pos:.8333,color:"#963d97"},{pos:1,color:"#009ddc"}],disabled:!1},aurora:{name:"Aurora",bgColor:"#0e172a",colorStops:[{pos:.1,color:"hsl( 120, 100%, 50% )"},{pos:1,color:"hsl( 216, 100%, 50% )"}],disabled:!1},borealis:{name:"Borealis",bgColor:"#0d1526",colorStops:[{pos:.1,color:"hsl( 120, 100%, 50% )"},{pos:.5,color:"hsl( 189, 100%, 40% )"},{pos:1,color:"hsl( 290, 60%, 40% )"}],disabled:!1},candy:{name:"Candy",bgColor:"#0d0619",colorStops:[{pos:.1,color:"#ffaf7b"},{pos:.5,color:"#d76d77"},{pos:1,color:"#3a1c71"}],disabled:!1},cool:{name:"Cool",bgColor:"#0b202b",colorStops:["hsl( 208, 0%, 100% )","hsl( 208, 100%, 35% )"],disabled:!1},dusk:{name:"Dusk",bgColor:"#0e172a",colorStops:[{pos:.2,color:"hsl( 55, 100%, 50% )"},{pos:1,color:"hsl( 16, 100%, 50% )"}],disabled:!1},miami:{name:"Miami",bgColor:"#110a11",colorStops:[{pos:.024,color:"rgb( 251, 198, 6 )"},{pos:.283,color:"rgb( 224, 82, 95 )"},{pos:.462,color:"rgb( 194, 78, 154 )"},{pos:.794,color:"rgb( 32, 173, 190 )"},{pos:1,color:"rgb( 22, 158, 95 )"}],disabled:!1},orient:{name:"Orient",bgColor:"#100",colorStops:[{pos:.1,color:"#f00"},{pos:1,color:"#600"}],disabled:!1},outrun:{name:"Outrun",bgColor:"#101",colorStops:[{pos:0,color:"rgb( 255, 223, 67 )"},{pos:.182,color:"rgb( 250, 84, 118 )"},{pos:.364,color:"rgb( 198, 59, 243 )"},{pos:.525,color:"rgb( 133, 80, 255 )"},{pos:.688,color:"rgb( 74, 104, 247 )"},{pos:1,color:"rgb( 35, 210, 255 )"}],disabled:!1},pacific:{name:"Pacific Dream",bgColor:"#051319",colorStops:[{pos:.1,color:"#34e89e"},{pos:1,color:"#0f3443"}],disabled:!1},shahabi:{name:"Shahabi",bgColor:"#060613",colorStops:[{pos:.1,color:"#66ff00"},{pos:1,color:"#a80077"}],disabled:!1},summer:{name:"Summer",bgColor:"#041919",colorStops:[{pos:.1,color:"#fdbb2d"},{pos:1,color:"#22c1c3"}],disabled:!1},sunset:{name:"Sunset",bgColor:"#021119",colorStops:[{pos:.1,color:"#f56217"},{pos:1,color:"#0b486b"}],disabled:!1},tiedye:{name:"Tie Dye",colorStops:[{pos:.038,color:"rgb( 15, 209, 165 )"},{pos:.208,color:"rgb( 15, 157, 209 )"},{pos:.519,color:"rgb( 133, 13, 230 )"},{pos:.731,color:"rgb( 230, 13, 202 )"},{pos:.941,color:"rgb( 242, 180, 107 )"}],disabled:!1}},A=(0,o.iH)([{label:"classic",value:"classic"},{label:"orangered",value:"orangered"},{label:"prism",value:"prism"},{label:"rainbow",value:"rainbow"},{label:"steelblue",value:"steelblue"}]);for(const[t]of Object.entries(U))A.value.push({label:t,value:t});const M={0:"Discrete frequencies",1:"1/24th octave bands",2:"1/12th octave bands",3:"1/8th octave bands",4:"1/6th octave bands",5:"1/4th octave bands",6:"1/3rd octave bands",7:"Half octave bands",8:"Full octave bands",9:"Line / Area graph"},C=(0,t.Fl)((()=>M[F.value.audioMotionAnalyzer.mode])),P=(0,t.Fl)((()=>0!=F.value.audioMotionAnalyzer.maxFPS?F.value.audioMotionAnalyzer.maxFPS:"unlimited")),T=(0,t.Fl)((()=>0!=F.value.audioMotionAnalyzer.reflexRatio?F.value.audioMotionAnalyzer.reflexRatio:"no reflection")),Z=(0,o.iH)(null);function I(e,a){"fschange"==e&&(a.isFullscreen||(Z.value&&Z.value.destroy(),me.bus.emit("hideFullScreenVisualization")))}const V={source:null,fsElement:null,connectSpeakers:!1,gradient:"classic",fullScreen:!1,mode:2,mirror:0,height:d,barSpace:.6,maxFPS:60,showFPS:!1,radial:!1,ledBars:!0,trueLeds:!1,lumiBars:!1,alphaBars:!1,showPeaks:!0,channelLayout:"single",reflexRatio:.3,reflexAlpha:.2,reflexBright:.8,overlay:!0,showBgColor:!0,bgAlpha:.5,showScaleX:!1,showScaleY:!1,splitGradient:!1,start:!1,reflexFit:!0,onCanvasResize:null},F=(0,o.iH)(i.getFullScreenVisualizationSettings||{audioMotionAnalyzer:V});function Q(e,a){const l={};l[e]=a,Z.value.setOptions(l),i.saveFullScreenVisualizationSettings(F.value)}function B(){if(!Z.value){const e=F.value.audioMotionAnalyzer.gradient||"classic";F.value.audioMotionAnalyzer.gradient="classic",F.value.audioMotionAnalyzer.source=i.getAudioMotionAnalyzerSource,F.value.audioMotionAnalyzer.fsElement=document.getElementById("visualization-container"),F.value.audioMotionAnalyzer.onCanvasResize=I,Z.value=new h.Z(document.getElementById("analyzer-canvas-container"),F.value.audioMotionAnalyzer);for(const[a,l]of Object.entries(U))Z.value.registerGradient(a,{bgColor:l.bgColor||"#111",colorStops:l.colorStops||[]});F.value.audioMotionAnalyzer.gradient=e,Z.value.setOptions({gradient:e})}Z.value.isOn||(Z.value.toggleAnalyzer(),Z.value.toggleFullscreen())}9==F.value.audioMotionAnalyzer.mode&&(F.value.audioMotionAnalyzer.mode=10);function E(){i.interact(),i.play()}function D(){i.interact(),He.jZ.skipToPreviousElement().then((e=>{})).catch((e=>{}))}function L(){i.interact(),He.jZ.skipToNextElement().then((e=>{})).catch((e=>{}))}function N(e){i.interact(),He.jZ.skipToElementIndex(e).then((e=>{})).catch((e=>{}))}const j=(0,o.iH)([]),H=(0,o.iH)(!1);function R(){H.value=!0,He.jZ.get().then((e=>{j.value=e.data.tracks.map(((e,a)=>(e.index=a+1,e))),H.value=!1})).catch((e=>{H.value=!1}))}function O(){g.value=null,b.value=!0,w.value.track.title&&w.value.track.artist.name&&s.api.lyrics.get(w.value.track.title,w.value.track.artist.name).then((e=>{g.value=e.data.lyrics,b.value=!1})).catch((e=>{b.value=!1}))}return(0,t.bv)((()=>{R(),B()})),i.isCurrentPlaylistElementATrack&&O(),(e,a)=>{const s=(0,t.up)("q-space"),r=(0,t.up)("q-btn"),u=(0,t.up)("q-card-section"),k=(0,t.up)("q-item-label"),h=(0,t.up)("q-btn-toggle"),S=(0,t.up)("q-item-section"),U=(0,t.up)("q-item"),M=(0,t.up)("q-slider"),Z=(0,t.up)("q-card"),I=(0,t.up)("q-icon"),V=(0,t.up)("q-spinner-gears"),B=(0,t.up)("q-inner-loading"),H=(0,t.up)("q-scroll-area"),R=(0,t.up)("q-img"),O=(0,t.up)("q-avatar"),G=(0,t.up)("q-separator"),Y=(0,t.up)("q-virtual-scroll"),K=(0,t.up)("q-list");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",va,[ga,c.value?((0,t.wg)(),(0,t.j4)(Z,{key:0,id:"settings-container",class:"bg-grey-4 q-pb-lg fixed-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"row items-center q-pb-none"},{default:(0,t.w5)((()=>[ba,(0,t.Wm)(s),(0,t.Wm)(r,{icon:"close",flat:"",round:"",dense:"",class:"cursor-pointer",onClick:a[0]||(a[0]=e=>{c.value=!1})})])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t._)("div",wa,[(0,t._)("div",ka,[(0,t.Wm)(k,{header:"",class:"text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("Gradient")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{dense:"",modelValue:F.value.audioMotionAnalyzer.gradient,"onUpdate:modelValue":[a[1]||(a[1]=e=>F.value.audioMotionAnalyzer.gradient=e),a[2]||(a[2]=e=>Q("gradient",e))],unelevated:"","toggle-color":"pink",options:A.value,"no-caps":""},null,8,["modelValue","options"])])),_:1})])),_:1})])]),(0,t.Wm)(k,{header:"",class:"text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("General")])),_:1}),(0,t._)("div",fa,[(0,t._)("div",ya,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Max FPS")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,{modelValue:F.value.audioMotionAnalyzer.maxFPS,"onUpdate:modelValue":a[3]||(a[3]=e=>F.value.audioMotionAnalyzer.maxFPS=e),min:0,max:120,step:30,label:"","label-always":"","switch-label-side":"","label-value":P.value,color:"grey",onChange:a[4]||(a[4]=e=>Q("maxFPS",F.value.audioMotionAnalyzer.maxFPS))},null,8,["modelValue","label-value"])])),_:1})])),_:1})]),(0,t._)("div",_a,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Show FPS")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{dense:"",size:"sm",modelValue:F.value.audioMotionAnalyzer.showFPS,"onUpdate:modelValue":[a[5]||(a[5]=e=>F.value.audioMotionAnalyzer.showFPS=e),a[6]||(a[6]=e=>Q("showFPS",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",ha,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Analyzer mode")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,{dense:"",modelValue:F.value.audioMotionAnalyzer.mode,"onUpdate:modelValue":a[7]||(a[7]=e=>F.value.audioMotionAnalyzer.mode=e),min:0,max:9,step:1,label:"","label-always":"","switch-label-side":"","label-value":C.value,color:"grey",onChange:a[8]||(a[8]=e=>Q("mode",F.value.audioMotionAnalyzer.mode<9?F.value.audioMotionAnalyzer.mode:10))},null,8,["modelValue","label-value"])])),_:1})])),_:1})]),(0,t._)("div",Sa,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Channel Layout")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{dense:"",size:"sm",modelValue:F.value.audioMotionAnalyzer.channelLayout,"onUpdate:modelValue":[a[9]||(a[9]=e=>F.value.audioMotionAnalyzer.channelLayout=e),a[10]||(a[10]=e=>Q("channelLayout",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"mono",value:"single"},{label:"stereo (v)",value:"dual-vertical"},{label:"stereo (h)",value:"dual-horizontal"}]},null,8,["modelValue","options"])])),_:1})])),_:1})]),(0,t._)("div",xa,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Radial")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{dense:"",size:"sm",modelValue:F.value.audioMotionAnalyzer.radial,"onUpdate:modelValue":[a[11]||(a[11]=e=>F.value.audioMotionAnalyzer.radial=e),a[12]||(a[12]=e=>Q("radial",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",Wa,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Peaks")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{dense:"",size:"sm",modelValue:F.value.audioMotionAnalyzer.showPeaks,"onUpdate:modelValue":[a[13]||(a[13]=e=>F.value.audioMotionAnalyzer.showPeaks=e),a[14]||(a[14]=e=>Q("showPeaks",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}],disable:F.value.audioMotionAnalyzer.lumiBars},null,8,["modelValue","disable"])])),_:1})])),_:1})])]),(0,t.Wm)(k,{header:"",class:"q-pb-none text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("Mirror & reflex settings")])),_:1}),(0,t._)("div",za,[(0,t._)("div",qa,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Horizontal mirror")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{size:"sm",modelValue:F.value.audioMotionAnalyzer.mirror,"onUpdate:modelValue":[a[15]||(a[15]=e=>F.value.audioMotionAnalyzer.mirror=e),a[16]||(a[16]=e=>Q("mirror",e))],unelevated:"","no-caps":"","toggle-color":"pink",spread:"",options:[{label:"Left",value:-1},{label:"None",value:0},{label:"Right",value:1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",Ua,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Vertical reflex ratio")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,{modelValue:F.value.audioMotionAnalyzer.reflexRatio,"onUpdate:modelValue":a[17]||(a[17]=e=>F.value.audioMotionAnalyzer.reflexRatio=e),min:0,max:.9,step:.1,label:"","label-always":"","switch-label-side":"","label-value":T.value,color:"grey",onChange:a[18]||(a[18]=e=>Q("reflexRatio",F.value.audioMotionAnalyzer.reflexRatio))},null,8,["modelValue","label-value"])])),_:1})])),_:1})]),(0,t._)("div",Aa,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Vertical reflex alpha")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,{modelValue:F.value.audioMotionAnalyzer.reflexAlpha,"onUpdate:modelValue":a[19]||(a[19]=e=>F.value.audioMotionAnalyzer.reflexAlpha=e),min:0,max:1,step:.1,label:"","label-always":"","switch-label-side":"",color:"grey",onChange:a[20]||(a[20]=e=>Q("reflexAlpha",F.value.audioMotionAnalyzer.reflexAlpha))},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",Ma,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Vertical reflex bright")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,{modelValue:F.value.audioMotionAnalyzer.reflexBright,"onUpdate:modelValue":a[21]||(a[21]=e=>F.value.audioMotionAnalyzer.reflexBright=e),min:0,max:1,step:.1,label:"","label-always":"","switch-label-side":"",color:"grey",onChange:a[22]||(a[22]=e=>Q("reflexBright",F.value.audioMotionAnalyzer.reflexBright))},null,8,["modelValue"])])),_:1})])),_:1})])]),F.value.audioMotionAnalyzer.mode>0&&F.value.audioMotionAnalyzer.mode<9?((0,t.wg)(),(0,t.iD)("div",Ca,[(0,t.Wm)(k,{header:"",class:"text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("Octave bar settings")])),_:1}),(0,t._)("div",Pa,[(0,t._)("div",Ta,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Bar space")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,{modelValue:F.value.audioMotionAnalyzer.barSpace,"onUpdate:modelValue":a[23]||(a[23]=e=>F.value.audioMotionAnalyzer.barSpace=e),min:0,max:.9,step:.1,label:"","label-always":"","switch-label-side":"",color:"grey",onChange:a[24]||(a[24]=e=>Q("barSpace",F.value.audioMotionAnalyzer.barSpace))},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",Za,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Led bars")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{size:"sm",modelValue:F.value.audioMotionAnalyzer.ledBars,"onUpdate:modelValue":[a[25]||(a[25]=e=>F.value.audioMotionAnalyzer.ledBars=e),a[26]||(a[26]=e=>Q("ledBars",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",Ia,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("True leds")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{size:"sm",modelValue:F.value.audioMotionAnalyzer.trueLeds,"onUpdate:modelValue":[a[27]||(a[27]=e=>F.value.audioMotionAnalyzer.trueLeds=e),a[28]||(a[28]=e=>Q("trueLeds",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",Va,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Lumi bars")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{size:"sm",modelValue:F.value.audioMotionAnalyzer.lumiBars,"onUpdate:modelValue":[a[29]||(a[29]=e=>F.value.audioMotionAnalyzer.lumiBars=e),a[30]||(a[30]=e=>Q("lumiBars",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",Fa,[(0,t.Wm)(k,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Alpha bars")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{dense:"",size:"sm",modelValue:F.value.audioMotionAnalyzer.alphaBars,"onUpdate:modelValue":[a[31]||(a[31]=e=>F.value.audioMotionAnalyzer.alphaBars=e),a[32]||(a[32]=e=>Q("alphaBars",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})])]),(0,t._)("div",null,[(0,t.Wm)(k,{header:"",class:"text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("Analyzer canvas height")])),_:1}),(0,t.Wm)(U,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(M,{modelValue:F.value.audioMotionAnalyzer.height,"onUpdate:modelValue":a[33]||(a[33]=e=>F.value.audioMotionAnalyzer.height=e),min:100,max:(0,o.SU)(d),step:25,label:"","label-always":"","switch-label-side":"",color:"grey",onChange:a[34]||(a[34]=e=>Q("height",F.value.audioMotionAnalyzer.height))},null,8,["modelValue","max"])])),_:1})])),_:1})])])):(0,t.kq)("",!0)])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t._)("div",Qa,[(0,t._)("div",Ba,[(0,t._)("div",Ea,[(0,t._)("div",Da,[(0,t.Wm)(_,{normalImage:f.value,smallImage:y.value,animation:x.value,animated:(0,o.SU)(i).isPlaying,onChange:a[35]||(a[35]=e=>x.value=!x.value)},null,8,["normalImage","smallImage","animation","animated"])]),(0,t._)("div",La,[(0,t._)("div",Na,[(0,t.Wm)(r,{round:"",dense:"",size:"30px",color:"dark",style:{opacity:"0.8"},disable:l.value||!W.value,onClick:D},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{name:"skip_previous",title:"Skip to previous track"})])),_:1},8,["disable"]),(0,t.Wm)(r,{round:"",dense:"",class:"q-mx-lg",size:"60px",color:"dark",style:{opacity:"0.8"},disable:l.value,onClick:E},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{name:(0,o.SU)(i).isPlaying?"pause":"play_arrow",class:(0,n.C_)({"text-pink-6":(0,o.SU)(i).isPlaying}),title:"Play/Pause/Resume track",disable:l.value||!q.value},null,8,["name","class","disable"])])),_:1},8,["disable"]),(0,t.Wm)(r,{round:"",dense:"",size:"30px",color:"dark",style:{opacity:"0.8"},disable:l.value||!z.value,onClick:L},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{name:"skip_next",title:"Skip to next track"})])),_:1},8,["disable"])]),(0,t._)("h4",ja,"Track "+(0,n.zw)(v.value+1)+" of "+(0,n.zw)((0,o.SU)(p)||0),1)])]),(0,o.SU)(i).isCurrentPlaylistElementATrack?((0,t.wg)(),(0,t.iD)("div",Ha,[(0,t._)("h2",Ra,[(0,t.Wm)(I,{name:"music_note",size:"xl",class:"q-mr-sm"}),(0,t.Uk)((0,n.zw)(w.value.track.title||null),1)]),w.value.track.artist.name?((0,t.wg)(),(0,t.iD)("h4",Oa,"by "+(0,n.zw)(w.value.track.artist.name),1)):(0,t.kq)("",!0),(0,t._)("h4",Ga,[(0,t.Wm)(I,{name:"album",size:"xl",class:"q-mr-sm"}),(0,t.Uk)((0,n.zw)(w.value.track.album.title)+" ",1),w.value.track.album.year?((0,t.wg)(),(0,t.iD)("span",Ya,"("+(0,n.zw)(w.value.track.album.year)+")",1)):(0,t.kq)("",!0)])])):(0,t.kq)("",!0)]),(0,t._)("div",Ka,[(0,t.wy)((0,t.Wm)(Z,{dark:"",style:{width:"96%",height:"574px",background:"#000",opacity:"0.8"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"text-center text-h6"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Song lyrics ")])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(H,{style:{height:"490px"},class:"relative-position",visible:!0,"bar-style":{borderRadius:"5px",background:"grey",opacity:.6},"thumb-style":{borderRadius:"5px",background:"pink",opacity:.6}},{default:(0,t.w5)((()=>[b.value?((0,t.wg)(),(0,t.j4)(B,{key:0,dark:"",showing:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{size:"50px",color:"pink"}),Xa])),_:1})):g.value?((0,t.wg)(),(0,t.iD)("pre",Ja,(0,n.zw)(g.value),1)):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1},512),[[m.F8,(0,o.SU)(i).isCurrentPlaylistElementATrack]])]),(0,t._)("div",$a,[(0,t.Wm)(K,{dark:"",bordered:"",separator:"",style:{width:"96%",background:"#000",opacity:"0.8"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Currently playing")])),_:1})])),_:1}),(0,t.Wm)(S,{side:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(v.value+1)+" of "+(0,n.zw)((0,o.SU)(p)||0),1)])),_:1})])),_:1})])),_:1}),w.value&&w.value.track?((0,t.wg)(),(0,t.j4)(U,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[w.value.track.covers.small?((0,t.wg)(),(0,t.j4)(R,{key:0,src:w.value.track.covers.small},{error:(0,t.w5)((()=>[(0,t.Wm)(I,{name:"album"})])),_:1},8,["src"])):((0,t.wg)(),(0,t.j4)(I,{key:1,name:"album"}))])),_:1})])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(w.value.track.title),1)])),_:1}),(0,t.Wm)(k,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(w.value.track.artist.name),1)])),_:1})])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{overline:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Playlist")])),_:1}),(0,t.Wm)(k,{label:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Current playlist")])),_:1})])),_:1}),(0,t.Wm)(S,{side:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)((0,o.SU)(p))+" total tracks",1)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(G,{spaced:""}),(0,t.Wm)(Y,{style:{height:"400px"},dark:"",visible:"",separator:"",items:j.value},{default:(0,t.w5)((({item:e,index:a})=>[((0,t.wg)(),(0,t.j4)(U,{clickable:"",key:e.id,onClick:e=>N(a)},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[e.covers.small?((0,t.wg)(),(0,t.j4)(R,{key:0,src:e.covers.small},{error:(0,t.w5)((()=>[(0,t.Wm)(I,{name:"album"})])),_:2},1032,["src"])):((0,t.wg)(),(0,t.j4)(I,{key:1,name:"album"}))])),_:2},1024)])),_:2},1024),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.title),1)])),_:2},1024),(0,t.Wm)(k,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.artist.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]))])),_:1},8,["items"])])),_:1})])]),(0,t._)("div",el,[(0,t.Wm)(I,{name:"settings",color:"white",size:"xs",class:"visualization-bottom-icons cursor-pointer q-ma-xs",onClick:a[36]||(a[36]=e=>c.value=!0)})])])])}}};var ll=l(1639),tl=l(1389),ol=l(6663),nl=l(854),il=l(9120),sl=l(1357),rl=l(8697);const ul=(0,ll.Z)(al,[["__scopeId","data-v-7adda3dc"]]),dl=ul;f()(al,"components",{QCard:Qe.Z,QCardSection:Be.Z,QSpace:Ee.Z,QBtn:ae.Z,QItemLabel:ua.Z,QItem:M.Z,QItemSection:C.Z,QBtnToggle:tl.Z,QSlider:T.Z,QImg:w.Z,QIcon:P.Z,QScrollArea:ol.Z,QInnerLoading:nl.Z,QSpinnerGears:il.Z,QList:A.Z,QAvatar:sl.Z,QSeparator:da.Z,QVirtualScroll:rl.Z});var cl=l(353);const ml=(0,t._)("img",{src:"icons/favicon-96x96.png"},null,-1),pl={class:"row"},vl={class:"items-center q-px-md q-mb-none q-mx-auto",style:{width:"431px","max-width":"431px"}},gl={key:0,class:"q-pr-md col-xl col-lg col-md col-sm-12 col-xs-12 q-mb-none q-mx-auto"},bl={__name:"MainLayout",setup(e){const{t:a}=(0,d.QT)(),l=(0,u.Z)(),m=(0,i.tv)(),p=(0,r.F)();p.isLoaded||p.load();const v=(0,S.H)();v.create();const g=(0,o.iH)(!1),b=(0,o.iH)(!1),w=(0,o.iH)([{shortLabel:"EN",label:"English",value:"en-US"},{shortLabel:"ES",label:"Español",value:"es-ES"},{shortLabel:"GL",label:"Galego",value:"gl-GL"}]),k=w.value.find((e=>e.value==c.defaultLocale)),f=(0,o.iH)(k||w.value[0]),y=[{name:"dashboard",text:"Dashboard",icon:"analytics",linkRouteName:"dashboard"},{name:"current_playlist",text:"Current playlist",icon:"list_alt",linkRouteName:"currentPlaylist"},{name:"browse_artists",text:"Browse artists",icon:"person",linkRouteName:"artists"},{name:"browse_albums",text:"Browse albums",icon:"album",linkRouteName:"albums"},{name:"browse_paths",text:"Browse paths",icon:"folder_open",linkRouteName:"paths"},{name:"browse_playlists",text:"Browse playlists",icon:"list",linkRouteName:"playlists"},{name:"browse_radio_stations",text:"Browse radio stations",icon:"radio",linkRouteName:"radioStations"},{name:"profile",text:"My profile",icon:"person",linkRouteName:"profile"}];function _(e,a){f.value=e,c.i18n.global.locale.value=e.value,a&&p.saveLocale(e.value)}function h(){v.stop(),s.api.user.signOut().then((e=>{p.signOut(),m.push({name:"signIn"})})).catch((e=>{l.notify({type:"negative",message:a("API Error: fatal error"),caption:a("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})}))}return me.bus.on("showFullScreenVisualization",(()=>{b.value=!0})),me.bus.on("hideFullScreenVisualization",(()=>{b.value=!1})),g.value=!0,He.jZ.restoreCurrentPlaylistElement().then((e=>{g.value=!1})).catch((e=>{g.value=!1,l.notify({type:"negative",message:a("API Error: error restoring playlist"),caption:a("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})})),(e,i)=>{const s=(0,t.up)("q-avatar"),r=(0,t.up)("q-toolbar-title"),u=(0,t.up)("q-space"),d=(0,t.up)("q-route-tab"),c=(0,t.up)("q-item-section"),m=(0,t.up)("q-item"),v=(0,t.up)("q-separator"),k=(0,t.up)("q-list"),S=(0,t.up)("q-btn-dropdown"),x=(0,t.up)("q-btn"),W=(0,t.up)("q-tabs"),z=(0,t.up)("q-toolbar"),q=(0,t.up)("q-header"),U=(0,t.up)("q-ajax-bar"),A=(0,t.up)("router-view"),M=(0,t.up)("q-page"),C=(0,t.up)("q-page-container"),P=(0,t.up)("q-layout"),T=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(P,{view:"hHh Lpr lff"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(z,{class:"bg-grey-3 text-black shadow-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{square:"",size:"42px",class:"q-mr-sm"},{default:(0,t.w5)((()=>[ml])),_:1}),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Spieldose")])),_:1}),(0,t.Wm)(u),(0,t.Wm)(ma,{disable:g.value},null,8,["disable"]),(0,t.Wm)(W,{shrink:"",dense:"","no-caps":""},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(y,(e=>(0,t.Wm)(d,{key:e.name,to:{name:e.linkRouteName},name:e.name,icon:e.icon,label:(0,o.SU)(l).screen.gt.md?(0,o.SU)(a)(e.text):"",title:(0,o.SU)(a)(e.text),"no-caps":"","inline-label":"",disable:g.value},null,8,["to","name","icon","label","title","disable"]))),64)),(0,t.Wm)(S,{icon:"language","auto-close":"",stretch:"",flat:"",label:f.value.shortLabel,stack:"",disable:g.value},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{dense:"",style:{"min-width":"200px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{class:"GL__menu-link-signed-in"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Uk)((0,n.zw)((0,o.SU)(a)("Selected language"))+": ",1),(0,t._)("strong",null,(0,n.zw)(f.value.label),1)])])),_:1})])),_:1}),(0,t.Wm)(v),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(w.value,(e=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",disable:f.value.value==e.value,key:e.value,onClick:a=>_(e,!0)},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,(0,n.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["disable","onClick"])),[[T]]))),128))])),_:1})])),_:1},8,["label","disable"]),(0,t.Wm)(x,{round:"",dense:"",flat:"",stretch:"",icon:(0,o.SU)(cl.hjv),color:"dark","no-caps":"",href:"http://github.com/aportela/spieldose",target:"_blank",disable:g.value},null,8,["icon","disable"]),(0,t.Wm)(x,{stretch:"",icon:"logout",label:(0,o.SU)(l).screen.xl?(0,o.SU)(a)("Signout"):"",title:(0,o.SU)(a)("Signout"),flat:"","no-caps":"",stack:"",onClick:h,disable:g.value},null,8,["label","title","disable"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(C,{class:"bg-grey-3 q-mt-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(M,null,{default:(0,t.w5)((()=>[(0,t.Wm)(U),(0,t._)("div",pl,[(0,t._)("div",vl,[(0,t.Wm)(Xe)]),(0,o.SU)(p).getSingleLayoutMode?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",gl,[(0,t.Wm)(A)]))])])),_:1})])),_:1}),b.value?((0,t.wg)(),(0,t.j4)(dl,{key:0})):(0,t.kq)("",!0)])),_:1})}}};var wl=l(249),kl=l(6602),fl=l(1663),yl=l(1973),_l=l(7817),hl=l(3333),Sl=l(2045),xl=l(2133),Wl=l(9885),zl=l(1602);const ql=bl,Ul=ql;f()(bl,"components",{QLayout:wl.Z,QHeader:kl.Z,QToolbar:fl.Z,QAvatar:sl.Z,QToolbarTitle:yl.Z,QSpace:Ee.Z,QTabs:_l.Z,QRouteTab:hl.Z,QBtnDropdown:Sl.Z,QList:A.Z,QItem:M.Z,QItemSection:C.Z,QSeparator:da.Z,QBtn:ae.Z,QPageContainer:xl.Z,QPage:Wl.Z,QAjaxBar:zl.Z}),f()(bl,"directives",{ClosePopup:Le.Z})}}]);
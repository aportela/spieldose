"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[151],{4151:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Z});var n=l(9835),s=l(6970),r=l(499),o=l(1569),i=l(9302),u=l(5090),d=l(8106);const c={key:0},p={key:0},h={key:1},m={__name:"BrowsePathsPage",setup(e){const a=(0,i.Z)(),l=(0,u.H)(),m=(0,r.iH)(!1),v=(0,r.iH)(!1),k=(0,r.iH)([]),g=(0,r.iH)(null);function w(){m.value=!1,v.value=!0,o.api.path.getTree().then((e=>{k.value=e.data.items,v.value=!1})).catch((e=>{a.notify({type:"negative",message:"API Error: error loading paths",caption:t("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})}),v.value=!1}))}function b(e,a){var t,l,n;if(e==a.hash)return a;for(t=0;t<a.children.length;t+=1)if(l=a.children[t],n=b(e,l),!1!==n)return n;return!1}function f(e){l.interact();let a=b(e,k.value[0]);return a&&a.id&&a.totalFiles>0&&(v.value=!0,o.api.track.search({path:a.id},1,0,!1,"filename","ASC").then((e=>{d.oS.saveElements(e.data.data.items.map((e=>({track:e})))),v.value=!1})).catch((e=>{v.value=!1}))),!0}return w(),(e,a)=>{const t=(0,n.up)("q-breadcrumbs-el"),l=(0,n.up)("q-breadcrumbs"),r=(0,n.up)("q-icon"),o=(0,n.up)("q-tree"),i=(0,n.up)("q-card-section"),u=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(u,{class:"q-pa-lg"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{class:"q-mb-lg"},{default:(0,n.w5)((()=>[(0,n.Wm)(t,{icon:"home",label:"Spieldose"}),(0,n.Wm)(t,{icon:"person",label:"Browse paths"})])),_:1}),k.value&&k.value.length>0?((0,n.wg)(),(0,n.j4)(i,{key:0},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(o,{nodes:k.value,selected:g.value,"onUpdate:selected":[a[0]||(a[0]=e=>g.value=e),f],"node-key":"hash","label-key":"name","children-key":"children","no-transition":""},{"default-header":(0,n.w5)((e=>[e.node.totalFiles>0||e.node.children?((0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(r,{name:"playlist_play"}),(0,n.Uk)(" "+(0,s.zw)(e.node.name)+" ",1),e.node.totalFiles>0?((0,n.wg)(),(0,n.iD)("span",p,"("+(0,s.zw)(e.node.totalFiles)+" total tracks)",1)):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("span",h,(0,s.zw)(e.node.name),1))])),_:1},8,["nodes","selected"])])])),_:1})):(0,n.kq)("",!0)])),_:1})}}};var v=l(4458),k=l(2605),g=l(8052),w=l(3190),b=l(1893),f=l(2857),y=l(9984),q=l.n(y);const _=m,Z=_;q()(m,"components",{QCard:v.Z,QBreadcrumbs:k.Z,QBreadcrumbsEl:g.Z,QCardSection:w.Z,QTree:b.Z,QIcon:f.Z})}}]);
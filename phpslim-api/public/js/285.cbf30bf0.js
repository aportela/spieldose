"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[285],{6316:(a,e,t)=>{t.r(e),t.d(e,{default:()=>Pa});var l=t(9835),s=t(499),n=t(6970),o=t(9302),r=t(6647),m=t(4376),u=t(7450),i=t(8106);const c={key:0,class:"is-size-6-5 dashboard_list_item"},p={key:0},d={__name:"DashboardBaseBlockListElementTrack",props:{track:{type:Object}},setup(a){const{t:e}=(0,r.QT)();return(t,o)=>{const r=(0,l.up)("q-icon"),m=(0,l.up)("router-link");return a.track?((0,l.wg)(),(0,l.iD)("li",c,[(0,l.WI)(t.$slots,"prepend"),(0,l.Wm)(r,{name:"play_arrow",size:"sm",title:(0,s.SU)(e)("play track"),class:"cursor-pointer q-mr-xs",onClick:o[0]||(o[0]=e=>(0,s.SU)(i.dC).play(a.track.id))},null,8,["title"]),(0,l.Wm)(r,{name:"add_box",size:"sm",title:(0,s.SU)(e)("enqueue track"),class:"cursor-pointer q-mr-xs",onClick:o[1]||(o[1]=e=>(0,s.SU)(i.dC).enqueue(a.track.id))},null,8,["title"]),(0,l._)("span",null,(0,n.zw)(a.track.title),1),a.track.artist.name?((0,l.wg)(),(0,l.iD)("span",p,[(0,l.Uk)(" / "),(0,l.Wm)(m,{to:{name:"artist",params:{name:a.track.artist.name},query:{mbid:a.track.artist.mbId,tab:"overview"}}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.track.artist.name),1)])),_:1},8,["to"])])):(0,l.kq)("",!0),(0,l.WI)(t.$slots,"append")])):(0,l.kq)("",!0)}}};var b=t(2857),y=t(9984),k=t.n(y);const w=d,v=w;k()(d,"components",{QIcon:b.Z});const g={key:0,class:"is-size-6-5 dashboard_list_item"},D={key:0},q={__name:"DashboardBaseBlockListElementArtist",props:{artist:{type:Object}},setup(a){return(e,t)=>{const s=(0,l.up)("q-icon"),o=(0,l.up)("router-link");return a.artist?((0,l.wg)(),(0,l.iD)("li",g,[(0,l.WI)(e.$slots,"prepend"),(0,l.Wm)(s,{name:"link",size:"sm",class:"q-mr-xs"}),a.artist.name?((0,l.wg)(),(0,l.iD)("span",D,[(0,l.Wm)(o,{to:{name:"artist",params:{name:a.artist.name},query:{mbid:a.artist.mbId,tab:"overview"}}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.artist.name),1)])),_:1},8,["to"])])):(0,l.kq)("",!0),(0,l.WI)(e.$slots,"append")])):(0,l.kq)("",!0)}}},Y=q,_=Y;k()(q,"components",{QIcon:b.Z});const f={key:0,class:"is-size-6-5 dashboard_list_item"},h={key:1},S={key:2},U={key:3},Z={__name:"DashboardBaseBlockListElementAlbum",props:{album:{type:Object}},setup(a){return(e,t)=>{const s=(0,l.up)("q-icon"),o=(0,l.up)("router-link");return a.album?((0,l.wg)(),(0,l.iD)("li",f,[(0,l.WI)(e.$slots,"prepend"),(0,l.Wm)(s,{name:"album",size:"sm",class:"q-mr-xs"}),a.album.title?((0,l.wg)(),(0,l.j4)(o,{key:0,style:{"text-decoration":"none"},to:{name:"album",params:{title:a.album.title},query:{mbId:a.album.mbId,artistName:a.album.albumArtistName,artistMBId:a.album.albumArtistMBId,year:a.album.year}}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.album.title),1)])),_:1},8,["to"])):((0,l.wg)(),(0,l.iD)("span",h,"Â ")),a.album.year?((0,l.wg)(),(0,l.iD)("span",S," ("+(0,n.zw)(a.album.year)+") ",1)):(0,l.kq)("",!0),a.album.albumArtistName?((0,l.wg)(),(0,l.iD)("span",U,[(0,l.Uk)(" / "),(0,l.Wm)(o,{to:{name:"artist",params:{name:a.album.albumArtistName},query:{mbid:a.album.albumArtistMBId,tab:"overview"}}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.album.albumArtistName),1)])),_:1},8,["to"])])):(0,l.kq)("",!0),(0,l.WI)(e.$slots,"append")])):(0,l.kq)("",!0)}}},W=Z,x=W;k()(Z,"components",{QIcon:b.Z});const P={key:0,class:"is-size-6-5 dashboard_list_item"},T={__name:"DashboardBaseBlockListElementGenre",props:{genre:{type:Object}},setup(a){return(e,t)=>{const s=(0,l.up)("q-icon");return a.genre?((0,l.wg)(),(0,l.iD)("li",P,[(0,l.WI)(e.$slots,"prepend"),(0,l.Wm)(s,{name:"tag",size:"sm"}),(0,l._)("span",null,(0,n.zw)(a.genre.name),1),(0,l.WI)(e.$slots,"append")])):(0,l.kq)("",!0)}}},M=T,z=M;k()(T,"components",{QIcon:b.Z});var C=t(1569);const Q={key:0,class:"q-px-sm"},I={class:"q-ml-sm"},H={key:1,class:"q-px-sm"},B={class:"q-ml-sm"},A={key:2,class:"q-px-sm"},N={class:"q-ml-sm"},j={key:3,class:"q-px-sm"},L={class:"q-ml-sm"},E={key:4},K={key:0,class:"text-h5 text-center q-py-sm q-mt-xl q-mt-sm"},V={key:1,class:"text-h5 text-center q-py-sm q-mt-xl q-mt-sm"},$=5,F={__name:"DashboardBaseBlockTop",props:{icon:{type:String},entity:{type:String},globalStats:Boolean},setup(a){const e=(0,o.Z)(),{t}=(0,r.QT)(),i=(0,s.iH)(!1),c=(0,s.iH)([]),p=(0,s.iH)(null),d=a,b=(0,l.Fl)((()=>d.globalStats||!1));(0,l.YP)(b,(a=>{y.global=b.value,Y()}));let y={fromDate:null,toDate:null,global:b.value};(0,l.YP)(p,(a=>{switch(y={fromDate:null,toDate:null,global:b.value},a){case"today":y.fromDate=m.ZP.formatDate(Date.now(),"YYYYMMDD"),y.toDate=m.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastWeek":y.fromDate=m.ZP.formatDate(m.ZP.addToDate(Date.now(),{days:-7}),"YYYYMMDD"),y.toDate=m.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastMonth":y.fromDate=m.ZP.formatDate(m.ZP.addToDate(Date.now(),{months:-1}),"YYYYMMDD"),y.toDate=m.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastYear":y.fromDate=m.ZP.formatDate(m.ZP.addToDate(Date.now(),{years:-1}),"YYYYMMDD"),y.toDate=m.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"always":break}Y()}));const k=[{label:"Today",value:"today"},{label:"Last week",value:"lastWeek"},{label:"Last month",value:"lastMonth"},{label:"Last year",value:"lastYear"},{label:"Always",value:"always"}],w=(0,l.Fl)((()=>{switch(d.entity){case"tracks":return t("Top played tracks");case"artists":return t("Top played artists");case"albums":return t("Top played albums");case"genres":return t("Top played genres");default:return null}}));let g=null;switch(d.entity){case"tracks":g=C.api.metrics.getTracks;break;case"artists":g=C.api.metrics.getArtists;break;case"albums":g=C.api.metrics.getAlbums;break;case"genres":g=C.api.metrics.getGenres;break}const D=(0,s.iH)(Date.now()),q=(0,s.iH)(!1);function Y(){q.value=!1,p.value&&(i.value=!0,g(y,"playCount",$).then((a=>{c.value=a.data.data,D.value=Date.now(),i.value=!1})).catch((a=>{c.value=[],q.value=!0,i.value=!1,e.notify({type:"negative",message:"API Error: error loading metrics",caption:t("API Error: fatal error details",{status:a.response.status,statusText:a.response.statusText})})})))}return p.value="lastWeek",(e,o)=>{const r=(0,l.up)("q-tab"),m=(0,l.up)("q-tabs"),d=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.j4)((0,l.LL)(u.Z),{icon:a.icon||"format_list_numbered",title:w.value,loading:i.value,onRefresh:Y},{tabs:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=a=>p.value=a),"no-caps":"",class:"text-pink-7 q-mb-md"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(k,(a=>(0,l.Wm)(r,{key:a.value,name:a.value,label:(0,s.SU)(t)(a.label)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),list:(0,l.w5)((()=>["tracks"==a.entity?((0,l.wg)(),(0,l.iD)("ol",Q,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value,((a,e,o,r)=>{const m=D.value;if(r&&r.key===a.id&&(0,l.nQ)(r,m))return r;const u=((0,l.wg)(),(0,l.j4)(v,{key:a.id,track:a.track},{append:(0,l.w5)((()=>[(0,l._)("span",I,(0,n.zw)(a.playCount)+" "+(0,n.zw)((0,s.SU)(t)(a.playCount>1?"nPlayCounts":"onePlayCount")),1)])),_:2},1032,["track"]));return u.memo=m,u}),o,1),128))])):"artists"==a.entity?((0,l.wg)(),(0,l.iD)("ol",H,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value,((a,e,o,r)=>{const m=D.value;if(r&&r.key===a.id&&(0,l.nQ)(r,m))return r;const u=((0,l.wg)(),(0,l.j4)(_,{key:a.id,artist:a},{append:(0,l.w5)((()=>[(0,l._)("span",B,(0,n.zw)(a.playCount)+" "+(0,n.zw)((0,s.SU)(t)(a.playCount>1?"nPlayCounts":"onePlayCount")),1)])),_:2},1032,["artist"]));return u.memo=m,u}),o,3),128))])):"albums"==a.entity?((0,l.wg)(),(0,l.iD)("ol",A,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value,((a,e,o,r)=>{const m=D.value;if(r&&r.key===a.id&&(0,l.nQ)(r,m))return r;const u=((0,l.wg)(),(0,l.j4)(x,{key:a.id,album:a},{append:(0,l.w5)((()=>[(0,l._)("span",N,(0,n.zw)(a.playCount)+" "+(0,n.zw)((0,s.SU)(t)(a.playCount>1?"nPlayCounts":"onePlayCount")),1)])),_:2},1032,["album"]));return u.memo=m,u}),o,5),128))])):"genres"==a.entity?((0,l.wg)(),(0,l.iD)("ol",j,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value,((a,e,o,r)=>{const m=D.value;if(r&&r.key===a.id&&(0,l.nQ)(r,m))return r;const u=((0,l.wg)(),(0,l.j4)(z,{key:a.id,genre:a},{append:(0,l.w5)((()=>[(0,l._)("span",L,(0,n.zw)(a.playCount)+" "+(0,n.zw)((0,s.SU)(t)(a.playCount>1?"nPlayCounts":"onePlayCount")),1)])),_:2},1032,["genre"]));return u.memo=m,u}),o,7),128))])):(0,l.kq)("",!0),i.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",E,[q.value?((0,l.wg)(),(0,l.iD)("h5",K,[(0,l.Wm)(d,{name:"error",size:"xl"}),(0,l.Uk)(" "+(0,n.zw)((0,s.SU)(t)("Error loading data")),1)])):c.value&&c.value.length>0?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("h5",V,[(0,l.Wm)(d,{name:"warning",size:"xl"}),(0,l.Uk)(" "+(0,n.zw)((0,s.SU)(t)("No enought data")),1)]))]))])),_:1},40,["icon","title","loading"])}}};var R=t(7817),G=t(7661);const O=F,J=O;k()(F,"components",{QTabs:R.Z,QTab:G.Z,QIcon:b.Z});var X=t(8442);const aa={key:0,class:"q-px-sm"},ea={key:1,class:"q-px-sm"},ta={key:2,class:"q-px-sm"},la={key:3,class:"q-px-sm"},sa={key:4},na={key:0,class:"text-h5 text-center q-py-sm q-mt-xl q-mt-sm"},oa={key:1,class:"text-h5 text-center q-py-sm q-mt-xl q-mt-sm"},ra=5,ma={__name:"DashboardBaseBlockRecently",props:{icon:{type:String},played:{type:Boolean},added:{type:Boolean},globalStats:Boolean},setup(a){const e=(0,o.Z)(),{t}=(0,r.QT)(),m=(0,s.iH)(!1),i=(0,s.iH)([]),c=(0,l.Fl)((()=>{let a=null;return b.played?a=t("Recently played"):b.added&&(a=t("Recently added")),a})),p=(0,s.iH)(null);(0,l.YP)(p,(()=>{k={global:y.value},D()}));const d=[{label:"Tracks",value:"tracks",function:C.api.metrics.getTracks,listItemType:""},{label:"Artists",value:"artists",function:C.api.metrics.getArtists},{label:"Albums",value:"albums",function:C.api.metrics.getAlbums},{label:"Genres",value:"genres",function:C.api.metrics.getGenres}],b=a,y=(0,l.Fl)((()=>b.globalStats||!1));(0,l.YP)(y,(a=>{b.played&&(k.global=y.value,D())}));let k={global:y.value};const w=(0,s.iH)(Date.now()),g=(0,s.iH)(!1);function D(){if(g.value=!1,p.value){i.value=[];const a=d.filter((a=>a.value==p.value))[0].function;m.value=!0;let l=null;b.played?l="recentlyPlayed":b.added&&(l="recentlyAdded"),a(k,l,ra).then((a=>{i.value=a.data.data,w.value=Date.now(),m.value=!1})).catch((a=>{i.value=[],g.value=!0,m.value=!1,e.notify({type:"negative",message:"API Error: error loading metrics",caption:t("API Error: fatal error details",{status:a.response.status,statusText:a.response.statusText})})}))}}return p.value="tracks",(e,o)=>{const r=(0,l.up)("q-tab"),b=(0,l.up)("q-tabs"),y=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.j4)((0,l.LL)(u.Z),{icon:a.icon||"format_list_numbered",title:c.value,loading:m.value,onRefresh:D},{tabs:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=a=>p.value=a),"no-caps":"",class:"text-pink-7 q-mb-md"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(d,(a=>(0,l.Wm)(r,{key:a.value,name:a.value,label:(0,s.SU)(t)(a.label)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),list:(0,l.w5)((()=>["tracks"==p.value?((0,l.wg)(),(0,l.iD)("ol",aa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.value,((e,t,s,n)=>{const o=w.value;if(n&&n.key===e.id&&(0,l.nQ)(n,o))return n;const r=((0,l.wg)(),(0,l.j4)(v,{key:e.id,track:e.track},(0,l.Nv)({_:2},[a.played?{name:"append",fn:(0,l.w5)((()=>[(0,l.Wm)(X.Z,{className:"q-ml-sm",timestamp:1e3*e.lastPlayTimestamp},{prepend:(0,l.w5)((()=>[(0,l.Uk)("(")])),append:(0,l.w5)((()=>[(0,l.Uk)(")")])),_:2},1032,["timestamp"])])),key:"0"}:a.added?{name:"append",fn:(0,l.w5)((()=>[(0,l.Wm)(X.Z,{className:"q-ml-sm",timestamp:1e3*e.addedTimestamp},{prepend:(0,l.w5)((()=>[(0,l.Uk)("(")])),append:(0,l.w5)((()=>[(0,l.Uk)(")")])),_:2},1032,["timestamp"])])),key:"1"}:void 0]),1032,["track"]));return r.memo=o,r}),o,1),128))])):"artists"==p.value?((0,l.wg)(),(0,l.iD)("ol",ea,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.value,((e,t,s,n)=>{const o=w.value;if(n&&n.key===e.id&&(0,l.nQ)(n,o))return n;const r=((0,l.wg)(),(0,l.j4)(_,{key:e.id,artist:e},(0,l.Nv)({_:2},[a.played?{name:"append",fn:(0,l.w5)((()=>[(0,l.Wm)(X.Z,{className:"q-ml-sm",timestamp:1e3*e.lastPlayTimestamp},{prepend:(0,l.w5)((()=>[(0,l.Uk)("(")])),append:(0,l.w5)((()=>[(0,l.Uk)(")")])),_:2},1032,["timestamp"])])),key:"0"}:a.added?{name:"append",fn:(0,l.w5)((()=>[(0,l.Wm)(X.Z,{className:"q-ml-sm",timestamp:1e3*e.addedTimestamp},{prepend:(0,l.w5)((()=>[(0,l.Uk)("(")])),append:(0,l.w5)((()=>[(0,l.Uk)(")")])),_:2},1032,["timestamp"])])),key:"1"}:void 0]),1032,["artist"]));return r.memo=o,r}),o,3),128))])):"albums"==p.value?((0,l.wg)(),(0,l.iD)("ol",ta,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.value,((e,t,s,n)=>{const o=w.value;if(n&&n.key===e.id&&(0,l.nQ)(n,o))return n;const r=((0,l.wg)(),(0,l.j4)(x,{key:e.id,album:e},(0,l.Nv)({_:2},[a.played?{name:"append",fn:(0,l.w5)((()=>[(0,l.Wm)(X.Z,{className:"q-ml-sm",timestamp:1e3*e.lastPlayTimestamp},{prepend:(0,l.w5)((()=>[(0,l.Uk)("(")])),append:(0,l.w5)((()=>[(0,l.Uk)(")")])),_:2},1032,["timestamp"])])),key:"0"}:a.added?{name:"append",fn:(0,l.w5)((()=>[(0,l.Wm)(X.Z,{className:"q-ml-sm",timestamp:1e3*e.addedTimestamp},{prepend:(0,l.w5)((()=>[(0,l.Uk)("(")])),append:(0,l.w5)((()=>[(0,l.Uk)(")")])),_:2},1032,["timestamp"])])),key:"1"}:void 0]),1032,["album"]));return r.memo=o,r}),o,5),128))])):"genres"==p.value?((0,l.wg)(),(0,l.iD)("ol",la,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.value,((e,t,s,n)=>{const o=w.value;if(n&&n.key===e.name&&(0,l.nQ)(n,o))return n;const r=((0,l.wg)(),(0,l.j4)(z,{key:e.name,genre:e},(0,l.Nv)({_:2},[a.played?{name:"append",fn:(0,l.w5)((()=>[(0,l.Wm)(X.Z,{className:"q-ml-sm",timestamp:1e3*e.lastPlayTimestamp},{prepend:(0,l.w5)((()=>[(0,l.Uk)("(")])),append:(0,l.w5)((()=>[(0,l.Uk)(")")])),_:2},1032,["timestamp"])])),key:"0"}:a.added?{name:"append",fn:(0,l.w5)((()=>[(0,l.Wm)(X.Z,{className:"q-ml-sm",timestamp:1e3*e.addedTimestamp},{prepend:(0,l.w5)((()=>[(0,l.Uk)("(")])),append:(0,l.w5)((()=>[(0,l.Uk)(")")])),_:2},1032,["timestamp"])])),key:"1"}:void 0]),1032,["genre"]));return r.memo=o,r}),o,7),128))])):(0,l.kq)("",!0),m.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",sa,[g.value?((0,l.wg)(),(0,l.iD)("h5",na,[(0,l.Wm)(y,{name:"error",size:"xl"}),(0,l.Uk)(" "+(0,n.zw)((0,s.SU)(t)("Error loading data")),1)])):i.value&&i.value.length>0?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("h5",oa,[(0,l.Wm)(y,{name:"warning",size:"xl"}),(0,l.Uk)(" "+(0,n.zw)((0,s.SU)(t)("No enought data")),1)]))]))])),_:1},40,["icon","title","loading"])}}},ua=ma,ia=ua;k()(ma,"components",{QTabs:R.Z,QTab:G.Z,QIcon:b.Z});var ca=t(7149),pa=(t(2879),t(1957)),da=t(9844);const ba={id:"ct-chart-play-stats-by-user"},ya={key:0},ka={key:0,class:"text-h5 text-center q-py-sm q-mt-xl q-mt-sm"},wa={key:1,class:"text-h5 text-center q-py-sm q-mt-xl q-mt-sm"},va={__name:"DashboardBaseBlockPlayStatsByUserChart",props:{icon:{type:String}},setup(a){const e=(0,o.Z)(),{t}=(0,r.QT)(),i=(0,s.iH)(!1);let c=[];const p=(0,s.iH)(null),d=[{label:"Today",value:"today"},{label:"Last week",value:"lastWeek"},{label:"Last month",value:"lastMonth"},{label:"Last year",value:"lastYear"},{label:"Always",value:"always"}];let b={fromDate:null,toDate:null};(0,l.YP)(p,(a=>{switch(b={fromDate:null,toDate:null},a){case"today":b.fromDate=m.ZP.formatDate(Date.now(),"YYYYMMDD"),b.toDate=m.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastWeek":b.fromDate=m.ZP.formatDate(m.ZP.addToDate(Date.now(),{days:-7}),"YYYYMMDD"),b.toDate=m.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastMonth":b.fromDate=m.ZP.formatDate(m.ZP.addToDate(Date.now(),{months:-1}),"YYYYMMDD"),b.toDate=m.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"lastYear":b.fromDate=m.ZP.formatDate(m.ZP.addToDate(Date.now(),{years:-1}),"YYYYMMDD"),b.toDate=m.ZP.formatDate(Date.now(),"YYYYMMDD");break;case"always":break}v()}));const y={low:0,showArea:!0,fullWidth:!0,chartPadding:{left:48,right:48}};function k(){let a=[],e=[];c.forEach((t=>{a.push(t.name),e.push(t.total)})),new da.vz("#ct-chart-play-stats-by-user",{labels:a,series:[e]},y)}const w=(0,s.iH)(!1);function v(){w.value=!1,p.value&&(i.value=!0,C.api.metrics.getMetricsByUser(b).then((a=>{c=a.data.data,i.value=!1,(0,l.Y3)((()=>{k()}))})).catch((a=>{w.value=!0,i.value=!1,e.notify({type:"negative",message:"API Error: error loading metrics",caption:t("API Error: fatal error details",{status:a.response.status,statusText:a.response.statusText})})})))}return p.value="lastWeek",(e,o)=>{const r=(0,l.up)("q-tab"),m=(0,l.up)("q-tabs"),b=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.j4)((0,l.LL)(u.Z),{icon:a.icon||"analytics",title:(0,s.SU)(t)("User play stats"),loading:i.value,onRefresh:v},{tabs:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=a=>p.value=a),"no-caps":"",class:"text-pink-7 q-mb-md"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(d,(a=>(0,l.Wm)(r,{key:a.value,name:a.value,label:(0,s.SU)(t)(a.label)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),chart:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",ba,null,512),[[pa.F8,(0,s.SU)(c)&&(0,s.SU)(c).length>0]]),i.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ya,[w.value?((0,l.wg)(),(0,l.iD)("h5",ka,[(0,l.Wm)(b,{name:"error",size:"xl"}),(0,l.Uk)(" "+(0,n.zw)((0,s.SU)(t)("Error loading data")),1)])):(0,s.SU)(c)&&(0,s.SU)(c).length>0?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("h5",wa,[(0,l.Wm)(b,{name:"warning",size:"xl"}),(0,l.Uk)(" "+(0,n.zw)((0,s.SU)(t)("No enought data")),1)]))]))])),_:1},40,["icon","title","loading"])}}},ga=va,Da=ga;k()(va,"components",{QTabs:R.Z,QTab:G.Z,QIcon:b.Z});const qa={class:"row"},Ya={class:"row"},_a={class:"col-12"},fa={key:0,class:"row"},ha={class:"col-12"},Sa={__name:"DashboardPage",setup(a){const e=(0,o.Z)(),{t}=(0,r.QT)(),m=(0,s.iH)([{label:"My stats",value:"myStats",icon:"person"},{label:"Global stats",value:"globalStats",icon:"public"}]),u=(0,s.iH)(m.value[0].value),i=(0,l.Fl)((()=>e.screen.width>=2560?"col-xl-4":"col-xl-6"));return(a,e)=>{const o=(0,l.up)("q-breadcrumbs-el"),r=(0,l.up)("q-breadcrumbs"),c=(0,l.up)("q-tab"),p=(0,l.up)("q-tabs"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(d,{class:"q-pa-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"q-mb-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{icon:"home",label:"Spieldose"}),(0,l.Wm)(o,{icon:"analytics",label:(0,s.SU)(t)("Dashboard")},null,8,["label"])])),_:1}),(0,l.Wm)(p,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),"inline-label":"","no-caps":"",dense:"",class:"text-pink-7 q-mb-md shadow-2"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value,(a=>((0,l.wg)(),(0,l.j4)(c,{key:a.value,name:a.value,icon:a.icon,label:(0,s.SU)(t)(a.label)},null,8,["name","icon","label"])))),128))])),_:1},8,["modelValue"]),(0,l._)("div",qa,[(0,l._)("div",{class:(0,n.C_)(["col-lg-6 col-12",i.value])},[(0,l.Wm)(J,{entity:"tracks",globalStats:"globalStats"==u.value},null,8,["globalStats"])],2),(0,l._)("div",{class:(0,n.C_)(["col-lg-6 col-12",i.value])},[(0,l.Wm)(J,{entity:"artists",globalStats:"globalStats"==u.value},null,8,["globalStats"])],2),(0,l._)("div",{class:(0,n.C_)(["col-lg-6 col-12",i.value])},[(0,l.Wm)(J,{entity:"albums",globalStats:"globalStats"==u.value},null,8,["globalStats"])],2),(0,l._)("div",{class:(0,n.C_)(["col-lg-6 col-12",i.value])},[(0,l.Wm)(J,{entity:"genres",globalStats:"globalStats"==u.value},null,8,["globalStats"])],2),(0,l._)("div",{class:(0,n.C_)(["col-lg-6 col-12",i.value])},[(0,l.Wm)(ia,{played:!0,globalStats:"globalStats"==u.value},null,8,["globalStats"])],2),(0,l._)("div",{class:(0,n.C_)(["col-lg-6 col-12",i.value])},[(0,l.Wm)(ia,{added:!0,globalStats:"globalStats"==u.value},null,8,["globalStats"])],2)]),(0,l._)("div",Ya,[(0,l._)("div",_a,[(0,l.Wm)(ca.Z,{globalStats:"globalStats"==u.value},null,8,["globalStats"])])]),"globalStats"==u.value?((0,l.wg)(),(0,l.iD)("div",fa,[(0,l._)("div",ha,[(0,l.Wm)(Da,{globalStats:!0})])])):(0,l.kq)("",!0)])),_:1})}}};var Ua=t(4458),Za=t(2605),Wa=t(8052);const xa=Sa,Pa=xa;k()(Sa,"components",{QCard:Ua.Z,QBreadcrumbs:Za.Z,QBreadcrumbsEl:Wa.Z,QTabs:R.Z,QTab:G.Z})}}]);
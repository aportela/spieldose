"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[320],{6320:(e,a,l)=>{l.r(a),l.d(a,{default:()=>M});var t=l(9835),s=l(499),o=l(1957),n=l(6970),r=l(8339),i=l(1569),u=l(9302);const c={class:"row q-gutter-xs"},d={class:"col"},m={key:0,class:"col-xl-2 col-lg-2 col-md-3 col-sm-4 col-xs-4"},p={class:"col-xl-1 col-lg-2 col-md-3 col-sm-4 col-xs-4"},g={class:"col-xl-1 col-lg-2 col-md-3 col-sm-4 col-xs-4"},v={key:0,class:"q-pa-lg flex flex-center"},b={class:"absolute-bottom text-subtitle1 text-center"},w={class:"text-caption q-mb-none"},k={class:"absolute-full flex flex-center bg-grey-3 text-dark"},f={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},x={class:"text-caption q-mb-none"},q={class:"absolute-full flex flex-center bg-grey-3 text-dark"},h={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},_={class:"text-caption q-mb-none"},y={__name:"BrowseArtistsPage",setup(e){const a=(0,u.Z)(),l=(0,s.iH)(null),y=(0,s.iH)(!1),U=(0,s.iH)(!1);let S=[];const T=(0,r.yj)(),V=[{label:"Name",value:"name"},{label:"Total tracks",value:"totalTracks"}],Z=(0,s.iH)(V[0]),Q=[{label:"Ascending",value:"ASC"},{label:"Descending",value:"DESC"}],W=(0,s.iH)(Q[0]);let H=[],C=(0,s.iH)([]);const z=(0,s.iH)(T.params.genre||null),I=(0,s.iH)(0),P=(0,s.iH)(1),A=(0,s.iH)(null);function D(e){e&&(P.value=1),y.value=!1,U.value=!0,i.api.artist.search({genre:z.value||null,name:l.value||null},P.value,32,Z.value.value,W.value.value).then((e=>{S=e.data.data.items,I.value=e.data.data.pager.totalPages,l.value&&e.data.data.pager.totalResults<1&&(y.value=!0),(0,t.Y3)((()=>{A.value.$el.focus()})),U.value=!1})).catch((e=>{a.notify({type:"negative",message:"API Error: error loading artists",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),U.value=!1}))}function j(e){P.value=e,D(!1)}function E(){U.value=!0,i.api.artistGenres.get().then((e=>{H=e.data.genres,T.params.genre&&(z.value=T.params.genre),C.value=H,U.value=!1})).catch((e=>{a.notify({type:"negative",message:"API Error: error loading genres ",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),U.value=!1}))}function B(e,a,l){e.length<3?l():a((()=>{const a=e.toLowerCase();C.value=H.filter((e=>e.toLowerCase().indexOf(a)>-1))}))}return E(),D(!0),(e,a)=>{const r=(0,t.up)("q-breadcrumbs-el"),i=(0,t.up)("q-breadcrumbs"),u=(0,t.up)("q-icon"),E=(0,t.up)("q-input"),M=(0,t.up)("q-chip"),N=(0,t.up)("q-badge"),F=(0,t.up)("q-item-section"),G=(0,t.up)("q-item"),K=(0,t.up)("q-select"),L=(0,t.up)("q-pagination"),R=(0,t.up)("q-spinner"),Y=(0,t.up)("q-img"),O=(0,t.up)("router-link"),X=(0,t.up)("q-card-section"),$=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)($,{class:"q-pa-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"q-mb-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{icon:"home",label:"Spieldose"}),(0,t.Wm)(r,{icon:"person",label:"Browse artists"})])),_:1}),(0,s.SU)(S)?((0,t.wg)(),(0,t.j4)(X,{key:0},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",d,[(0,t.Wm)(E,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),clearable:"",type:"search",outlined:"",dense:"",placeholder:"Text condition",hint:"Search artists with name",loading:U.value,onKeydown:a[1]||(a[1]=(0,o.D2)((0,o.iM)((e=>D(!0)),["prevent"]),["enter"])),onClear:a[2]||(a[2]=e=>{y.value=!1,D(!0)}),error:y.value,errorMessage:"No artists found with specified condition",disable:U.value,ref_key:"artistNameRef",ref:A},{prepend:(0,t.w5)((()=>[(0,t.Wm)(u,{name:"filter_alt"})])),append:(0,t.w5)((()=>[(0,t.Wm)(u,{name:"search",class:"cursor-pointer",onClick:D})])),_:1},8,["modelValue","loading","error","disable"])]),(0,s.SU)(H)&&(0,s.SU)(H).length>0?((0,t.wg)(),(0,t.iD)("div",m,[(0,t.Wm)(K,{outlined:"",dense:"",modelValue:z.value,"onUpdate:modelValue":[a[3]||(a[3]=e=>z.value=e),a[4]||(a[4]=e=>D(!0))],options:(0,s.SU)(C),"options-dense":"",label:"Genre",disable:U.value||null!=(0,s.SU)(T).params.genre,"emit-value":"",filled:"",clearable:"",hint:z.value?"Filtering by genre":"Minimum 3 characters to trigger filtering","use-input":"","hide-selected":"","input-debounce":"0",onFilter:B},{selected:(0,t.w5)((()=>[z.value?((0,t.wg)(),(0,t.j4)(M,{key:0,dense:"",square:"",color:"white","text-color":"primary",class:"q-my-none q-ml-xs q-mr-none"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(z.value.name),1)])),_:1})):((0,t.wg)(),(0,t.j4)(N,{key:1},{default:(0,t.w5)((()=>[(0,t.Uk)("*none*")])),_:1}))])),"no-option":(0,t.w5)((()=>[(0,t.Wm)(G,null,{default:(0,t.w5)((()=>[(0,t.Wm)(F,{class:"text-grey"},{default:(0,t.w5)((()=>[(0,t.Uk)(" No results ")])),_:1})])),_:1})])),_:1},8,["modelValue","options","disable","hint"])])):(0,t.kq)("",!0),(0,t._)("div",p,[(0,t.Wm)(K,{outlined:"",dense:"",modelValue:Z.value,"onUpdate:modelValue":[a[5]||(a[5]=e=>Z.value=e),a[6]||(a[6]=e=>D(!0))],options:V,"options-dense":"",label:"Sort field",disable:U.value},{"selected-item":(0,t.w5)((e=>[(0,t.Uk)((0,n.zw)(e.opt.label),1)])),_:1},8,["modelValue","disable"])]),(0,t._)("div",g,[(0,t.Wm)(K,{outlined:"",dense:"",modelValue:W.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>W.value=e),a[8]||(a[8]=e=>D(!0))],options:Q,"options-dense":"",label:"Sort order",disable:U.value},{"selected-item":(0,t.w5)((e=>[(0,t.Uk)((0,n.zw)(e.opt.label),1)])),_:1},8,["modelValue","disable"])])]),I.value>1?((0,t.wg)(),(0,t.iD)("div",v,[(0,t.Wm)(L,{modelValue:P.value,"onUpdate:modelValue":[a[9]||(a[9]=e=>P.value=e),j],color:"dark",max:I.value,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:U.value},null,8,["modelValue","max","disable"])])):(0,t.kq)("",!0),(0,t.MX)((0,s.SU)(S),(()=>((0,t.wg)(),(0,t.iD)("div",{class:"q-gutter-md row items-start"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(S),(e=>((0,t.wg)(),(0,t.j4)(O,{to:{name:"artist",params:{name:e.name}},key:e},{default:(0,t.w5)((()=>[(0,t.Wm)(Y,{"img-class":"artist_image",src:e.image||"#",width:"250px",height:"250px",fit:"cover"},{loading:(0,t.w5)((()=>[(0,t._)("div",k,[(0,t.Wm)(R,{color:"pink",size:"xl"}),(0,t._)("div",f,[(0,t.Uk)((0,n.zw)(e.name)+" ",1),(0,t._)("p",x,(0,n.zw)(e.totalTracks+" "+(e.totalTracks>1?"tracks":"track")),1)])])])),error:(0,t.w5)((()=>[(0,t._)("div",q,[(0,t._)("div",h,[(0,t.Uk)((0,n.zw)(e.name)+" ",1),(0,t._)("p",_,(0,n.zw)(e.totalTracks+" "+(e.totalTracks>1?"tracks":"track")),1)])])])),default:(0,t.w5)((()=>[(0,t._)("div",b,[(0,t.Uk)((0,n.zw)(e.name)+" ",1),(0,t._)("p",w,(0,n.zw)(e.totalTracks+" "+(e.totalTracks>1?"tracks":"track")),1)])])),_:2},1032,["src"])])),_:2},1032,["to"])))),128))]))),a,10)])),_:1})):(0,t.kq)("",!0)])),_:1})}}};var U=l(4458),S=l(2605),T=l(8052),V=l(3190),Z=l(6611),Q=l(2857),W=l(6384),H=l(7691),C=l(990),z=l(490),I=l(1233),P=l(996),A=l(335),D=l(3902),j=l(9984),E=l.n(j);const B=y,M=B;E()(y,"components",{QCard:U.Z,QBreadcrumbs:S.Z,QBreadcrumbsEl:T.Z,QCardSection:V.Z,QInput:Z.Z,QIcon:Q.Z,QSelect:W.Z,QChip:H.Z,QBadge:C.Z,QItem:z.Z,QItemSection:I.Z,QPagination:P.Z,QImg:A.Z,QSpinner:D.Z})}}]);
"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[643],{2719:(e,t,s)=>{s.d(t,{d:()=>u});var n=s(1809),l=s(8612),a=s.n(l),i=s(4958);const r=(0,i.n)(),o={namespace:"spieldose",storages:["local","cookie","session","memory"],storage:"local",expireDays:3650},u=(0,n.Q_)("currentPlaylist",{state:()=>({elements:[],shuffleIndexes:[],currentIndex:-1,elementsLastChangeTimestamp:null}),getters:{hasElements:e=>e.elements&&e.elements.length>0,getElements:e=>e.elements,elementCount:e=>e.elements?e.elements.length:0,getElementsLastChangeTimestamp:e=>e.elementsLastChangeTimestamp,getCurrentIndex:e=>r.getShuffle?e.shuffleIndexes[e.currentIndex]:e.currentIndex,getCurrentElement:e=>e.currentIndex>=0&&e.elements.length>0?e.elements[e.currentIndex]:null,getCurrentElementURL:e=>e.currentIndex>=0&&e.elements.length>0?e.elements[e.currentIndex].url:null,allowSkipPrevious:e=>e.currentIndex>0&&e.elements.length>0,allowSkipNext:e=>e.currentIndex>=0&&e.elements.length>0&&e.currentIndex<e.elements.length-1,allowPlay:e=>!0,allowPause:e=>!0,allowResume:e=>!0,allowStop:e=>!0},actions:{load(){const e=a()(o),t=e.get("currentPlaylistElements");t&&(this.elements=t);const s=e.get("shuffleIndexes");s&&(this.shuffleIndexes=s);const n=e.get("currentPlaylistElementIndex");n>=0&&(this.currentIndex=n)},saveCurrentElements(){const e=a()(o);e.set("currentPlaylistElements",this.elements),e.set("currentPlaylistElementIndex",this.currentIndex),e.set("shuffleIndexes",this.shuffleIndexes),this.elementsLastChangeTimestamp=Date.now()},saveElements(e){this.elements=e,this.shuffleIndexes=[...Array(e.length).keys()].sort((function(){return.5-Math.random()})),this.currentIndex=e&&e.length>0?0:-1,this.saveCurrentElements()},appendElements(e){this.elements=this.elements.concat(e),this.saveCurrentElements()},saveCurrentTrackIndex(e){this.currentIndex=e>=0?e:-1;const t=a()(o);t.set("currentPlaylistElementIndex",this.currentIndex)},skipPrevious(){this.saveCurrentTrackIndex(--this.currentIndex)},skipNext(){this.saveCurrentTrackIndex(++this.currentIndex)},clear(){this.elements=[],this.currentIndex=-1;const e=a()(o);e.set("currentPlaylistElements",[]),e.set(-1),this.elementsLastChangeTimestamp=Date.now()},setFavoriteTrack(e,t){const s=this.elements.findIndex((t=>t.track&&t.track.id==e));-1!==s&&(this.elements[s].track.favorited=t,this.saveCurrentElements())},unSetFavoriteTrack(e){const t=this.elements.findIndex((t=>t.track&&t.track.id==e));-1!==t&&(this.elements[t].track.favorited=null,this.saveCurrentElements())}}})},4958:(e,t,s)=>{s.d(t,{n:()=>i});var n=s(1809),l=s(1320);const a=(0,l.l)(),i=(0,n.Q_)("player",{state:()=>({repeatMode:null,shuffle:!1,element:null,hasPreviousUserInteractions:!1,originalAudioMotionAnalyzerSource:null}),getters:{getRepeatMode:e=>e.repeatMode,getShuffle:e=>e.shuffle,getElement:e=>e.element,getDuration:e=>e.element.duration},actions:{interact(){this.hasPreviousUserInteractions=!0},create(){this.element=document.createElement("audio"),this.element.id="audio_player",this.element.crossOrigin="anonymous"},setVolume(e){this.element.volume=e},setCurrentTime(e){this.element.currentTime=e},stop(){this.element.pause(),a.setStatusStopped()},load(){},play(e){e?(this.element.play(),a.setStatusPlaying()):a.isPlaying?(this.element.pause(),a.setStatusPaused()):a.isPaused?(this.element.play(),a.setStatusPlaying()):(this.element.load(),this.element.play(),a.setStatusPlaying())},setRepeatMode(e){this.repeatMode=e},toggleShuffle(){this.shuffle=!this.shuffle},setAudioMotionAnalyzerSource:function(e){this.originalAudioMotionAnalyzerSource=e},getAudioMotionAnalyzerSource:function(){return this.originalAudioMotionAnalyzerSource}}})},1320:(e,t,s)=>{s.d(t,{l:()=>l});var n=s(1809);const l=(0,n.Q_)("playerStatus",{state:()=>({status:"stopped"}),getters:{getStatus(e){return e.status},isPlaying(e){return"playing"==e.status},isStopped(e){return"stopped"==e.status},isPaused(e){return"paused"==e.status}},actions:{setStatusPlaying(){this.status="playing"},setStatusStopped(){this.status="stopped"},setStatusPaused(){this.status="paused"}}})},3643:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var n=s(9835),l=s(499),a=s(1957),i=s(6970),r=s(1569),o=s(9302),u=s(6647),d=s(4958),c=s(2719);const m={class:"row q-gutter-xs"},p={class:"col"},h={class:"col-xl-2"},g={class:"col-xl-2"},v={class:"col-xl-2"},x={key:0,class:"q-pa-lg flex flex-center"},f={class:"q-gutter-md row items-start"},y=["radioStation","onClick"],w={class:"absolute-bottom text-subtitle1 text-center"},b={class:"q-mt-none"},k={class:"absolute-full flex flex-center bg-grey-3 text-dark"},I={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},S={class:"q-mt-none"},_={class:"absolute-full flex flex-center bg-grey-3 text-dark"},P={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},C={class:"q-mt-none"},E={__name:"BrowseRadioStationsPage",setup(e){const t=(0,d.n)(),s=(0,c.d)(),E=(0,o.Z)(),{t:q}=(0,u.QT)(),T=(0,l.iH)(null),V=(0,l.iH)(null),z=(0,l.iH)([]),Q=(0,l.iH)(null),A=(0,l.iH)(!1),H=(0,l.iH)(!1);let M=[];const U=(0,l.iH)(0),W=(0,l.iH)(1);function Z(e){H.value=!0,r.api.radioStation.search(W.value,32,{name:Q.value}).then((e=>{M=e.data.data.items,H.value=!1})).catch((e=>{E.notify({type:"negative",message:"API Error: error loading radio stations",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),H.value=!1}))}function D(e){W.value=e,Z(!1)}function L(e){t.interact(),s.saveElements([{radioStation:e}])}return Z(!0),(e,t)=>{const s=(0,n.up)("q-breadcrumbs-el"),r=(0,n.up)("q-breadcrumbs"),o=(0,n.up)("q-icon"),u=(0,n.up)("q-input"),d=(0,n.up)("q-select"),c=(0,n.up)("q-pagination"),E=(0,n.up)("q-chip"),q=(0,n.up)("q-spinner"),R=(0,n.up)("q-img"),j=(0,n.up)("q-card-section"),K=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(K,{class:"q-pa-lg"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"q-mb-lg"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"home",label:"Spieldose"}),(0,n.Wm)(s,{icon:"radio",label:"Browse radio stations"})])),_:1}),(0,l.SU)(M)?((0,n.wg)(),(0,n.j4)(j,{key:0},{default:(0,n.w5)((()=>[(0,n._)("div",m,[(0,n._)("div",p,[(0,n.Wm)(u,{modelValue:Q.value,"onUpdate:modelValue":t[0]||(t[0]=e=>Q.value=e),clearable:"",type:"search",outlined:"",dense:"",placeholder:"Text condition",hint:"Search radio stations with name",loading:H.value,disable:H.value,onKeydown:t[1]||(t[1]=(0,a.D2)((0,a.iM)((e=>Z(!0)),["prevent"]),["enter"])),onClear:t[2]||(t[2]=e=>{A.value=!1,Z(!0)}),error:A.value,errorMessage:"No radio stations found with specified condition",ref:"personalRadioStationNameRef"},{prepend:(0,n.w5)((()=>[(0,n.Wm)(o,{name:"filter_alt"})])),append:(0,n.w5)((()=>[(0,n.Wm)(o,{name:"search",class:"cursor-pointer",onClick:Z})])),_:1},8,["modelValue","loading","disable","error"])]),(0,n._)("div",h,[(0,n.Wm)(d,{label:"Country",dense:"",outlined:"",options:["Spain","Portugal","France"],modelValue:T.value,"onUpdate:modelValue":t[3]||(t[3]=e=>T.value=e)},null,8,["modelValue"])]),(0,n._)("div",g,[(0,n.Wm)(d,{label:"Language",dense:"",outlined:"",options:["English","Spanish","Galician"],modelValue:V.value,"onUpdate:modelValue":t[4]||(t[4]=e=>V.value=e)},null,8,["modelValue"])]),(0,n._)("div",v,[(0,n.Wm)(d,{label:"Tags",dense:"",outlined:"",options:["news","music","rock"],multiple:"",modelValue:z.value,"onUpdate:modelValue":t[5]||(t[5]=e=>z.value=e)},null,8,["modelValue"])])]),U.value>1?((0,n.wg)(),(0,n.iD)("div",x,[(0,n.Wm)(c,{modelValue:W.value,"onUpdate:modelValue":[t[6]||(t[6]=e=>W.value=e),D],color:"dark",max:U.value,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:H.value},null,8,["modelValue","max","disable"])])):(0,n.kq)("",!0),(0,n._)("div",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(M),(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,radioStation:e,class:"cursor-pointer",onClick:t=>L(e)},[(0,n.Wm)(R,{"img-class":"radiostation_image",src:e.images.normal||"#",width:"300px",height:"300px",fit:"cover"},{loading:(0,n.w5)((()=>[(0,n._)("div",k,[(0,n.Wm)(q,{color:"pink",size:"xl"}),(0,n._)("div",I,[(0,n._)("p",S,(0,i.zw)(e.name),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tags,(e=>((0,n.wg)(),(0,n.j4)(E,{size:"md",icon:"tag","truncate-chip-labels":"",key:e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e),1)])),_:2},1024)))),128))])])])),error:(0,n.w5)((()=>[(0,n._)("div",_,[(0,n._)("div",P,[(0,n._)("p",C,(0,i.zw)(e.name),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tags,(e=>((0,n.wg)(),(0,n.j4)(E,{size:"md",icon:"tag","truncate-chip-labels":"",key:e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e),1)])),_:2},1024)))),128))])])])),default:(0,n.w5)((()=>[(0,n._)("div",w,[(0,n._)("p",b,(0,i.zw)(e.name),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tags,(e=>((0,n.wg)(),(0,n.j4)(E,{size:"md",icon:"tag","truncate-chip-labels2":"",key:e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e),1)])),_:2},1024)))),128))])])),_:2},1032,["src"])],8,y)))),128))])])),_:1})):(0,n.kq)("",!0)])),_:1})}}};var q=s(4458),T=s(2605),V=s(8052),z=s(3190),Q=s(6611),A=s(2857),H=s(6384),M=s(996),U=s(335),W=s(7691),Z=s(3902),D=s(9984),L=s.n(D);const R=E,j=R;L()(E,"components",{QCard:q.Z,QBreadcrumbs:T.Z,QBreadcrumbsEl:V.Z,QCardSection:z.Z,QInput:Q.Z,QIcon:A.Z,QSelect:H.Z,QPagination:M.Z,QImg:U.Z,QChip:W.Z,QSpinner:Z.Z})}}]);
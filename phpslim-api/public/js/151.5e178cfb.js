"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[151],{4151:(e,a,t)=>{t.r(a),t.d(a,{default:()=>_});var l=t(9835),n=t(6970),s=t(499),r=t(1569),o=t(9302),i=t(5090),u=t(8106);const d={key:0},c={key:0},p={key:1},h={__name:"BrowsePathsPage",setup(e){const a=(0,o.Z)(),t=(0,i.H)(),h=(0,s.iH)(!1),m=(0,s.iH)(!1),v=(0,s.iH)([]),k=(0,s.iH)(null);function g(){h.value=!1,m.value=!0,r.api.path.getTree().then((e=>{v.value=e.data.items,m.value=!1})).catch((e=>{a.notify({type:"negative",message:"API Error: error loading paths",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),m.value=!1}))}function w(e,a){var t,l,n;if(e==a.hash)return a;for(t=0;t<a.children.length;t+=1)if(l=a.children[t],n=w(e,l),!1!==n)return n;return!1}function b(e){t.interact();let a=w(e,v.value[0]);return a&&a.id&&a.totalFiles>0&&(m.value=!0,r.api.track.search({path:a.id},1,0,!1,"filename","ASC").then((e=>{u.oS.saveElements(e.data.data.items.map((e=>({track:e})))),m.value=!1})).catch((e=>{m.value=!1}))),!0}return g(),(e,a)=>{const t=(0,l.up)("q-breadcrumbs-el"),s=(0,l.up)("q-breadcrumbs"),r=(0,l.up)("q-icon"),o=(0,l.up)("q-tree"),i=(0,l.up)("q-card-section"),u=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(u,{class:"q-pa-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-mb-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{icon:"home",label:"Spieldose"}),(0,l.Wm)(t,{icon:"person",label:"Browse paths"})])),_:1}),v.value&&v.value.length>0?((0,l.wg)(),(0,l.j4)(i,{key:0},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(o,{nodes:v.value,selected:k.value,"onUpdate:selected":[a[0]||(a[0]=e=>k.value=e),b],"node-key":"hash","label-key":"name","children-key":"children","no-transition":""},{"default-header":(0,l.w5)((e=>[e.node.totalFiles>0||e.node.children?((0,l.wg)(),(0,l.iD)("div",d,[(0,l.Wm)(r,{name:"playlist_play"}),(0,l.Uk)(" "+(0,n.zw)(e.node.name)+" ",1),e.node.totalFiles>0?((0,l.wg)(),(0,l.iD)("span",c,"("+(0,n.zw)(e.node.totalFiles)+" total tracks)",1)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("span",p,(0,n.zw)(e.node.name),1))])),_:1},8,["nodes","selected"])])])),_:1})):(0,l.kq)("",!0)])),_:1})}}};var m=t(4458),v=t(2605),k=t(8052),g=t(3190),w=t(1893),b=t(2857),f=t(9984),y=t.n(f);const q=h,_=q;y()(h,"components",{QCard:m.Z,QBreadcrumbs:v.Z,QBreadcrumbsEl:k.Z,QCardSection:g.Z,QTree:w.Z,QIcon:b.Z})}}]);
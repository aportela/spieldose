"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[108],{2719:(e,t,a)=>{a.d(t,{d:()=>u});var s=a(1809),r=a(8612),n=a.n(r),l=a(4958);(0,l.n)();const i={namespace:"spieldose",storages:["local","cookie","session","memory"],storage:"local",expireDays:3650},u=(0,s.Q_)("currentPlaylist",{state:()=>({tracks:[],currentIndex:-1}),getters:{hasTracks:e=>e.tracks&&e.tracks.length>0,getTracks:e=>e.tracks,getCurrentIndex:e=>e.currentIndex,getCurrentTrack:e=>e.currentIndex>=0&&e.tracks.length>0?e.tracks[e.currentIndex]:null,getCurrentTrackURL:e=>e.currentIndex>=0&&e.tracks.length>0?e.tracks[e.currentIndex].url:null,allowSkipPrevious:e=>e.currentIndex>0&&e.tracks.length>0,allowSkipNext:e=>e.currentIndex>=0&&e.tracks.length>0&&e.currentIndex<e.tracks.length-1,allowPlay:e=>!0,allowPause:e=>!0,allowResume:e=>!0,allowStop:e=>!0},actions:{load(){const e=n()(i),t=e.get("currentPlaylistTracks");t&&(this.tracks=t);const a=e.get("currentPlaylistTrackIndex");a>=0&&(this.currentIndex=a)},saveTracks(e){this.tracks=e,this.currentIndex=e&&e.length>0?0:-1;const t=n()(i);t.set("currentPlaylistTracks",e),t.set("currentPlaylistTrackIndex",e&&e.length>0?0:-1)},saveCurrentTrackIndex(e){this.currentIndex=e>=0?e:-1;const t=n()(i);t.set("currentPlaylistTrackIndex",this.currentIndex)},skipPrevious(){this.currentIndex--},skipNext(){this.currentIndex++}}})},4958:(e,t,a)=>{a.d(t,{n:()=>l});var s=a(1809),r=a(1320);const n=(0,r.l)(),l=(0,s.Q_)("player",{state:()=>({element:null,hasPreviousUserInteractions:!1}),getters:{getElement:e=>e.element,getDuration:e=>e.element.duration},actions:{interact(){this.hasPreviousUserInteractions=!0},create(){this.element=document.createElement("audio"),this.element.id="audio_player"},setVolume(e){this.element.volume=e},setCurrentTime(e){this.element.currentTime=e},stop(){this.element.pause(),n.setStatusStopped()},load(){},play(e){e?(this.element.play(),n.setStatusPlaying()):n.isPlaying?(this.element.pause(),n.setStatusPaused()):n.isPaused?(this.element.play(),n.setStatusPlaying()):(this.element.load(),this.element.play(),n.setStatusPlaying())}}})},1320:(e,t,a)=>{a.d(t,{l:()=>r});var s=a(1809);const r=(0,s.Q_)("playerStatus",{state:()=>({status:"stopped"}),getters:{getStatus(e){return e.status},isPlaying(e){return"playing"==e.status},isStopped(e){return"stopped"==e.status},isPaused(e){return"paused"==e.status}},actions:{setStatusPlaying(){this.status="playing"},setStatusStopped(){this.status="stopped"},setStatusPaused(){this.status="paused"}}})},5108:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var s=a(9835),r=a(1957),n=a(6970),l=a(499),i=a(1569),u=a(9302),o=a(4958),c=a(2719);const d={key:0,class:"q-pa-lg flex flex-center"},p={class:"q-gutter-md row items-start"},m=["radioStation","onClick"],g={class:"absolute-bottom text-subtitle1 text-center"},h={class:"absolute-full flex flex-center bg-grey-3 text-dark"},v={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},k={__name:"BrowseRadioStationsPage",setup(e){const t=(0,o.n)(),a=(0,c.d)(),k=(0,u.Z)(),x=(0,l.iH)(null),y=(0,l.iH)(!1),b=(0,l.iH)(!1),w=(0,l.iH)([]),P=(0,l.iH)(0),I=(0,l.iH)(1);function S(e){e&&(I.value=1),y.value=!1,b.value=!0,i.api.radioStation.search(I.value,32,{name:x.value}).then((e=>{w.value=e.data.data.items,P.value=e.data.data.pager.totalPages,x.value&&e.data.data.pager.totalResults<1&&(y.value=!0),b.value=!1})).catch((e=>{k.notify({type:"negative",message:"API Error: error loading radio stations",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),b.value=!1}))}function f(e){I.value=e,S(!1)}function T(e){t.interact(),a.saveTracks([{radioStation:e}])}return S(!0),(e,t)=>{const a=(0,s.up)("q-breadcrumbs-el"),l=(0,s.up)("q-breadcrumbs"),i=(0,s.up)("q-icon"),u=(0,s.up)("q-input"),o=(0,s.up)("q-pagination"),c=(0,s.up)("q-img"),k=(0,s.up)("q-card-section"),_=(0,s.up)("q-card"),q=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"q-pa-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{class:"q-mb-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(a,{icon:"home",label:"Spieldose"}),(0,s.Wm)(a,{icon:"radio",label:"Browse radio stations"})])),_:1}),w.value?((0,s.wg)(),(0,s.j4)(k,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=e=>x.value=e),rounded:"",clearable:"",type:"search",outlined:"",dense:"",placeholder:"Text condition",hint:"Search radio stations with name",loading:b.value,disable:b.value,onKeydown:t[1]||(t[1]=(0,r.D2)((0,r.iM)((e=>S(!0)),["prevent"]),["enter"])),onClear:t[2]||(t[2]=e=>{y.value=!1,S(!0)}),error:y.value,errorMessage:"No radio stations found with specified condition"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"filter_alt"})])),append:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"search",class:"cursor-pointer",onClick:S})])),_:1},8,["modelValue","loading","disable","error"]),P.value>1?((0,s.wg)(),(0,s.iD)("div",d,[(0,s.Wm)(o,{modelValue:I.value,"onUpdate:modelValue":[t[3]||(t[3]=e=>I.value=e),f],color:"dark",max:P.value,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:b.value},null,8,["modelValue","max","disable"])])):(0,s.kq)("",!0),(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,radioStation:e,class:"cursor-pointer",onClick:t=>T(e)},[(0,s.Wm)(c,{"img-class":"radiostation_image",src:e.image||"#",width:"250px",height:"250px",fit:"cover"},{error:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s._)("div",v,(0,n.zw)(e.name),1)])])),default:(0,s.w5)((()=>[(0,s._)("div",g,(0,n.zw)(e.name),1)])),_:2},1032,["src"])],8,m)))),128))])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})}}};var x=a(9885),y=a(4458),b=a(2605),w=a(8052),P=a(3190),I=a(6611),S=a(2857),f=a(996),T=a(335),_=a(9984),q=a.n(_);const C=k,Q=C;q()(k,"components",{QPage:x.Z,QCard:y.Z,QBreadcrumbs:b.Z,QBreadcrumbsEl:w.Z,QCardSection:P.Z,QInput:I.Z,QIcon:S.Z,QPagination:f.Z,QImg:T.Z})}}]);
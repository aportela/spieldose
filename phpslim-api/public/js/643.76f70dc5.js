"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[643],{8106:(e,t,n)=>{n.d(t,{dC:()=>o,oS:()=>u});var l=n(6223),s=n(2719),a=n(1569),r=n(4867);const i=(0,s.d)(),o={setFavorite:function(e){return new Promise(((t,n)=>{a.api.track.setFavorite(e).then((n=>{r.spieldoseEvents.emit.track.setFavorite(e,n.data.favorited),t(n)})).catch((e=>{n(e)}))}))},unSetFavorite:function(e){return new Promise(((t,n)=>{a.api.track.unSetFavorite(e).then((n=>{r.spieldoseEvents.emit.track.unSetFavorite(e),t(n)})).catch((e=>{n(e)}))}))},play:function(e){l.spieldosePlayer.interact(),l.spieldosePlayer.isStopped()||l.spieldosePlayer.actions.stop(),i.saveElements(Array.isArray(e)?e:[{track:e}]),l.spieldosePlayer.actions.play(!0)},enqueue:function(e){player.interact(),i.appendElements(Array.isArray(e)?e:[{track:e}])}},u={saveElements:function(e){i.saveElements(e)},appendElements:function(e){i.appendElements(e)},clear:function(){i.clear()},skipPrevious:function(){i.skipPrevious()},skipNext:function(){i.skipNext()}}},2719:(e,t,n)=>{n.d(t,{d:()=>o});var l=n(1809),s=n(8612),a=n.n(s),r=n(6223);const i={namespace:"spieldose",storages:["local","cookie","session","memory"],storage:"local",expireDays:3650},o=(0,l.Q_)("currentPlaylist",{state:()=>({elements:[],shuffleIndexes:[],currentIndex:-1,elementsLastChangeTimestamp:null}),getters:{hasElements:e=>e.elements&&e.elements.length>0,getElements:e=>e.elements,elementCount:e=>e.elements?e.elements.length:0,getElementsLastChangeTimestamp:e=>e.elementsLastChangeTimestamp,getCurrentIndex:e=>r.spieldosePlayer.getShuffle()?e.shuffleIndexes[e.currentIndex]:e.currentIndex,getCurrentElement:e=>e.currentIndex>=0&&e.elements.length>0?e.elements[e.currentIndex]:null,getCurrentElementURL:e=>e.currentIndex>=0&&e.elements.length>0?e.elements[e.currentIndex].url:null,allowSkipPrevious:e=>e.currentIndex>0&&e.elements.length>0,allowSkipNext:e=>e.currentIndex>=0&&e.elements.length>0&&e.currentIndex<e.elements.length-1,allowPlay:e=>!0,allowPause:e=>!0,allowResume:e=>!0,allowStop:e=>!0},actions:{load(){const e=a()(i),t=e.get("currentPlaylistElements");t&&(this.elements=t);const n=e.get("shuffleIndexes");n&&(this.shuffleIndexes=n);const l=e.get("currentPlaylistElementIndex");l>=0&&(this.currentIndex=l)},saveCurrentElements(){const e=a()(i);e.set("currentPlaylistElements",this.elements),e.set("currentPlaylistElementIndex",this.currentIndex),e.set("shuffleIndexes",this.shuffleIndexes),this.elementsLastChangeTimestamp=Date.now()},saveElements(e){this.elements=e,this.shuffleIndexes=[...Array(e.length).keys()].sort((function(){return.5-Math.random()})),this.currentIndex=e&&e.length>0?0:-1,this.saveCurrentElements()},appendElements(e){this.elements=this.elements.concat(e),this.saveCurrentElements()},saveCurrentTrackIndex(e){this.currentIndex=e>=0?e:-1;const t=a()(i);t.set("currentPlaylistElementIndex",this.currentIndex)},skipPrevious(){this.saveCurrentTrackIndex(--this.currentIndex)},skipNext(){this.saveCurrentTrackIndex(++this.currentIndex)},clear(){this.elements=[],this.saveCurrentElements()}}})},3643:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var l=n(9835),s=n(499),a=n(1957),r=n(6970),i=n(1569),o=n(9302),u=n(6647),c=n(8106);const d={class:"row q-gutter-xs"},m={class:"col"},p={class:"col-xl-2"},g={class:"col-xl-2"},h={class:"col-xl-2"},v={key:0,class:"q-pa-lg flex flex-center"},x={class:"q-gutter-md row items-start"},f=["radioStation","onClick"],w={class:"absolute-bottom text-subtitle1 text-center"},k={class:"q-mt-none"},y={class:"absolute-full flex flex-center bg-grey-3 text-dark"},b={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},I={class:"q-mt-none"},E={class:"absolute-full flex flex-center bg-grey-3 text-dark"},_={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},C={class:"q-mt-none"},P={__name:"BrowseRadioStationsPage",setup(e){const t=(0,o.Z)(),{t:n}=(0,u.QT)(),P=(0,s.iH)(null),S=(0,s.iH)(null),q=(0,s.iH)([]),T=(0,s.iH)(null),V=(0,s.iH)(!1),H=(0,s.iH)(!1);let Q=[];const W=(0,s.iH)(0),Z=(0,s.iH)(1),U=(0,l.f3)("spieldosePlayer");function z(e){H.value=!0,i.api.radioStation.search(Z.value,32,{name:T.value}).then((e=>{Q=e.data.data.items,H.value=!1})).catch((e=>{t.notify({type:"negative",message:"API Error: error loading radio stations",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),H.value=!1}))}function D(e){Z.value=e,z(!1)}function A(e){U.interact(),c.oS.saveElements([{radioStation:e}])}return z(!0),(e,t)=>{const n=(0,l.up)("q-breadcrumbs-el"),i=(0,l.up)("q-breadcrumbs"),o=(0,l.up)("q-icon"),u=(0,l.up)("q-input"),c=(0,l.up)("q-select"),U=(0,l.up)("q-pagination"),F=(0,l.up)("q-chip"),L=(0,l.up)("q-spinner"),N=(0,l.up)("q-img"),j=(0,l.up)("q-card-section"),K=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(K,{class:"q-pa-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"q-mb-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{icon:"home",label:"Spieldose"}),(0,l.Wm)(n,{icon:"radio",label:"Browse radio stations"})])),_:1}),(0,s.SU)(Q)?((0,l.wg)(),(0,l.j4)(j,{key:0},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l._)("div",m,[(0,l.Wm)(u,{modelValue:T.value,"onUpdate:modelValue":t[0]||(t[0]=e=>T.value=e),clearable:"",type:"search",outlined:"",dense:"",placeholder:"Text condition",hint:"Search radio stations with name",loading:H.value,disable:H.value,onKeydown:t[1]||(t[1]=(0,a.D2)((0,a.iM)((e=>z(!0)),["prevent"]),["enter"])),onClear:t[2]||(t[2]=e=>{V.value=!1,z(!0)}),error:V.value,errorMessage:"No radio stations found with specified condition",ref:"personalRadioStationNameRef"},{prepend:(0,l.w5)((()=>[(0,l.Wm)(o,{name:"filter_alt"})])),append:(0,l.w5)((()=>[(0,l.Wm)(o,{name:"search",class:"cursor-pointer",onClick:z})])),_:1},8,["modelValue","loading","disable","error"])]),(0,l._)("div",p,[(0,l.Wm)(c,{label:"Country",dense:"",outlined:"",options:["Spain","Portugal","France"],modelValue:P.value,"onUpdate:modelValue":t[3]||(t[3]=e=>P.value=e)},null,8,["modelValue"])]),(0,l._)("div",g,[(0,l.Wm)(c,{label:"Language",dense:"",outlined:"",options:["English","Spanish","Galician"],modelValue:S.value,"onUpdate:modelValue":t[4]||(t[4]=e=>S.value=e)},null,8,["modelValue"])]),(0,l._)("div",h,[(0,l.Wm)(c,{label:"Tags",dense:"",outlined:"",options:["news","music","rock"],multiple:"",modelValue:q.value,"onUpdate:modelValue":t[5]||(t[5]=e=>q.value=e)},null,8,["modelValue"])])]),W.value>1?((0,l.wg)(),(0,l.iD)("div",v,[(0,l.Wm)(U,{modelValue:Z.value,"onUpdate:modelValue":[t[6]||(t[6]=e=>Z.value=e),D],color:"dark",max:W.value,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:H.value},null,8,["modelValue","max","disable"])])):(0,l.kq)("",!0),(0,l._)("div",x,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,s.SU)(Q),(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,radioStation:e,class:"cursor-pointer",onClick:t=>A(e)},[(0,l.Wm)(N,{"img-class":"radiostation_image",src:e.images.normal||"#",width:"300px",height:"300px",fit:"cover"},{loading:(0,l.w5)((()=>[(0,l._)("div",y,[(0,l.Wm)(L,{color:"pink",size:"xl"}),(0,l._)("div",b,[(0,l._)("p",I,(0,r.zw)(e.name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tags,(e=>((0,l.wg)(),(0,l.j4)(F,{size:"md",icon:"tag","truncate-chip-labels":"",key:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))])])])),error:(0,l.w5)((()=>[(0,l._)("div",E,[(0,l._)("div",_,[(0,l._)("p",C,(0,r.zw)(e.name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tags,(e=>((0,l.wg)(),(0,l.j4)(F,{size:"md",icon:"tag","truncate-chip-labels":"",key:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))])])])),default:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l._)("p",k,(0,r.zw)(e.name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tags,(e=>((0,l.wg)(),(0,l.j4)(F,{size:"md",icon:"tag","truncate-chip-labels2":"",key:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))])])),_:2},1032,["src"])],8,f)))),128))])])),_:1})):(0,l.kq)("",!0)])),_:1})}}};var S=n(4458),q=n(2605),T=n(8052),V=n(3190),H=n(6611),Q=n(2857),W=n(6384),Z=n(996),U=n(335),z=n(7691),D=n(3902),A=n(9984),F=n.n(A);const L=P,N=L;F()(P,"components",{QCard:S.Z,QBreadcrumbs:q.Z,QBreadcrumbsEl:T.Z,QCardSection:V.Z,QInput:H.Z,QIcon:Q.Z,QSelect:W.Z,QPagination:Z.Z,QImg:U.Z,QChip:z.Z,QSpinner:D.Z})}}]);
"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[839],{4958:(e,a,s)=>{s.d(a,{n:()=>n});var t=s(1809),l=s(1320);const r=(0,l.l)(),n=(0,t.Q_)("player",{state:()=>({element:null,hasPreviousUserInteractions:!1}),getters:{getElement:e=>e.element,getDuration:e=>e.element.duration},actions:{interact(){this.hasPreviousUserInteractions=!0},create(){this.element=document.createElement("audio"),this.element.id="audio_player",this.element.crossOrigin="anonymous"},setVolume(e){this.element.volume=e},setCurrentTime(e){this.element.currentTime=e},stop(){this.element.pause(),r.setStatusStopped()},load(){},play(e){e?(this.element.play(),r.setStatusPlaying()):r.isPlaying?(this.element.pause(),r.setStatusPaused()):r.isPaused?(this.element.play(),r.setStatusPlaying()):(this.element.load(),this.element.play(),r.setStatusPlaying())}}})},1320:(e,a,s)=>{s.d(a,{l:()=>l});var t=s(1809);const l=(0,t.Q_)("playerStatus",{state:()=>({status:"stopped"}),getters:{getStatus(e){return e.status},isPlaying(e){return"playing"==e.status},isStopped(e){return"stopped"==e.status},isPaused(e){return"paused"==e.status}},actions:{setStatusPlaying(){this.status="playing"},setStatusStopped(){this.status="stopped"},setStatusPaused(){this.status="paused"}}})},6344:(e,a,s)=>{s.d(a,{Z:()=>d});var t=s(9835);const l={xmlns:"http://www.w3.org/2000/svg",class:"equilizer",viewBox:"0 0 128 128"},r=(0,t.uE)('<g><title>Audio Equalizer</title><rect class="bar" transform="translate(0,0)" y="15"></rect><rect class="bar" transform="translate(25,0)" y="15"></rect><rect class="bar" transform="translate(50,0)" y="15"></rect><rect class="bar" transform="translate(75,0)" y="15"></rect><rect class="bar" transform="translate(100,0)" y="15"></rect></g>',1),n=[r];function o(e,a){return(0,t.wg)(),(0,t.iD)("svg",l,n)}var i=s(1639);const u={},c=(0,i.Z)(u,[["render",o]]),d=c},3788:(e,a,s)=>{s.d(a,{Z:()=>m});var t=s(9835),l=s(6970),r=s(499),n=s(1569);const o={id:"spieldose-album-cover-tiles-container"},i=["src"],u="images/vinyl.png",c={__name:"TileAlbumImages",setup(e){const a=(0,r.iH)([]);function s(){const e="ABCDEF0123456789";let a="#";while(a.length<7)a+=e.charAt(Math.floor(16*Math.random()+1));return a}function c(e){return e<a.value.length?a.value[e]:u}function d(){n.api.album.getSmallRandomCovers(42).then((e=>{a.value=Array.isArray(e.data.coverURLs)?e.data.coverURLs:[]})).catch((e=>{console.error(e.response)}))}function m(e){e.target.src=u}return d(),(e,r)=>((0,t.wg)(),(0,t.iD)("div",o,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)([0,1,2,3,4,5,6],(e=>(0,t._)("div",{class:"row",key:e},[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)([0,1,2,3,4,5],(n=>(0,t._)("div",{class:"col-2",key:n,style:(0,l.j5)("background-color: "+s()+";")},[a.value.length>0?((0,t.wg)(),(0,t.iD)("img",{key:0,class:"spieldose-album-cover-tile",src:c(6*e+n),onError:r[0]||(r[0]=e=>m(e))},null,40,i)):((0,t.wg)(),(0,t.iD)("img",{key:1,class:"spieldose-album-cover-tile",src:u}))],4))),64))]))),64))]))}},d=c,m=d},8839:(e,a,s)=>{s.r(a),s.d(a,{default:()=>z});s(9665);var t=s(9835),l=s(1957),r=s(6970),n=s(499),o=s(9302),i=s(8339),u=s(7712),c=s(1569),d=s(6344),m=s(3788),p=s(4958);const g={class:"row items-center"},v={class:"col-xs-10 offset-xs-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-0 col-xl-3 offset-xl-0 desktop-only justify-center q-pa-xl"},f=["onSubmit"],h={class:"text-grey-8"},y={class:"text-grey-8"},w={class:"text-dark text-weight-bold",style:{"text-decoration":"none"}},b={class:"gt-md col-lg-8 col-xl-9 container_tiles"},_={__name:"SignInPage",setup(e){const a=(0,p.n)(),{t:s}=(0,u.QT)(),_=(0,o.Z)(),S=(0,i.tv)(),k=(0,n.iH)(!1),E=(0,n.iH)({email:{hasErrors:!1,message:null},password:{hasErrors:!1,message:null}}),P=[e=>!!e||s("Field is required")],x=(0,n.iH)(null),q=(0,n.iH)(null),U=(0,n.iH)(null),W=(0,n.iH)(null);function I(){E.value.email.hasErrors=!1,E.value.email.message=null,E.value.password.hasErrors=!1,E.value.password.message=null,q.value.resetValidation(),W.value.resetValidation()}function Z(){I(),q.value.validate(),W.value.validate(),(0,t.Y3)((()=>{q.value.hasError||W.value.hasError||z()}))}function z(){k.value=!0,c.api.user.signIn(x.value,U.value).then((e=>{a.interact(),S.push({name:"dashboard"}),k.value=!1})).catch((e=>{switch(k.value=!1,e.response.status){case 400:e.response.data.invalidOrMissingParams.find((function(e){return"email"===e}))?(_.notify({type:"negative",message:s("API Error: missing email param")}),q.value.focus()):e.response.data.invalidOrMissingParams.find((function(e){return"password"===e}))?(_.notify({type:"negative",message:s("API Error: missing password param")}),W.value.focus()):_.notify({type:"negative",message:s("API Error: invalid/missing param")});break;case 404:E.value.email.hasErrors=!0,E.value.email.message=s("Email not registered"),(0,t.Y3)((()=>{q.value.focus()}));break;case 401:E.value.password.hasErrors=!0,E.value.password.message=s("Invalid password"),(0,t.Y3)((()=>{W.value.focus()}));break;default:_.notify({type:"negative",message:s("API Error: fatal error"),caption:s("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}return(e,a)=>{const o=(0,t.up)("q-card-section"),i=(0,t.up)("q-icon"),u=(0,t.up)("q-input"),c=(0,t.up)("q-spinner-hourglass"),p=(0,t.up)("q-btn"),_=(0,t.up)("router-link"),S=(0,t.up)("q-card"),I=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(I,null,{default:(0,t.w5)((()=>[(0,t._)("div",g,[(0,t._)("div",v,[(0,t.Wm)(d.Z),(0,t.Wm)(S,{class:"q-pa-md my_card"},{default:(0,t.w5)((()=>[(0,t._)("form",{onSubmit:(0,l.iM)(Z,["prevent","stop"]),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",style:{padding:"1.25rem"}},[(0,t.Wm)(o,{class:"text-center"},{default:(0,t.w5)((()=>[(0,t._)("h3",null,(0,r.zw)(e.$t("Spieldose")),1),(0,t._)("div",h,(0,r.zw)(e.$t("Sign in below to access your account")),1)])),_:1}),(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{dense:"",outlined:"",ref_key:"emailRef",ref:q,modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value=e),type:"email",name:"email",label:(0,n.SU)(s)("Email"),disable:k.value,autofocus:!0,rules:P,"lazy-rules":"",error:E.value.email.hasErrors,errorMessage:E.value.email.message},{prepend:(0,t.w5)((()=>[(0,t.Wm)(i,{name:"alternate_email"})])),_:1},8,["modelValue","label","disable","error","errorMessage"]),(0,t.Wm)(u,{dense:"",outlined:"",class:"q-mt-md",ref_key:"passwordRef",ref:W,modelValue:U.value,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value=e),name:"password",type:"password",label:(0,n.SU)(s)("Password"),disable:k.value,rules:P,"lazy-rules":"",error:E.value.password.hasErrors,errorMessage:E.value.password.message},{prepend:(0,t.w5)((()=>[(0,t.Wm)(i,{name:"key"})])),_:1},8,["modelValue","label","disable","error","errorMessage"])])),_:1}),(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,{color:"dark",size:"md",label:e.$t("Sign in"),"no-caps":"",class:"full-width",icon:"account_circle",disable:k.value||!(x.value&&U.value),loading:k.value,type:"submit"},{loading:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"on-left"}),(0,t.Uk)(" "+(0,r.zw)((0,n.SU)(s)("Loading...")),1)])),_:1},8,["label","disable","loading"])])),_:1}),(0,t.Wm)(o,{class:"text-center q-pt-none"},{default:(0,t.w5)((()=>[(0,t._)("div",y,[(0,t.Uk)((0,r.zw)((0,n.SU)(s)("Don't have an account yet ?"))+" ",1),(0,t.Wm)(_,{to:{name:"signUp"}},{default:(0,t.w5)((()=>[(0,t._)("span",w,(0,r.zw)((0,n.SU)(s)("Click here to sign up")),1)])),_:1})])])),_:1})],40,f)])),_:1})]),(0,t._)("div",b,[(0,t.Wm)(m.Z)])])])),_:1})}}};var S=s(9885),k=s(4458),E=s(3190),P=s(6611),x=s(2857),q=s(8879),U=s(3358),W=s(9984),I=s.n(W);const Z=_,z=Z;I()(_,"components",{QPage:S.Z,QCard:k.Z,QCardSection:E.Z,QInput:P.Z,QIcon:x.Z,QBtn:q.Z,QSpinnerHourglass:U.Z})}}]);
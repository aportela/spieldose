"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[151],{4151:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Q});var t=a(9835),n=a(499),s=a(6970),o=a(1569),r=a(9302),u=a(6647),i=a(8106),d=a(7618);const c={key:0},p={key:0},h={key:1},m={__name:"BrowsePathsPage",setup(e){const l=(0,r.Z)(),{t:a}=(0,u.QT)(),m=(0,n.iH)(null),f=(0,n.iH)(!1),v=(0,n.iH)(!1),b=(0,n.iH)([]),k=(0,n.iH)(""),g=(0,n.iH)(null),w=(0,n.iH)(!0);function y(){f.value=!1,v.value=!0,o.api.path.getTree().then((e=>{b.value=e.data.items,v.value=!1})).catch((e=>{l.notify({type:"negative",message:a("API Error: error loading paths"),caption:a("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})}),v.value=!1}))}function q(e,l){var a,t,n;if(e==l.hash)return l;for(a=0;a<l.children.length;a+=1)if(t=l.children[a],n=q(e,t),!1!==n)return n;return!1}function T(e){let t=q(e,b.value[0]);return t&&t.id&&t.totalFiles>0&&i.x7.play(t.id).then((e=>{})).catch((e=>{switch(e.response.status){default:l.notify({type:"negative",message:a("API Error: error playing path"),caption:a("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}})),!0}function Z(){m.value.expandAll()}function x(){m.value.collapseAll(),w.value=!1}function Q(e){k.value&&!w.value&&Z()}return y(),(e,l)=>{const o=(0,t.up)("q-breadcrumbs-el"),r=(0,t.up)("q-breadcrumbs"),u=(0,t.up)("q-btn"),i=(0,t.up)("q-btn-group"),f=(0,t.up)("q-icon"),w=(0,t.up)("q-tree"),y=(0,t.up)("q-card-section"),q=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(q,{class:"q-pa-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"q-mb-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{icon:"home",label:"Spieldose"}),(0,t.Wm)(o,{icon:"person",label:(0,n.SU)(a)("Browse paths")},null,8,["label"])])),_:1}),(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d.Z,{disable:v.value,hint:"Search paths with specified condition",placeholder:"Text condition",modelValue:k.value,"onUpdate:modelValue":[l[0]||(l[0]=e=>k.value=e),Q]},null,8,["disable","modelValue"]),!v.value&&b.value&&b.value.length>0?((0,t.wg)(),(0,t.j4)(i,{key:0,class:"q-my-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{size:"sm",label:"expand all",onClick:Z}),(0,t.Wm)(u,{size:"sm",label:"collapse all",onClick:x},null,8,["onClick"])])),_:1})):(0,t.kq)("",!0),v.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(w,{key:1,ref_key:"treeRef",ref:m,nodes:b.value,selected:g.value,"onUpdate:selected":[l[1]||(l[1]=e=>g.value=e),T],"node-key":"hash","label-key":"name","children-key":"children","no-transition":"","default-expand-all":!0,"selected-color":"pink",filter:k.value,"no-results-label":(0,n.SU)(a)("No matching paths found"),"no-nodes-label":(0,n.SU)(a)("No paths found")},{"default-header":(0,t.w5)((e=>[e.node.totalFiles>0?((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(f,{name:"play_arrow"}),(0,t.Uk)(" "+(0,s.zw)(e.node.name)+" ",1),e.node.totalFiles>0?((0,t.wg)(),(0,t.iD)("span",p,"("+(0,s.zw)(e.node.totalFiles)+" total tracks)",1)):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("span",h,(0,s.zw)(e.node.name),1))])),_:1},8,["nodes","selected","filter","no-results-label","no-nodes-label"]))])),_:1})])),_:1})}}};var f=a(4458),v=a(2605),b=a(8052),k=a(3190),g=a(7236),w=a(8879),y=a(1893),q=a(2857),T=a(9984),Z=a.n(T);const x=m,Q=x;Z()(m,"components",{QCard:f.Z,QBreadcrumbs:v.Z,QBreadcrumbsEl:b.Z,QCardSection:k.Z,QBtnGroup:g.Z,QBtn:w.Z,QTree:y.Z,QIcon:q.Z})}}]);
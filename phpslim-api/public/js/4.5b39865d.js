"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[4],{9004:(e,a,l)=>{l.r(a),l.d(a,{default:()=>I});var t=l(9835),s=l(1957),o=l(6970),r=l(499),n=l(1569),u=l(9302);const i={class:"row q-gutter-xs"},c={class:"col"},d={class:"col-xl-1 col-lg-2 col-md-3 col-sm-4 col-xs-4"},m={class:"col-xl-1 col-lg-2 col-md-3 col-sm-4 col-xs-4"},p={key:0,class:"q-pa-lg flex flex-center"},v={class:"q-gutter-md row items-start"},b={class:"absolute-bottom text-subtitle1 text-center"},g={class:"text-caption q-mb-none"},k={class:"absolute-full flex flex-center bg-grey-3 text-dark"},w={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},x={class:"text-caption q-mb-none"},f={class:"absolute-full flex flex-center bg-grey-3 text-dark"},_={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},q={class:"text-caption q-mb-none"},h={__name:"BrowseArtistsPage",setup(e){const a=(0,u.Z)(),l=(0,r.iH)(null),h=(0,r.iH)(!1),y=(0,r.iH)(!1),T=(0,r.iH)([]),V=[{label:"Name",value:"name"},{label:"Total tracks",value:"totalTracks"}],W=(0,r.iH)(V[0]),Z=[{label:"Ascending",value:"ASC"},{label:"Descending",value:"DESC"}],H=(0,r.iH)(Z[0]),Q=(0,r.iH)(0),z=(0,r.iH)(1),S=(0,r.iH)(null);function U(e){e&&(z.value=1),h.value=!1,y.value=!0,n.api.artist.search(l.value,z.value,32,W.value.value,H.value.value).then((e=>{T.value=e.data.data.items,Q.value=e.data.data.pager.totalPages,l.value&&e.data.data.pager.totalResults<1&&(h.value=!0),(0,t.Y3)((()=>{S.value.$el.focus()})),y.value=!1})).catch((e=>{a.notify({type:"negative",message:"API Error: error loading artists",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),y.value=!1}))}function C(e){z.value=e,U(!1)}return U(!0),(e,a)=>{const r=(0,t.up)("q-breadcrumbs-el"),n=(0,t.up)("q-breadcrumbs"),u=(0,t.up)("q-icon"),P=(0,t.up)("q-input"),A=(0,t.up)("q-select"),D=(0,t.up)("q-pagination"),I=(0,t.up)("q-spinner"),B=(0,t.up)("q-img"),E=(0,t.up)("router-link"),j=(0,t.up)("q-card-section"),N=(0,t.up)("q-card"),K=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(K,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{class:"q-pa-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{class:"q-mb-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{icon:"home",label:"Spieldose"}),(0,t.Wm)(r,{icon:"person",label:"Browse artists"})])),_:1}),T.value?((0,t.wg)(),(0,t.j4)(j,{key:0},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t._)("div",c,[(0,t.Wm)(P,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),clearable:"",type:"search",outlined:"",dense:"",placeholder:"Text condition",hint:"Search artists with name",loading:y.value,onKeydown:a[1]||(a[1]=(0,s.D2)((0,s.iM)((e=>U(!0)),["prevent"]),["enter"])),onClear:a[2]||(a[2]=e=>{h.value=!1,U(!0)}),error:h.value,errorMessage:"No artists found with specified condition",disable:y.value,ref_key:"artistNameRef",ref:S},{prepend:(0,t.w5)((()=>[(0,t.Wm)(u,{name:"filter_alt"})])),append:(0,t.w5)((()=>[(0,t.Wm)(u,{name:"search",class:"cursor-pointer",onClick:U})])),_:1},8,["modelValue","loading","error","disable"])]),(0,t._)("div",d,[(0,t.Wm)(A,{outlined:"",dense:"",modelValue:W.value,"onUpdate:modelValue":[a[3]||(a[3]=e=>W.value=e),a[4]||(a[4]=e=>U(!0))],options:V,"options-dense":"",label:"Sort field",disable:y.value},{"selected-item":(0,t.w5)((e=>[(0,t.Uk)((0,o.zw)(e.opt.label),1)])),_:1},8,["modelValue","disable"])]),(0,t._)("div",m,[(0,t.Wm)(A,{outlined:"",dense:"",modelValue:H.value,"onUpdate:modelValue":[a[5]||(a[5]=e=>H.value=e),a[6]||(a[6]=e=>U(!0))],options:Z,"options-dense":"",label:"Sort order",disable:y.value},{"selected-item":(0,t.w5)((e=>[(0,t.Uk)((0,o.zw)(e.opt.label),1)])),_:1},8,["modelValue","disable"])])]),Q.value>1?((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(D,{modelValue:z.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>z.value=e),C],color:"dark",max:Q.value,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:y.value},null,8,["modelValue","max","disable"])])):(0,t.kq)("",!0),(0,t._)("div",v,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(T.value,(e=>((0,t.wg)(),(0,t.j4)(E,{to:{name:"artist",params:{name:e.name}},key:e},{default:(0,t.w5)((()=>[(0,t.Wm)(B,{"img-class":"artist_image",src:e.image||"#",width:"250px",height:"250px",fit:"cover"},{loading:(0,t.w5)((()=>[(0,t._)("div",k,[(0,t.Wm)(I,{color:"pink",size:"xl"}),(0,t._)("div",w,[(0,t.Uk)((0,o.zw)(e.name)+" ",1),(0,t._)("p",x,(0,o.zw)(e.totalTracks+" "+(e.totalTracks>1?"tracks":"track")),1)])])])),error:(0,t.w5)((()=>[(0,t._)("div",f,[(0,t._)("div",_,[(0,t.Uk)((0,o.zw)(e.name)+" ",1),(0,t._)("p",q,(0,o.zw)(e.totalTracks+" "+(e.totalTracks>1?"tracks":"track")),1)])])])),default:(0,t.w5)((()=>[(0,t._)("div",b,[(0,t.Uk)((0,o.zw)(e.name)+" ",1),(0,t._)("p",g,(0,o.zw)(e.totalTracks+" "+(e.totalTracks>1?"tracks":"track")),1)])])),_:2},1032,["src"])])),_:2},1032,["to"])))),128))])])),_:1})):(0,t.kq)("",!0)])),_:1})])),_:1})}}};var y=l(9885),T=l(4458),V=l(2605),W=l(8052),Z=l(3190),H=l(6611),Q=l(2857),z=l(8401),S=l(996),U=l(335),C=l(3902),P=l(9984),A=l.n(P);const D=h,I=D;A()(h,"components",{QPage:y.Z,QCard:T.Z,QBreadcrumbs:V.Z,QBreadcrumbsEl:W.Z,QCardSection:Z.Z,QInput:H.Z,QIcon:Q.Z,QSelect:z.Z,QPagination:S.Z,QImg:U.Z,QSpinner:C.Z})}}]);
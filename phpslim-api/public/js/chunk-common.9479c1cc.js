"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[64],{8106:(t,a,e)=>{e.d(a,{MX:()=>d,dC:()=>s,jZ:()=>c,oS:()=>u,up:()=>o,x7:()=>m});var r=e(5090),n=e(1569),l=e(4867);const i=(0,r.H)(),s={setFavorite:function(t,a){return i.interact(),new Promise(((e,r)=>{n.api.track.setFavorite(t).then((r=>{l.spieldoseEvents.emit.track.setFavorite(t,r.data.favorited,a),e(r)})).catch((t=>{r(t)}))}))},unSetFavorite:function(t,a){return i.interact(),new Promise(((e,r)=>{n.api.track.unSetFavorite(t).then((r=>{l.spieldoseEvents.emit.track.unSetFavorite(t,a),e(r)})).catch((t=>{r(t)}))}))},increasePlayCount:function(t){return new Promise(((a,e)=>{n.api.track.increasePlayCount(t).then((e=>{l.spieldoseEvents.emit.track.increasePlayCount(t),a(e)})).catch((t=>{e(t)}))}))},play:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.setTracks([t]).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))},enqueue:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.appendTracks([t]).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))}},o={play:function(t,a,e,r,l){return i.interact(),new Promise(((s,o)=>{n.api.currentPlaylist.setAlbum(t,a,e,r,l).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),s(t)})).catch((t=>{o(t)}))}))},enqueue:function(t,a,e,r,l){return i.interact(),new Promise(((s,o)=>{n.api.currentPlaylist.appendAlbum(t,a,e,r,l).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),s(t)})).catch((t=>{o(t)}))}))}},u={play:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.setPlaylist(t).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))},enqueue:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.appendPlaylist(t).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))}},d={play:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.setRadioStation(t).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))}},c={get:function(){return new Promise(((t,a)=>{n.api.currentPlaylist.get().then((a=>{t(a)})).catch((t=>{a(t)}))}))},discover:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.discover(t,i.getShuffle).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))},randomize:function(){return i.interact(),new Promise(((t,a)=>{n.api.currentPlaylist.randomize(i.getShuffle).then((a=>{i.setCurrentPlaylist(a.data.currentTrackIndex,a.data.currentTrackShuffledIndex,a.data.totalTracks,a.data.currentTrack,a.data.radioStation,a.data.playlist),t(a)})).catch((t=>{a(t)}))}))},skipToPreviousElement:function(){return i.interact(),new Promise(((t,a)=>{n.api.currentPlaylist.skipToPreviousElement(i.getShuffle).then((a=>{i.setCurrentPlaylist(a.data.currentTrackIndex,a.data.currentTrackShuffledIndex,a.data.totalTracks,a.data.currentTrack,a.data.radioStation,a.data.playlist),t(a)})).catch((t=>{a(t)}))}))},skipToNextElement:function(){return i.interact(),new Promise(((t,a)=>{n.api.currentPlaylist.skipToNextElement(i.getShuffle).then((a=>{i.setCurrentPlaylist(a.data.currentTrackIndex,a.data.currentTrackShuffledIndex,a.data.totalTracks,a.data.currentTrack,a.data.radioStation,a.data.playlist),t(a)})).catch((t=>{a(t)}))}))},skipToElementIndex:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.skipToElementAtIndex(t).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))},clear:function(){return i.interact(),new Promise(((t,a)=>{n.api.currentPlaylist.setTracks([]).then((a=>{i.setCurrentPlaylist(-1,-1,0,null,null,null),t(a)})).catch((t=>{a(t)}))}))},restoreCurrentPlaylistElement:function(){return new Promise(((t,a)=>{n.api.currentPlaylist.getCurrentElement(i.getShuffle).then((a=>{i.setCurrentPlaylist(a.data.currentTrackIndex,a.data.currentTrackShuffledIndex,a.data.totalTracks,a.data.currentTrack,a.data.radioStation,a.data.playlist),t(a)})).catch((t=>{a(t)}))}))},resortByIndexes:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.resortByIndexes(t,i.getShuffle).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))},removeElementAtIndex:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.removeElementAtIndex(t,i.getShuffle).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))}},m={play:function(t){return i.interact(),new Promise(((a,e)=>{n.api.currentPlaylist.setPath(t).then((t=>{i.setCurrentPlaylist(t.data.currentTrackIndex,t.data.currentTrackShuffledIndex,t.data.totalTracks,t.data.currentTrack,t.data.radioStation,t.data.playlist),a(t)})).catch((t=>{e(t)}))}))}}},5090:(t,a,e)=>{e.d(a,{H:()=>o});var r=e(1809),n=e(8612),l=e.n(n);e(1569);const i=Array.from(window.location.host).reduce(((t,a)=>0|31*t+a.charCodeAt(0)),0),s={namespace:"spieldose#"+i,storages:["local","cookie","session","memory"],storage:"local",sameSite:"strict",expireDays:3650};const o=(0,r.Q_)("spieldose",{state:()=>({data:{audio:null,audioMotionAnalyzerSource:null,fullScreenVisualizationSettings:null,player:{userInteracted:!1,volume:1,status:"stopped",muted:!1,repeatMode:"none",shuffle:!1,sideBarTopArt:{mode:"normal"},sidebarAudioMotionAnalyzer:{visible:!0,mode:7}},currentPlaylistIndex:0,playlists:[{id:null,name:null,owner:{id:null,name:null},public:!1,lastChangeTimestamp:null,currentElementIndex:-1,elements:[],shuffleIndexes:[],currentRadioStation:null}],currentPlaylist:{lastChangeTimestamp:null,totalTracks:0,currentTrackIndex:-1,currentTrackShuffledIndex:-1,currentElement:{track:null,radioStation:null},playlist:null}}}),getters:{getAudioInstance:t=>t.data.audio,hasPreviousUserInteractions:t=>t.data.player.userInteracted,getAudioMotionAnalyzerSource:t=>t.data.audioMotionAnalyzerSource,getFullScreenVisualizationSettings:t=>t.data.fullScreenVisualizationSettings,isSidebarAudioMotionAnalyzerVisible:t=>t.data.player.sidebarAudioMotionAnalyzer.visible,getSidebarAudioMotionAnalyzerMode:t=>t.data.player.sidebarAudioMotionAnalyzer.mode,hasSidebarTopArtAnimationMode:t=>"animation"==t.data.player.sideBarTopArt.mode,getPlayerStatus:t=>t.data.player.status,isMuted:t=>t.data.player.muted,isPlaying:t=>"playing"==t.data.player.status,isStopped:t=>"stopped"==t.data.player.status,isPaused:t=>"paused"==t.data.player.status,getVolume:t=>t.data.player.volume,getDuration:t=>t.data.audio?t.data.audio.duration:0,getRepeatMode:t=>t.data.player.repeatMode,getShuffle:t=>t.data.player.shuffle,currentPlaylistElementCount:t=>t.data.currentPlaylist.totalTracks,hasCurrentPlaylistElements(t){return this.currentPlaylistElementCount>0},getCurrentPlaylist:t=>t.data.playlists[0],getCurrentPlaylistIndex:t=>t.data.currentPlaylist.currentTrackIndex,getCurrentPlaylistShuffledIndex:t=>t.data.currentPlaylist.currentTrackShuffledIndex,getShuffleCurrentPlaylistIndex:t=>t.data.currentPlaylist.currentTrackIndex,getCurrentPlaylistLastChangedTimestamp:t=>t.data.currentPlaylist.lastChangeTimestamp,isCurrentPlaylistElementATrack(t){return null!=t.data.currentPlaylist.currentElement.track},hasCurrentPlaylistARadioStation:t=>null!=t.data.currentPlaylist.currentElement.radioStation,getCurrentPlaylistElement(t){return t.data.currentPlaylist.currentElement},getCurrentPlaylistElementURL(t){return this.isCurrentPlaylistElementATrack?t.data.currentPlaylist.currentElement.track.url:this.hasCurrentPlaylistARadioStation?t.data.currentPlaylist.currentElement.radioStation.directStream:null},getCurrentPlaylistTrackId(t){return this.isCurrentPlaylistElementATrack?t.data.currentPlaylist.currentElement.track.id:null},getCurrentPlaylistElementNormalImage(t){return this.isCurrentPlaylistElementATrack?t.data.currentPlaylist.currentElement.track.covers.normal:this.hasCurrentPlaylistARadioStation?t.data.currentPlaylist.currentElement.radioStation.images.normal:null},getCurrentPlaylistElementSmallImage(t){return this.isCurrentPlaylistElementATrack?t.data.currentPlaylist.currentElement.track.covers.small:this.hasCurrentPlaylistARadioStation?t.data.currentPlaylist.currentElement.radioStation.images.small:null},getCurrentPlaylistLinkedPlaylist(t){return t.data.currentPlaylist.playlist},allowSkipPrevious:t=>t.data.currentPlaylist.totalTracks>0&&t.data.currentPlaylist.currentTrackIndex>0,allowSkipNext:t=>t.data.currentPlaylist.totalTracks>0&&t.data.currentPlaylist.currentTrackIndex<t.data.currentPlaylist.totalTracks-1},actions:{create:function(t){null==this.data.audio?(this.data.audio=void 0!==t?new Audio(t):new Audio,this.data.audio.autoplay=!1,this.data.audio.crossOrigin="anonymous"):(this.data.audio.src=null,this.data.audio.crossOrigin="anonymous"),this.restoreFullScreenVisualizationSettings(),this.restorePlayerSettings(this.hasPreviousUserInteractions)},setAudioSource(t){void 0!==t&&t&&(this.data.audio&&(this.data.audio.src=t),this.hasPreviousUserInteractions&&!this.isPlaying&&this.play(!0))},setAudioMotionAnalyzerSource:function(t){this.data.audioMotionAnalyzerSource=t},toggleSidebarAudioMotionAnalyzer:function(){this.data.player.sidebarAudioMotionAnalyzer.visible=!this.data.player.sidebarAudioMotionAnalyzer.visible,this.savePlayerSettings()},setSidebarAudioMotionAnalyzerMode:function(t){this.data.player.sidebarAudioMotionAnalyzer.mode=t,this.savePlayerSettings()},toggleSidebarTopArtAnimationMode:function(){"animation"==this.data.player.sideBarTopArt.mode?this.data.player.sideBarTopArt.mode="normal":this.data.player.sideBarTopArt.mode="animation",this.savePlayerSettings()},interact:function(){this.data.player.userInteracted=!0},savePlayerSettings:function(){const t=l()(s);t.set("playerSettings",this.data.player)},restorePlayerSettings:function(t){const a=l()(s),e=a.get("playerSettings");e?(this.data.player=e,this.data.player.status="stopped",this.data.player.userInteracted=void 0!==t&&1==t,this.data.audio&&(this.data.audio.volume=this.data.player.volume,this.data.audio.muted=this.data.player.muted)):this.data.audio&&(this.data.audio.volume=this.data.player.volume,this.data.audio.muted=this.data.player.muted)},setVolume:function(t){t>=0&&t<=1&&(this.data.player.volume=t,this.data.audio&&(this.data.audio.volume=t),this.savePlayerSettings())},toggleMute:function(){this.data.player.muted=!this.data.player.muted,this.data.audio&&(this.data.audio.muted=this.data.player.muted),this.savePlayerSettings()},setCurrentTime:function(t){this.data.audio&&(this.data.audio.currentTime=t)},play:function(t){this.hasPreviousUserInteractions?t?(this.data.audio&&this.data.audio.play(),this.data.player.status="playing"):this.isPlaying?(this.data.audio&&this.data.audio.pause(),this.data.player.status="paused"):(this.isPaused,this.data.audio&&this.data.audio.play(),this.data.player.status="playing"):console.error("play error: no previous user interactions")},pause:function(){this.isPlaying&&(this.data.audio&&this.data.audio.pause(),this.data.player.status="paused")},resume:function(){this.isPaused&&(this.data.audio&&this.data.audio.play(),this.data.player.status="playing")},stop:function(){this.isStopped||(this.data.audio&&(this.data.audio.pause(),this.data.audio.currentTime=0),this.data.player.status="stopped")},toggleRepeatMode:function(){switch(this.data.player.repeatMode){case"none":this.data.player.repeatMode="track";break;case"track":this.data.player.repeatMode="playlist";break;case"playlist":this.data.player.repeatMode="none";break}this.savePlayerSettings()},toggleShuffeMode:function(){this.data.player.shuffle?this.data.currentPlaylist.currentTrackIndex=this.data.currentPlaylist.currentTrackShuffledIndex:this.data.currentPlaylist.currentTrackShuffledIndex=this.data.currentPlaylist.currentTrackIndex,this.data.player.shuffle=!this.data.player.shuffle,this.savePlayerSettings()},toggleFavoriteOnCurrentTrack:function(t){this.isCurrentPlaylistElementATrack&&(this.data.currentPlaylist.currentElement.track.favorited=t)},setCurrentPlaylist:function(t,a,e,r,n,l){const i=this.getCurrentPlaylistElementURL;this.data.currentPlaylist.currentTrackIndex=t,this.data.currentPlaylist.currentTrackShuffledIndex=a,this.data.currentPlaylist.totalTracks=e,this.data.currentPlaylist.currentElement.track=r,this.data.currentPlaylist.currentElement.radioStation=n,this.data.currentPlaylist.playlist=l,this.data.currentPlaylist.lastChangeTimestamp=Date.now(),this.getCurrentPlaylistElementURL?(i!=this.getCurrentPlaylistElementURL&&this.setAudioSource(this.getCurrentPlaylistElementURL),this.hasPreviousUserInteractions&&this.play(!0)):this.isStopped||this.stop()},restoreFullScreenVisualizationSettings:function(){const t=l()(s),a=t.get("fullScreenVisualizationSettings");if(a)try{this.data.fullScreenVisualizationSettings=JSON.parse(a)}catch(e){}},saveFullScreenVisualizationSettings(t){this.data.fullScreenVisualizationSettings=t;const a=l()(s);a.set("fullScreenVisualizationSettings",this.data.fullScreenVisualizationSettings?JSON.stringify(this.data.fullScreenVisualizationSettings):null)}}})},5226:(t,a,e)=>{e.d(a,{Z:()=>v});var r=e(9835),n=e(6970),l=e(499);const i={class:"animated-album-cover-item"},s={class:"play-album"},o={class:"album-actions"},u=(0,r._)("span",{class:"clear: both;"},null,-1),d={key:0,class:"vinyl no-cover",src:"images/vinyl-medium.png"},c={class:"album-info"},m=["title"],p={key:1,class:"artist-name"},y={key:0},h={key:2},g={__name:"AnimatedAlbumCover",props:{title:String,albumMbId:String,artistMbId:String,artistName:String,year:Number,image:String},emits:["play","enqueue"],setup(t,{emit:a}){const e=a,g=t,f=(0,l.iH)(!1),k=(0,l.iH)(!1),P=(0,r.Fl)((()=>g.image&&!k.value?g.image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="));function S(){f.value=!0}function b(){k.value=!0}function v(){e("play")}function T(){e("enqueue")}return(a,e)=>{const l=(0,r.up)("q-img"),g=(0,r.up)("q-icon"),w=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",s,[(0,r.Wm)(l,{class:(0,n.C_)(["album-thumbnail",{"album-thumbnail-animated":f.value||k.value}]),src:P.value,width:"174px",height:"174px","spinner-color":"pink",onLoad:S,onError:b},null,8,["class","src"]),(0,r._)("div",o,[(0,r.Wm)(g,{class:"cursor-pointer",name:"add_box",size:"80px",color:"pink",title:"Enqueue album",style:{left:"10px"},onClick:T}),(0,r.Wm)(g,{class:"cursor-pointer",name:"play_arrow",size:"80px",color:"pink",title:"Play album",style:{left:"80px"},onClick:v}),u]),f.value||k.value?((0,r.wg)(),(0,r.iD)("img",d)):(0,r.kq)("",!0)]),(0,r._)("div",c,[t.title?((0,r.wg)(),(0,r.iD)("p",{key:0,class:"album-name",title:t.title},[(0,r.Wm)(w,{to:{name:"album",params:{title:t.title},query:{mbId:t.albumMbId,artistMbId:t.artistMbId,artistName:t.artistName,year:t.year}}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(t.title),1)])),_:1},8,["to"])],8,m)):(0,r.kq)("",!0),t.artistName?((0,r.wg)(),(0,r.iD)("p",p,[(0,r.Uk)("by "),(0,r.Wm)(w,{title:t.artistName,to:{name:"artist",params:{name:t.artistName},query:{mbid:t.artistMbId,tab:"overview"}}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(t.artistName),1)])),_:1},8,["title","to"]),(0,r.Uk)(),t.year?((0,r.wg)(),(0,r.iD)("span",y,"("+(0,n.zw)(t.year)+")",1)):(0,r.kq)("",!0)])):t.year?((0,r.wg)(),(0,r.iD)("p",h,"("+(0,n.zw)(t.year)+")",1)):(0,r.kq)("",!0)])])}}};var f=e(335),k=e(2857),P=e(9984),S=e.n(P);const b=g,v=b;S()(g,"components",{QImg:f.Z,QIcon:k.Z})},8330:(t,a,e)=>{e.d(a,{Z:()=>f});var r=e(9835),n=e(499);const l={key:0},i={key:0,class:"flex flex-center"},s={class:"q-mt-md q-gutter-md row items-start"},o={__name:"BrowserBase",props:{disable:Boolean,currentPageIndex:Number,totalPages:Number,totalResults:Number},emits:["paginationChanged"],setup(t,{emit:a}){const e=a,o=t,u=(0,r.Fl)((()=>o.currentPageIndex||1)),d=(0,n.iH)(u.value);function c(t){e("paginationChanged",t)}return(0,r.YP)(u,(t=>{d.value=t})),(a,e)=>{const n=(0,r.up)("q-breadcrumbs-el"),o=(0,r.up)("q-breadcrumbs"),u=(0,r.up)("q-pagination"),m=(0,r.up)("q-card-section"),p=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(p,{class:"q-pa-lg"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{class:"q-mb-lg"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{icon:"home",label:"Spieldose"}),(0,r.WI)(a.$slots,"breacrumb")])),_:3}),(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.WI)(a.$slots,"filter"),t.totalResults>0?((0,r.wg)(),(0,r.iD)("div",l,[t.totalPages>1?((0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(u,{modelValue:d.value,"onUpdate:modelValue":[e[0]||(e[0]=t=>d.value=t),c],color:"dark",max:t.totalPages||1,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:t.disable},null,8,["modelValue","max","disable"])])):(0,r.kq)("",!0),(0,r._)("div",s,[(0,r.WI)(a.$slots,"items")])])):(0,r.kq)("",!0)])),_:3})])),_:3})}}};var u=e(4458),d=e(2605),c=e(8052),m=e(3190),p=e(996),y=e(9984),h=e.n(y);const g=o,f=g;h()(o,"components",{QCard:u.Z,QBreadcrumbs:d.Z,QBreadcrumbsEl:c.Z,QCardSection:m.Z,QPagination:p.Z})},7618:(t,a,e)=>{e.d(a,{Z:()=>p});var r=e(9835),n=e(499),l=e(1957),i=e(6647);const s={__name:"CustomInputSearch",props:["hint","placeholder","error","errorMessage","modelValue","disable","loading"],emits:["update:modelValue","submit","clear"],setup(t,{expose:a,emit:e}){const s=t,o=e,{t:u}=(0,i.QT)(),d=(0,n.iH)(null),c=(0,r.Fl)({get(){return s.modelValue},set(t){o("update:modelValue",t)}});function m(){o("submit")}function p(){c.value=null,o("clear")}const y=()=>{d.value.focus()};return a({focus:y}),(a,e)=>{const i=(0,r.up)("q-icon"),s=(0,r.up)("q-input");return(0,r.wg)(),(0,r.j4)(s,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),clearable:"",type:"search",outlined:"",dense:"",placeholder:t.placeholder?(0,n.SU)(u)(t.placeholder):null,hint:t.hint?(0,n.SU)(u)(t.hint):null,loading:t.loading,disable:t.disable,onKeydown:(0,l.D2)((0,l.iM)(m,["prevent"]),["enter"]),onClear:p,error:t.error,errorMessage:t.errorMessage?(0,n.SU)(u)(t.errorMessage):null,ref_key:"inputRef",ref:d},{prepend:(0,r.w5)((()=>[(0,r.Wm)(i,{name:"filter_alt"})])),append:(0,r.w5)((()=>[(0,r.Wm)(i,{name:"search",class:"cursor-pointer",onClick:m})])),_:1},8,["modelValue","placeholder","hint","loading","disable","onKeydown","error","errorMessage"])}}};var o=e(6611),u=e(2857),d=e(9984),c=e.n(d);const m=s,p=m;c()(s,"components",{QInput:o.Z,QIcon:u.Z})},5919:(t,a,e)=>{e.d(a,{Z:()=>h});var r=e(9835),n=e(499),l=e(6970),i=e(6647);const s={__name:"CustomSelector",props:["label","options","modelValue","disable"],emits:["update:modelValue"],setup(t,{emit:a}){const e=t,s=a,{t:o}=(0,i.QT)(),u=(0,n.iH)((e.options.find((t=>t.value==e.modelValue))||e.options[0]).label),d=(0,r.Fl)({get(){return e.modelValue},set(t){u.value=t.label,s("update:modelValue",t.value)}});return(a,e)=>{const i=(0,r.up)("q-item-label"),s=(0,r.up)("q-item-section"),c=(0,r.up)("q-item"),m=(0,r.up)("q-select");return(0,r.wg)(),(0,r.j4)(m,{outlined:"",dense:"",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t),options:t.options,"options-dense":"",label:t.label?(0,n.SU)(o)(t.label):null,disable:t.disable},{option:(0,r.w5)((t=>[(0,r.Wm)(c,(0,l.vs)((0,r.F4)(t.itemProps)),{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)((0,n.SU)(o)(t.opt.label)),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"selected-item":(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)((0,n.SU)(o)(u.value)),1)])),_:1},8,["modelValue","options","label","disable"])}}};var o=e(6384),u=e(490),d=e(6749),c=e(3115),m=e(9984),p=e.n(m);const y=s,h=y;p()(s,"components",{QSelect:o.Z,QItem:u.Z,QItemSection:d.Z,QItemLabel:c.Z})},7450:(t,a,e)=>{e.d(a,{Z:()=>S});var r=e(9835),n=e(6970),l=e(499),i=e(6647);const s={class:"text-h6 row"},o={class:"col text-left"},u={class:"col text-right"},d={key:1},c={__name:"DashboardBaseBlock",props:{className:{type:String},loading:{type:Boolean},icon:{type:String},title:{type:String}},emits:["refresh"],setup(t,{emit:a}){const{t:e}=(0,i.QT)(),c=a;function m(){c("refresh")}return(a,i)=>{const c=(0,r.up)("q-icon"),p=(0,r.up)("q-spinner"),y=(0,r.up)("q-card-section"),h=(0,r.up)("q-skeleton"),g=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(g,{class:"my-card q-ma-md"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{class:"bg-grey-3 text-black"},{default:(0,r.w5)((()=>[(0,r._)("div",s,[(0,r._)("div",o,[(0,r.Wm)(c,{name:t.icon,class:"cursor-pointer q-mr-sm"},null,8,["name"]),(0,r.Uk)((0,n.zw)(t.title),1)]),(0,r._)("div",u,[t.loading?((0,r.wg)(),(0,r.j4)(p,{key:0,color:"pink",size:"sm",class:"q-ml-sm",thickness:8})):((0,r.wg)(),(0,r.j4)(c,{key:1,name:"refresh",class:"cursor-pointer",onClick:m,title:(0,l.SU)(e)("reload")},null,8,["title"]))])])])),_:1}),(0,r.Wm)(y,{class:"bg-white text-black",style:{"min-height":"17em"}},{default:(0,r.w5)((()=>[(0,r.WI)(a.$slots,"body",{},(()=>[t.loading?((0,r.wg)(),(0,r.j4)(h,{key:0,type:"text",square:"",animation:"blink",height:"198px"})):((0,r.wg)(),(0,r.iD)("div",d,[(0,r.WI)(a.$slots,"prepend"),(0,r.WI)(a.$slots,"tabs"),(0,r.WI)(a.$slots,"list"),(0,r.WI)(a.$slots,"chart")]))]))])),_:3})])),_:3})}}};var m=e(4458),p=e(3190),y=e(2857),h=e(3902),g=e(7133),f=e(9984),k=e.n(f);const P=c,S=P;k()(c,"components",{QCard:m.Z,QCardSection:p.Z,QIcon:y.Z,QSpinner:h.Z,QSkeleton:g.ZP})},7149:(t,a,e)=>{e.d(a,{Z:()=>T});var r=e(9835),n=e(499),l=e(1957),i=e(6970),s=e(9302),o=e(796),u=e(6647),d=e(9844),c=e(7450),m=e(1569);const p={key:0},y={key:0,class:"text-h5 text-center q-py-sm q-mt-xl q-mt-sm"},h={key:1,class:"text-h5 text-center q-py-sm q-mt-xl q-mt-sm"},g={__name:"DashboardBaseBlockChart",props:{icon:String,trackId:String,globalStats:Boolean},setup(t){const a=(0,s.Z)(),{t:e}=(0,u.QT)(),g="ct-chart-"+(0,o.Z)(),f=(0,n.iH)(!1);let k=[];const P=(0,n.iH)("hour"),S=(0,n.iH)(null);(0,r.YP)(P,(t=>{C()}));const b=[{label:"Hour",value:"hour"},{label:"Weekday",value:"weekday"},{label:"Month",value:"month"},{label:"Year",value:"year"},{label:"Always",value:"fullDate"}],v=t,T=(0,r.Fl)((()=>v.globalStats||!1));(0,r.YP)(T,(t=>{C()}));const w={low:0,showArea:!0,fullWidth:!0,chartPadding:{left:48,right:48},showPoint:!1},A={low:0,showArea:!0,fullWidth:!0,chartPadding:{left:48,right:48},showLabel:!1,axisX:{showGrid:!1,showLabel:!1,offset:0},showPoint:!1};function I(){let t=[],a=[];switch(P.value){case"hour":t=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],a=new Array(24).fill(0),k.forEach((t=>{a[new Number(t.hour)]=t.total}));break;case"weekday":t=[e("Sunday"),e("Monday"),e("Tuesday"),e("Wednesday"),e("Thursday"),e("Friday"),e("Saturday")],a=new Array(7).fill(0),k.forEach((t=>{a[new Number(t.weekday)]=t.total}));break;case"month":t=[e("January"),e("February"),e("March"),e("April"),e("May"),e("June"),e("July"),e("August"),e("September"),e("October"),e("November"),e("December")],a=new Array(12).fill(0),k.forEach((t=>{a[new Number(t.month)]=t.total}));break;case"year":t=k.map((t=>t.year)),a=k.map((t=>t.total));break;case"fullDate":t=k.map((t=>t.fullDate)),a=k.map((t=>t.total));break}S.value&&S.value.detach(),t.length>1?S.value=new d.wW("#"+g,{labels:t,series:[a]},"fullDate"!=P.value?w:A):S.value=new d.vz("#"+g,{labels:t,series:[a]},"fullDate"!=P.value?w:A)}const x=(0,n.iH)(!1);function C(){x.value=!1,P.value&&(f.value=!0,m.api.metrics.getDataRanges({trackId:v.trackId||null,dateRange:P.value,global:T.value}).then((t=>{k=t.data.data,f.value=!1,(0,r.Y3)((()=>{I()}))})).catch((t=>{x.value=!0,f.value=!1,a.notify({type:"negative",message:"API Error: error loading metrics",caption:e("API Error: fatal error details",{status:t.response.status,statusText:t.response.statusText})})})))}return(0,r.bv)((()=>{C()})),(a,s)=>{const o=(0,r.up)("q-tab"),u=(0,r.up)("q-tabs"),d=(0,r.up)("q-icon");return(0,r.wg)(),(0,r.j4)((0,r.LL)(c.Z),{icon:t.icon||"analytics",title:(0,n.SU)(e)("Play stats"),loading:f.value,onRefresh:C},{tabs:(0,r.w5)((()=>[(0,r.Wm)(u,{modelValue:P.value,"onUpdate:modelValue":s[0]||(s[0]=t=>P.value=t),"no-caps":"",class:"text-pink-7 q-mb-md"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(b,(t=>(0,r.Wm)(o,{key:t.value,name:t.value,label:(0,n.SU)(e)(t.label)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),prepend:(0,r.w5)((()=>[(0,r.WI)(a.$slots,"prepend")])),chart:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",{id:g},null,512),[[l.F8,(0,n.SU)(k)&&(0,n.SU)(k).length>0]]),f.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",p,[x.value?((0,r.wg)(),(0,r.iD)("h5",y,[(0,r.Wm)(d,{name:"error",size:"xl"}),(0,r.Uk)(" "+(0,i.zw)((0,n.SU)(e)("Error loading data")),1)])):(0,n.SU)(k)&&(0,n.SU)(k).length>0?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("h5",h,[(0,r.Wm)(d,{name:"warning",size:"xl"}),(0,r.Uk)(" "+(0,i.zw)((0,n.SU)(e)("No enought data")),1)]))]))])),_:3},40,["icon","title","loading"])}}};var f=e(7817),k=e(7661),P=e(2857),S=e(9984),b=e.n(S);const v=g,T=v;b()(g,"components",{QTabs:f.Z,QTab:k.Z,QIcon:P.Z})},8442:(t,a,e)=>{e.d(a,{Z:()=>u});var r=e(9835),n=e(6970),l=e(4376),i=e(6647);const s={__name:"LabelTimestampAgo",props:{className:{type:String},timestamp:{type:Number}},setup(t){const{t:a}=(0,i.QT)(),e=t,s=(0,r.Fl)((()=>{let t="",r=l.ZP.getDateDiff(Date.now(),e.timestamp,"years");return r<1?(r=l.ZP.getDateDiff(Date.now(),e.timestamp,"months"),r<1?(r=l.ZP.getDateDiff(Date.now(),e.timestamp,"days"),r<1?(r=l.ZP.getDateDiff(Date.now(),e.timestamp,"hours"),r<1?(r=l.ZP.getDateDiff(Date.now(),e.timestamp,"minutes"),r<1?(r=l.ZP.getDateDiff(Date.now(),e.timestamp,"seconds"),t=a(r>1?"nSecondsAgo":"oneSecondAgo",{count:r})):t=a(r>1?"nMinutesAgo":"oneMinuteAgo",{count:r})):t=a(r>1?"nHoursAgo":"oneHourAgo",{count:r})):t=a(r>1?"nDaysAgo":"oneDayAgo",{count:r})):t=a(r>1?"nMonthsAgo":"oneMonthAgo",{count:r})):t=a(r>1?"nYearsAgo":"oneYearAgo",{count:r}),t}));return(a,e)=>((0,r.wg)(),(0,r.iD)("span",{class:(0,n.C_)(t.className)},[(0,r.WI)(a.$slots,"prepend"),(0,r.Uk)((0,n.zw)(s.value),1),(0,r.WI)(a.$slots,"append")],2))}},o=s,u=o},8077:(t,a,e)=>{e.d(a,{Z:()=>s});var r=e(9835),n=e(5919);const l={__name:"SortOrderSelector",props:["modelValue","disable"],emits:["update:modelValue"],setup(t,{emit:a}){const e=t,l=a,i=[{label:"Ascending",value:"ASC"},{label:"Descending",value:"DESC"}],s=(0,r.Fl)({get(){return e.modelValue},set(t){l("update:modelValue",t)}});return(a,e)=>((0,r.wg)(),(0,r.j4)(n.Z,{label:"Sort order",options:i,modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),disable:t.disable},null,8,["modelValue","disable"]))}},i=l,s=i}}]);
"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[108],{2719:(e,a,t)=>{t.d(a,{d:()=>o});var l=t(1809),s=t(8612),n=t.n(s);const i={namespace:"spieldose",storages:["local","cookie","session","memory"],storage:"local",expireDays:3650},o=(0,l.Q_)("currentPlaylist",{state:()=>({elements:[],currentIndex:-1,elementsLastChangeTimestamp:null}),getters:{hasElements:e=>e.elements&&e.elements.length>0,getElements:e=>e.elements,getElementsLastChangeTimestamp:e=>e.elementsLastChangeTimestamp,getCurrentIndex:e=>e.currentIndex,getCurrentElement:e=>e.currentIndex>=0&&e.elements.length>0?e.elements[e.currentIndex]:null,getCurrentElementURL:e=>e.currentIndex>=0&&e.elements.length>0?e.elements[e.currentIndex].url:null,allowSkipPrevious:e=>e.currentIndex>0&&e.elements.length>0,allowSkipNext:e=>e.currentIndex>=0&&e.elements.length>0&&e.currentIndex<e.elements.length-1,allowPlay:e=>!0,allowPause:e=>!0,allowResume:e=>!0,allowStop:e=>!0},actions:{load(){const e=n()(i),a=e.get("currentPlaylistElements");a&&(this.elements=a);const t=e.get("currentPlaylistElementIndex");t>=0&&(this.currentIndex=t)},saveElements(e){this.elements=e,this.currentIndex=e&&e.length>0?0:-1;const a=n()(i);a.set("currentPlaylistElements",e),a.set("currentPlaylistElementIndex",e&&e.length>0?0:-1),this.elementsLastChangeTimestamp=Date.now()},saveCurrentTrackIndex(e){this.currentIndex=e>=0?e:-1;const a=n()(i);a.set("currentPlaylistElementIndex",this.currentIndex)},skipPrevious(){this.currentIndex--},skipNext(){this.currentIndex++}}})},4958:(e,a,t)=>{t.d(a,{n:()=>i});var l=t(1809),s=t(1320);const n=(0,s.l)(),i=(0,l.Q_)("player",{state:()=>({element:null,hasPreviousUserInteractions:!1}),getters:{getElement:e=>e.element,getDuration:e=>e.element.duration},actions:{interact(){this.hasPreviousUserInteractions=!0},create(){this.element=document.createElement("audio"),this.element.id="audio_player"},setVolume(e){this.element.volume=e},setCurrentTime(e){this.element.currentTime=e},stop(){this.element.pause(),n.setStatusStopped()},load(){},play(e){e?(this.element.play(),n.setStatusPlaying()):n.isPlaying?(this.element.pause(),n.setStatusPaused()):n.isPaused?(this.element.play(),n.setStatusPlaying()):(this.element.load(),this.element.play(),n.setStatusPlaying())}}})},1320:(e,a,t)=>{t.d(a,{l:()=>s});var l=t(1809);const s=(0,l.Q_)("playerStatus",{state:()=>({status:"stopped"}),getters:{getStatus(e){return e.status},isPlaying(e){return"playing"==e.status},isStopped(e){return"stopped"==e.status},isPaused(e){return"paused"==e.status}},actions:{setStatusPlaying(){this.status="playing"},setStatusStopped(){this.status="stopped"},setStatusPaused(){this.status="paused"}}})},5108:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Y});var l=t(9835),s=t(499),n=t(1957),i=t(6970),o=t(1569),r=t(9302),u=t(7712),d=t(4958),m=t(2719);const c={key:0,class:"q-pa-lg flex flex-center"},p={class:"q-gutter-md row items-start"},g=["radioStation","onClick"],v={class:"absolute-bottom text-subtitle1 text-center"},h={class:"absolute-full flex flex-center bg-grey-3 text-dark"},b={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},x={class:"row q-gutter-xs"},w={class:"col"},y={class:"col-xl-2"},f={class:"col-xl-2"},S={class:"col-xl-2"},k={key:0,class:"q-pa-lg flex flex-center"},P={class:"q-gutter-md row items-start"},_=["radioStation","onClick"],I={class:"absolute-bottom text-subtitle1 text-center"},q={class:"absolute-full flex flex-center bg-grey-3 text-dark"},V={class:"absolute-bottom text-subtitle1 text-center bg-grey-5 q-py-md"},T={__name:"BrowseRadioStationsPage",setup(e){const a=(0,d.n)(),t=(0,m.d)(),T=(0,r.Z)(),{t:C}=(0,u.QT)(),W=(0,s.iH)([{label:"My radio stations",value:"myRadioStations",icon:"person"},{label:"Public radio stations",value:"publicRadioStations",icon:"public"}]),E=(0,s.iH)(W.value[1].value),Q=(0,s.iH)(null),H=(0,s.iH)(null),Z=(0,s.iH)([]),U=(0,s.iH)(null),D=(0,s.iH)(!1),R=(0,s.iH)(!1),L=(0,s.iH)([]),N=(0,s.iH)([]),K=(0,s.iH)(0),M=(0,s.iH)(1);function j(e){e&&(M.value=1),D.value=!1,R.value=!0,o.api.radioStation.search(M.value,32,{name:U.value}).then((e=>{L.value=e.data.data.items,K.value=e.data.data.pager.totalPages,U.value&&e.data.data.pager.totalResults<1&&(D.value=!0),R.value=!1})).catch((e=>{T.notify({type:"negative",message:"API Error: error loading radio stations",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),R.value=!1}))}function z(e){R.value=!0,o.api.radioStation.searchPublic(M.value,32,{name:U.value}).then((e=>{N.value=e.data.data.items,R.value=!1})).catch((e=>{T.notify({type:"negative",message:"API Error: error loading radio stations",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),R.value=!1}))}function A(e){M.value=e,j(!1)}function B(e){a.interact(),t.saveElements([{radioStation:e}])}return j(!0),z(!0),(e,a)=>{const t=(0,l.up)("q-breadcrumbs-el"),o=(0,l.up)("q-breadcrumbs"),r=(0,l.up)("q-tab"),u=(0,l.up)("q-tabs"),d=(0,l.up)("q-icon"),m=(0,l.up)("q-input"),T=(0,l.up)("q-pagination"),Y=(0,l.up)("q-img"),F=(0,l.up)("q-card-section"),G=(0,l.up)("q-tab-panel"),J=(0,l.up)("q-select"),O=(0,l.up)("q-tab-panels"),X=(0,l.up)("q-card"),$=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)($,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X,{class:"q-pa-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"q-mb-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{icon:"home",label:"Spieldose"}),(0,l.Wm)(t,{icon:"radio",label:"Browse radio stations"})])),_:1}),(0,l.Wm)(u,{modelValue:E.value,"onUpdate:modelValue":a[0]||(a[0]=e=>E.value=e),"inline-label":"","no-caps":"",dense:"",class:"text-pink-7 q-mb-md shadow-2"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.value,(e=>((0,l.wg)(),(0,l.j4)(r,{key:e.value,name:e.value,icon:e.icon,label:(0,s.SU)(C)(e.label)},null,8,["name","icon","label"])))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(O,{modelValue:E.value,"onUpdate:modelValue":a[12]||(a[12]=e=>E.value=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(G,{name:"myRadioStations"},{default:(0,l.w5)((()=>[L.value?((0,l.wg)(),(0,l.j4)(F,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:U.value,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value=e),clearable:"",type:"search",outlined:"",dense:"",placeholder:"Text condition",hint:"Search radio stations with name",loading:R.value,disable:R.value,onKeydown:a[2]||(a[2]=(0,n.D2)((0,n.iM)((e=>j(!0)),["prevent"]),["enter"])),onClear:a[3]||(a[3]=e=>{D.value=!1,j(!0)}),error:D.value,errorMessage:"No radio stations found with specified condition",ref:"personalRadioStationNameRef"},{prepend:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"filter_alt"})])),append:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"search",class:"cursor-pointer",onClick:j})])),_:1},8,["modelValue","loading","disable","error"]),K.value>1?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(T,{modelValue:M.value,"onUpdate:modelValue":[a[4]||(a[4]=e=>M.value=e),A],color:"dark",max:K.value,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:R.value},null,8,["modelValue","max","disable"])])):(0,l.kq)("",!0),(0,l._)("div",p,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(U.value,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,radioStation:e,class:"cursor-pointer",onClick:a=>B(e)},[(0,l.Wm)(Y,{"img-class":"radiostation_image",src:e.image||"#",width:"250px",height:"250px",fit:"cover"},{error:(0,l.w5)((()=>[(0,l._)("div",h,[(0,l._)("div",b,(0,i.zw)(e.name),1)])])),default:(0,l.w5)((()=>[(0,l._)("div",v,(0,i.zw)(e.name),1)])),_:2},1032,["src"])],8,g)))),128))])])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(G,{name:"publicRadioStations"},{default:(0,l.w5)((()=>[N.value?((0,l.wg)(),(0,l.j4)(F,{key:0},{default:(0,l.w5)((()=>[(0,l._)("div",x,[(0,l._)("div",w,[(0,l.Wm)(m,{modelValue:U.value,"onUpdate:modelValue":a[5]||(a[5]=e=>U.value=e),clearable:"",type:"search",outlined:"",dense:"",placeholder:"Text condition",hint:"Search radio stations with name",loading:R.value,disable:R.value,onKeydown:a[6]||(a[6]=(0,n.D2)((0,n.iM)((e=>z(!0)),["prevent"]),["enter"])),onClear:a[7]||(a[7]=e=>{D.value=!1,z(!0)}),error:D.value,errorMessage:"No radio stations found with specified condition",ref:"personalRadioStationNameRef"},{prepend:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"filter_alt"})])),append:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"search",class:"cursor-pointer",onClick:z})])),_:1},8,["modelValue","loading","disable","error"])]),(0,l._)("div",y,[(0,l.Wm)(J,{label:"Country",dense:"",outlined:"",options:["Spain","Portugal","France"],modelValue:Q.value,"onUpdate:modelValue":a[8]||(a[8]=e=>Q.value=e)},null,8,["modelValue"])]),(0,l._)("div",f,[(0,l.Wm)(J,{label:"Language",dense:"",outlined:"",options:["English","Spanish","Galician"],modelValue:H.value,"onUpdate:modelValue":a[9]||(a[9]=e=>H.value=e)},null,8,["modelValue"])]),(0,l._)("div",S,[(0,l.Wm)(J,{label:"Tags",dense:"",outlined:"",options:["news","music","rock"],multiple:"",modelValue:Z.value,"onUpdate:modelValue":a[10]||(a[10]=e=>Z.value=e)},null,8,["modelValue"])])]),K.value>1?((0,l.wg)(),(0,l.iD)("div",k,[(0,l.Wm)(T,{modelValue:M.value,"onUpdate:modelValue":[a[11]||(a[11]=e=>M.value=e),A],color:"dark",max:K.value,"max-pages":5,"boundary-numbers":"","direction-links":"","boundary-links":"",disable:R.value},null,8,["modelValue","max","disable"])])):(0,l.kq)("",!0),(0,l._)("div",P,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.value,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,radioStation:e,class:"cursor-pointer",onClick:a=>B(e)},[(0,l.Wm)(Y,{"img-class":"radiostation_image",src:e.images.normal||"#",width:"250px",height:"250px",fit:"cover"},{error:(0,l.w5)((()=>[(0,l._)("div",q,[(0,l._)("div",V,(0,i.zw)(e.name),1)])])),default:(0,l.w5)((()=>[(0,l._)("div",I,(0,i.zw)(e.name),1)])),_:2},1032,["src"])],8,_)))),128))])])),_:1})):(0,l.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}}};var C=t(9885),W=t(4458),E=t(2605),Q=t(8052),H=t(7817),Z=t(7661),U=t(9800),D=t(4106),R=t(3190),L=t(6611),N=t(2857),K=t(996),M=t(335),j=t(8401),z=t(9984),A=t.n(z);const B=T,Y=B;A()(T,"components",{QPage:C.Z,QCard:W.Z,QBreadcrumbs:E.Z,QBreadcrumbsEl:Q.Z,QTabs:H.Z,QTab:Z.Z,QTabPanels:U.Z,QTabPanel:D.Z,QCardSection:R.Z,QInput:L.Z,QIcon:N.Z,QPagination:K.Z,QImg:M.Z,QSelect:j.Z})}}]);
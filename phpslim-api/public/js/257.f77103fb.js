"use strict";(globalThis["webpackChunkspieldose"]=globalThis["webpackChunkspieldose"]||[]).push([[257],{8106:(e,l,a)=>{a.d(l,{dC:()=>u});var t=a(4958),n=a(2719),o=a(1569),s=a(8514);const r=(0,t.n)(),i=(0,n.d)(),u={setFavorite:function(e){return new Promise(((l,a)=>{o.api.track.setFavorite(e).then((a=>{s.bus.emit("setFavoriteTrack",{trackId:e,timestamp:a.data.favorited}),i.setFavoriteTrack(e,a.data.favorited),l(a)})).catch((e=>{a(e)}))}))},unSetFavorite:function(e){return new Promise(((l,a)=>{o.api.track.unSetFavorite(e).then((a=>{s.bus.emit("unSetFavoriteTrack",{trackId:e}),i.unSetFavoriteTrack(e),l(a)})).catch((e=>{a(e)}))}))},play:function(e){r.stop(),i.saveElements(Array.isArray(e)?e:[{track:e}]),r.interact(),r.play(!0)},enqueue:function(e){i.appendElements(Array.isArray(e)?e:[{track:e}]),r.interact()}}},2719:(e,l,a)=>{a.d(l,{d:()=>u});var t=a(1809),n=a(8612),o=a.n(n),s=a(4958);const r=(0,s.n)(),i={namespace:"spieldose",storages:["local","cookie","session","memory"],storage:"local",expireDays:3650},u=(0,t.Q_)("currentPlaylist",{state:()=>({elements:[],shuffleIndexes:[],currentIndex:-1,elementsLastChangeTimestamp:null}),getters:{hasElements:e=>e.elements&&e.elements.length>0,getElements:e=>e.elements,elementCount:e=>e.elements?e.elements.length:0,getElementsLastChangeTimestamp:e=>e.elementsLastChangeTimestamp,getCurrentIndex:e=>r.getShuffle?e.shuffleIndexes[e.currentIndex]:e.currentIndex,getCurrentElement:e=>e.currentIndex>=0&&e.elements.length>0?e.elements[e.currentIndex]:null,getCurrentElementURL:e=>e.currentIndex>=0&&e.elements.length>0?e.elements[e.currentIndex].url:null,allowSkipPrevious:e=>e.currentIndex>0&&e.elements.length>0,allowSkipNext:e=>e.currentIndex>=0&&e.elements.length>0&&e.currentIndex<e.elements.length-1,allowPlay:e=>!0,allowPause:e=>!0,allowResume:e=>!0,allowStop:e=>!0},actions:{load(){const e=o()(i),l=e.get("currentPlaylistElements");l&&(this.elements=l);const a=e.get("shuffleIndexes");a&&(this.shuffleIndexes=a);const t=e.get("currentPlaylistElementIndex");t>=0&&(this.currentIndex=t)},saveCurrentElements(){const e=o()(i);e.set("currentPlaylistElements",this.elements),e.set("currentPlaylistElementIndex",this.currentIndex),e.set("shuffleIndexes",this.shuffleIndexes),this.elementsLastChangeTimestamp=Date.now()},saveElements(e){this.elements=e,this.shuffleIndexes=[...Array(e.length).keys()].sort((function(){return.5-Math.random()})),this.currentIndex=e&&e.length>0?0:-1,this.saveCurrentElements()},appendElements(e){this.elements=this.elements.concat(e),this.saveCurrentElements()},saveCurrentTrackIndex(e){this.currentIndex=e>=0?e:-1;const l=o()(i);l.set("currentPlaylistElementIndex",this.currentIndex)},skipPrevious(){this.saveCurrentTrackIndex(--this.currentIndex)},skipNext(){this.saveCurrentTrackIndex(++this.currentIndex)},clear(){this.elements=[],this.currentIndex=-1;const e=o()(i);e.set("currentPlaylistElements",[]),e.set(-1),this.elementsLastChangeTimestamp=Date.now()},setFavoriteTrack(e,l){const a=this.elements.findIndex((l=>l.track&&l.track.id==e));-1!==a&&(this.elements[a].track.favorited=l,this.saveCurrentElements())},unSetFavoriteTrack(e){const l=this.elements.findIndex((l=>l.track&&l.track.id==e));-1!==l&&(this.elements[l].track.favorited=null,this.saveCurrentElements())}}})},4958:(e,l,a)=>{a.d(l,{n:()=>s});var t=a(1809),n=a(1320);const o=(0,n.l)(),s=(0,t.Q_)("player",{state:()=>({repeatMode:null,shuffle:!1,element:null,hasPreviousUserInteractions:!1,originalAudioMotionAnalyzerSource:null}),getters:{getRepeatMode:e=>e.repeatMode,getShuffle:e=>e.shuffle,getElement:e=>e.element,getDuration:e=>e.element.duration},actions:{interact(){this.hasPreviousUserInteractions=!0},create(){this.element=document.createElement("audio"),this.element.id="audio_player",this.element.crossOrigin="anonymous"},setVolume(e){this.element.volume=e},setCurrentTime(e){this.element.currentTime=e},stop(){this.element.pause(),o.setStatusStopped()},load(){},play(e){e?(this.element.play(),o.setStatusPlaying()):o.isPlaying?(this.element.pause(),o.setStatusPaused()):o.isPaused?(this.element.play(),o.setStatusPlaying()):(this.element.load(),this.element.play(),o.setStatusPlaying())},setRepeatMode(e){this.repeatMode=e},toggleShuffle(){this.shuffle=!this.shuffle},setAudioMotionAnalyzerSource:function(e){this.originalAudioMotionAnalyzerSource=e},getAudioMotionAnalyzerSource:function(){return this.originalAudioMotionAnalyzerSource}}})},1320:(e,l,a)=>{a.d(l,{l:()=>n});var t=a(1809);const n=(0,t.Q_)("playerStatus",{state:()=>({status:"stopped"}),getters:{getStatus(e){return e.status},isPlaying(e){return"playing"==e.status},isStopped(e){return"stopped"==e.status},isPaused(e){return"paused"==e.status}},actions:{setStatusPlaying(){this.status="playing"},setStatusStopped(){this.status="stopped"},setStatusPaused(){this.status="paused"}}})},2257:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ta});a(9665);var t=a(9835),n=a(499),o=a(6970),s=a(8339),r=a(1569),i=a(5253),u=a(9302),d=a(6647),c=a(4537),m=a(4958),p=a(1320),v=a(2719),g=a(1957);const b="background: url(images/vinyl.png) no-repeat; background-size: cover;",f={__name:"SidebarPlayerAlbumCover",props:{rotateVinyl:Boolean,smallVinylImage:String,coverImage:String},setup(e){const l=e,a=(0,n.iH)(null),s=(0,n.iH)(null),r=(0,t.Fl)((()=>l.smallVinylImage)),i=(0,t.Fl)((()=>l.coverImage));(0,t.YP)(r,(e=>{a.value=e})),(0,t.YP)(i,(e=>{s.value=e})),a.value=r.value,s.value=i.value;const u=(0,n.iH)(!1);function d(){u.value=!u.value}return(l,n)=>{const r=(0,t.up)("q-img");return u.value?((0,t.wg)(),(0,t.iD)("div",{key:0,id:"vinyl_container",class:(0,o.C_)({rotation_enabled:e.rotateVinyl}),style:b,onClick:d},[a.value?((0,t.wg)(),(0,t.j4)(r,{key:0,src:a.value,onError:n[0]||(n[0]=e=>a.value=null),"img-class":"vinyl_mini_cover","no-spinner":""},null,8,["src"])):(0,t.kq)("",!0)],2)):((0,t.wg)(),(0,t.iD)("div",{key:1,id:"cover_container",onClick:d},[s.value?((0,t.wg)(),(0,t.j4)(r,{key:0,src:s.value,onError:n[1]||(n[1]=e=>s.value=null),alt:"Album cover",width:"400px",height:"400px","spinner-color":"pink"},null,8,["src"])):((0,t.wg)(),(0,t.j4)(r,{key:1,src:"images/vinyl.png",alt:"Vinyl",width:"400px",height:"400px"}))]))}}};var k=a(335),w=a(9984),h=a.n(w);const y=f,_=y;h()(f,"components",{QImg:k.Z});var S=a(9925);const x=["title"],W={__name:"SidebarPlayerSpectrumAnalyzer",props:{active:Boolean},setup(e){const l=e,{t:a}=(0,d.QT)(),o=(0,m.n)(),s=(0,n.iH)(o.getElement),r=(0,n.iH)(null),i=(0,n.iH)(7);function u(){const e={source:s.value,start:!1,height:40,maxFPS:30,mode:i.value,ledBars:!0,trueLeds:!0,barSpace:.2,peakLine:!0,showScaleX:!1,showScaleY:!1,channelLayout:"single",colorcurrentMode:"gradient",splitGradient:!1,bgAlpha:1,overlay:!0,showBgColor:!0};r.value=new S.Z(document.getElementById("analyzer-container"),e);const a={bgColor:"#fff",dir:"v",colorStops:[{color:"#d30320",level:.9},{color:"#d72c43",level:.8},{color:"#db5063",level:.6},{color:"#de6b7b",level:.4},{color:"#e399a3",level:.2}]};r.value.registerGradient("default-spieldose",a),r.value.gradient="default-spieldose",o.setAudioMotionAnalyzerSource(r.value.connectedSources[0]),l.active&&r.value.toggleAnalyzer()}function c(){++i.value>8&&(i.value=1),r.value.setOptions({mode:i.value,barSpace:(9-i.value)/10})}const p=(0,t.Fl)((()=>l.active||!1));return(0,t.YP)(p,(e=>{e?r.value.start():r.value.stop()})),(0,t.bv)((()=>{u()})),(e,l)=>((0,t.wg)(),(0,t.iD)("div",{id:"analyzer-container",class:"cursor-pointer",title:(0,n.SU)(a)("Toggle analyzer octave bands number"),onClick:c},null,8,x))}};var z=a(1639);const q=(0,z.Z)(W,[["__scopeId","data-v-e2738c4c"]]),A=q,C={__name:"SidebarPlayerVolumeControl",props:{disabled:Boolean,defaultValue:Number},emits:["volumeChange"],setup(e,{emit:l}){const a=e,s=(0,n.iH)(0),r=(0,n.iH)(a.defaultValue||1),i=(0,n.iH)(!1);(0,t.YP)(r,((e,l)=>{e>0&&i.value&&(i.value=!1)}));const u=(0,t.Fl)((()=>0==r.value?"volume_off":r.value<.4?"volume_mute":r.value<.7?"volume_down":"volume_up")),d=(0,t.Fl)((()=>Math.round(100*r.value)));function c(){i.value?r.value=s.value:(s.value=r.value,r.value=0),i.value=!i.value,l("volumeChange",r.value)}function m(e){l("volumeChange",e)}return(l,a)=>{const n=(0,t.up)("q-icon"),s=(0,t.up)("q-item-section"),p=(0,t.up)("q-slider"),v=(0,t.up)("q-item"),b=(0,t.up)("q-list");return(0,t.wg)(),(0,t.j4)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{class:(0,o.C_)(["cursor-pointer",{"text-pink":i.value}]),name:u.value,onClick:(0,g.iM)(c,["prevent"])},null,8,["name","onClick","class"])])),_:1}),(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,{disable:e.disabled,modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),min:0,max:1,step:.05,label:"","label-value":d.value+"%",onChange:a[1]||(a[1]=e=>m(r.value))},null,8,["disable","modelValue","label-value"])])),_:1}),(0,t.Wm)(s,{side:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(d.value)+"% ",1)])),_:1})])),_:1})])),_:1})}}};var P=a(3246),U=a(490),I=a(1233),M=a(2857),V=a(8423);const E=C,T=E;h()(C,"components",{QList:P.Z,QItem:U.Z,QItemSection:I.Z,QIcon:M.Z,QSlider:V.Z});const F={key:0,id:"song_info",class:"q-px-md",style:{"max-width":"400px"}},Z=["title"],Q=["title"],L={class:"song_info_artist text-center ellipsis"},B={key:1},D={key:1,id:"song_info"},H=["title"],N={class:"song_info_album text-center"},R={class:"song_info_artist text-center"},j=["href"],O=(0,t._)("span",null," ",-1),Y={__name:"SidebarPlayerTrackInfo",props:{currentElement:Object},setup(e){return(l,a)=>{const n=(0,t.up)("router-link"),s=(0,t.up)("q-btn"),r=(0,t.up)("q-btn-group");return e.currentElement&&e.currentElement.track?((0,t.wg)(),(0,t.iD)("div",F,[(0,t._)("p",{class:"song_info_track text-center text-weight-bolder ellipsis",style:{color:"#d30320"},title:e.currentElement.track.title||" "},(0,o.zw)(e.currentElement.track.title||null),9,Z),(0,t._)("p",{class:"song_info_album text-center ellipsis",title:e.currentElement.track.album.title||null},(0,o.zw)(e.currentElement.track.album.title||" "),9,Q),(0,t._)("p",L,[e.currentElement.track.artist.name?((0,t.wg)(),(0,t.j4)(n,{key:0,style:{"text-decoration":"none"},to:{name:"artist",params:{name:e.currentElement.track.artist.name}},title:e.currentElement.track.artist.name},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.currentElement.track.artist.name),1)])),_:1},8,["to","title"])):((0,t.wg)(),(0,t.iD)("span",B," "))])])):e.currentElement&&e.currentElement.radioStation?((0,t.wg)(),(0,t.iD)("div",D,[(0,t._)("p",{class:"song_info_track text-center text-weight-bolder ellipsis",style:{color:"#d30320"},title:e.currentElement.radioStation.name},(0,o.zw)(e.currentElement.radioStation.name||" "),9,H),(0,t._)("p",N,[(0,t.Wm)(r,{outline:""},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{outline:"",size:"sm",icon:"playlist_play",label:"playlist",disable:!e.currentElement.radioStation.playlist,href:e.currentElement.radioStation.playlist,target:"_new"},null,8,["disable","href"]),(0,t.Wm)(s,{outline:"",size:"sm",icon:"play_arrow",label:"direct stream",disable:!e.currentElement.radioStation.directStream,href:e.currentElement.radioStation.directStream,target:"_new"},null,8,["disable","href"])])),_:1})]),(0,t._)("p",R,[e.currentElement.radioStation.url?((0,t.wg)(),(0,t.iD)("a",{key:0,href:e.currentElement.radioStation.url,target:"_blank",style:{"text-decoration":"none"}},(0,o.zw)(e.currentElement.radioStation.url),9,j)):(0,t.kq)("",!0),O])])):(0,t.kq)("",!0)}}};var G=a(7236),K=a(8879);const X=Y,$=X;h()(Y,"components",{QBtnGroup:G.Z,QBtn:K.Z});const J={id:"player_controls"},ee={class:"q-pa-md q-gutter-sm text-center"},le={__name:"SidebarPlayerMainControls",props:{disabled:Boolean,allowSkipPrevious:Boolean,allowPlay:Boolean,allowSkipNext:Boolean,isPlaying:Boolean},emits:["skipPrevious","play","skipNext"],setup(e,{emit:l}){function a(){l("play")}function n(){l("skipPrevious")}function s(){l("skipNext")}return(l,r)=>{const i=(0,t.up)("q-icon"),u=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)("div",J,[(0,t._)("div",ee,[(0,t.Wm)(u,{round:"",dense:"",size:"md",disable:e.disabled||!e.allowSkipPrevious,onClick:n},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{name:"skip_previous",title:"Skip to previous track"})])),_:1},8,["disable"]),(0,t.Wm)(u,{round:"",dense:"",size:"lg",disable:e.disabled||!e.allowPlay,onClick:a,class:"q-mx-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{name:e.isPlaying?"pause":"play_arrow",title:"Play/Pause/Resume track",class:(0,o.C_)({"text-pink-6":e.isPlaying})},null,8,["name","class"])])),_:1},8,["disable"]),(0,t.Wm)(u,{round:"",dense:"",size:"md",disable:e.disabled||!e.allowSkipNext,onClick:s},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{name:"skip_next",title:"Skip to next track"})])),_:1},8,["disable"])])])}}},ae=le,te=ae;h()(le,"components",{QBtn:K.Z,QIcon:M.Z});const ne={__name:"SidebarPlayerSeekControl",props:{disabled:Boolean,currentElementTimeData:Object},emits:["seek"],setup(e,{emit:l}){const a=e,s=(0,t.Fl)((()=>a.currentElementTimeData.position));(0,t.YP)(s,(e=>{r.value=parseFloat(e)}));const r=(0,n.iH)(0);function i(){l("seek",r.value)}function u(e,l){if(e&&Number.isInteger(e)&&e>0){var a=Math.floor(e/3600),t=Math.floor((e-3600*a)/60),n=Math.floor(e-3600*a-60*t);return t<10&&(t="0"+t),n<10&&(n="0"+n),t+":"+n}return"00:00"}return(l,a)=>{const n=(0,t.up)("q-item-section"),s=(0,t.up)("q-slider"),d=(0,t.up)("q-item"),c=(0,t.up)("q-list");return(0,t.wg)(),(0,t.j4)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(n,{side:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(u(e.currentElementTimeData.currentTime)),1)])),_:1}),(0,t.Wm)(n,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,{disable:e.disabled,modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),min:0,max:1,step:.01,label:"","label-value":u(e.currentElementTimeData.currentTime),onChange:i},null,8,["disable","modelValue","label-value"])])),_:1}),(0,t.Wm)(n,{side:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(u(e.currentElementTimeData.duration)),1)])),_:1})])),_:1})])),_:1})}}},oe=ne,se=oe;h()(ne,"components",{QList:P.Z,QItem:U.Z,QItemSection:I.Z,QSlider:V.Z});var re=a(8106),ie=a(8514);const ue={id:"current_track_actions"},de={__name:"SidebarPlayerTrackActions",props:{id:String,disabled:Boolean,visibleAnalyzer:Boolean,shuffle:Boolean,repeatMode:String,isTrackFavorited:Number,downloadURL:String},emits:["toggleAnalyzer","toggleVisualization","toggleShuffle","toggleRepeatMode"],setup(e,{emit:l}){const a=e,n=(0,u.Z)(),{t:o}=(0,d.QT)(),s=(0,t.Fl)((()=>{let e=null;switch(a.repeatMode){case"track":e="music_note";break;case"playlist":e="queue_music";break;default:e="replay";break}return e})),r=(0,t.Fl)((()=>{let e=null;switch(a.repeatMode){case"track":e="Repeat mode: track";break;case"playlist":e="Repeat mode: playlist";break;default:e="Repeat mode: none";break}return e}));function i(){l("toggleAnalyzer")}function c(){ie.bus.emit("showFullScreenVisualization")}function m(){l("toggleShuffle")}function p(){l("toggleRepeatMode")}function v(){if(a.id){const e=a.isTrackFavorited?re.dC.unSetFavorite:re.dC.setFavorite;e(a.id).then((e=>{})).catch((e=>{switch(e.response.status){default:n.notify({type:"negative",message:o("API Error: error when toggling favorite flag"),caption:o("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}}function g(){l("toggleTrackDetailsModal")}return(l,a)=>{const n=(0,t.up)("q-icon"),o=(0,t.up)("q-btn"),u=(0,t.up)("q-btn-group");return(0,t.wg)(),(0,t.iD)("div",ue,[(0,t.Wm)(u,{spread:""},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Toggle analyzer",onClick:i},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:"bar_chart",color:e.visibleAnalyzer?"pink":""},null,8,["color"])])),_:1},8,["disable"]),(0,t.Wm)(o,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Toggle shuffle"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:"shuffle",color:e.shuffle?"pink":"",onClick:m},null,8,["color"])])),_:1},8,["disable"]),(0,t.Wm)(o,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:r.value,onClick:p},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:s.value,color:e.repeatMode?"pink":""},null,8,["name","color"])])),_:1},8,["disable","title"]),(0,t.Wm)(o,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Love/unlove track",onClick:v},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:"favorite",color:e.isTrackFavorited?"pink":""},null,8,["color"])])),_:1},8,["disable"]),e.downloadURL?((0,t.wg)(),(0,t.j4)(o,{key:0,dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Download track",href:e.downloadURL},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:"file_download"})])),_:1},8,["disable","href"])):((0,t.wg)(),(0,t.j4)(o,{key:1,dense:"",unelevated:"",size:"md",disable:"",title:"Download track"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:"file_download"})])),_:1})),(0,t.Wm)(o,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Toggle visualization",onClick:c},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:"screenshot_monitor"})])),_:1},8,["disable"]),(0,t.Wm)(o,{dense:"",unelevated:"",size:"md",disable:e.disabled,title:"Track tags details",onClick:g},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{name:"tag"})])),_:1},8,["disable"])])),_:1})])}}},ce=de,me=ce;h()(de,"components",{QBtnGroup:G.Z,QBtn:K.Z,QIcon:M.Z});var pe=a(4376);const ve=(0,t._)("br",null,null,-1),ge=(0,t._)("br",null,null,-1),be={key:0},fe={__name:"SidebarPlayerTrackDetailsModal",props:{trackId:String,coverImage:String},emits:["hide"],setup(e,{emit:l}){const a=e,s=(0,u.Z)(),{t:i}=(0,d.QT)(),c=(0,n.iH)(!1),m=(0,n.iH)(!0);function p(){l("hide")}const v=(0,n.iH)(null);function g(){a.trackId&&(c.value=!0),r.api.track.get(a.trackId).then((e=>{c.value=!1,v.value=e.data.track})).catch((e=>{c.value=!1,s.notify({type:"negative",message:"API Error: error loading track details",caption:"API Error: fatal error details: HTTP {"+e.response.status+"} ({"+e.response.statusText+"})"}),c.value=!1}))}return g(),(e,l)=>{const a=(0,t.up)("q-img"),s=(0,t.up)("q-btn"),r=(0,t.up)("q-card-section"),i=(0,t.up)("q-separator"),u=(0,t.up)("q-card"),d=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(d,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e),onHide:p},{default:(0,t.w5)((()=>[v.value?((0,t.wg)(),(0,t.j4)(u,{key:0,class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{src:v.value.covers.normal,width:"400px",height:"400px","spinner-color":"pink"},null,8,["src"]),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("p",null,"Title: "+(0,o.zw)(v.value.title),1),(0,t._)("p",null,[(0,t.Uk)("Artist: "+(0,o.zw)(v.value.artist.name),1),ve,v.value.artist.mbId?((0,t.wg)(),(0,t.j4)(s,{key:0,size:"sm",outline:"",dense:"",icon:"link",label:"musicbrainz",href:"https://musicbrainz.org/artist/"+v.value.artist.mbId,target:"blank"},null,8,["href"])):(0,t.kq)("",!0)]),(0,t._)("p",null,[(0,t.Uk)("Album: "+(0,o.zw)(v.value.album.title),1),ge,v.value.album.mbId?((0,t.wg)(),(0,t.j4)(s,{key:0,size:"sm",outline:"",dense:"",icon:"link",label:"musicbrainz",href:"https://musicbrainz.org/release/"+v.value.album.mbId,target:"blank"},null,8,["href"])):(0,t.kq)("",!0)]),(0,t._)("p",null,"Album track index: "+(0,o.zw)(v.value.trackNumber),1),(0,t._)("p",null,"Year: "+(0,o.zw)(v.value.album.year),1),v.value.favorited?((0,t.wg)(),(0,t.iD)("p",be,"Favorited at: "+(0,o.zw)((0,n.SU)(pe.ZP).formatDate(1e3*v.value.favorited,"YYYY-MM-DD HH:mm:ss Z")),1)):(0,t.kq)("",!0)])])),_:1}),(0,t.Wm)(i)])),_:1})):(0,t.kq)("",!0)])),_:1},8,["modelValue"])}}};var ke=a(2074),we=a(4458),he=a(3190),ye=a(926);const _e=fe,Se=_e;h()(fe,"components",{QDialog:ke.Z,QCard:we.Z,QImg:k.Z,QCardSection:he.Z,QBtn:K.Z,QSeparator:ye.Z});const xe=(0,t._)("audio",{id:"audio",class:"is-hidden"},null,-1),We={__name:"SidebarPlayer",setup(e){const l=(0,u.Z)(),{t:a}=(0,d.QT)(),o=(0,i.F)();o.isLoaded||o.load();const s=(0,n.iH)(!1),c=o.getVolume||1,b=(0,m.n)(),f=(0,n.iH)(null),k=(0,n.iH)(!1),w=(0,n.iH)(!0),h=(0,v.d)(),y=(0,p.l)(),S=(0,t.Fl)((()=>{const e=h.getCurrentElement;return null!=e.track})),x=(0,t.Fl)((()=>{const e=h.getCurrentElement;return e&&e.track?e.track.id||null:e&&e.radioStation&&e.radioStation.id||null})),W=(0,t.Fl)((()=>{const e=h.getCurrentElement;return e&&e.track&&e.track.favorited||null})),z=(0,t.Fl)((()=>{const e=h.getCurrentElement;return e?e.track&&e.track.covers?e.track.covers.normal||null:e.radioStation&&e.radioStation.images&&e.radioStation.images.normal||null:null})),q=(0,t.Fl)((()=>{const e=h.getCurrentElement;return e?e.track&&e.track.covers?e.track.covers.small||null:e.radioStation&&e.radioStation.images&&e.radioStation.images.small||null:null})),C=(0,t.Fl)((()=>null==x.value)),P=(0,n.iH)({duration:0,currentTime:0,currentProgress:0,position:0});function U(e){r.api.track.increasePlayCount(e).then((e=>{})).catch((e=>{switch(s.value=!1,e.response.status){default:l.notify({type:"negative",message:a("API Error: fatal error"),caption:a("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})});break}}))}function I(){b.interact(),h.skipPrevious()}function M(e){b.interact(),b.play(e)}function V(){switch(b.getRepeatMode){case"track":b.setRepeatMode("playlist");break;case"playlist":b.setRepeatMode(null);break;default:b.setRepeatMode("track");break}}function E(){b.toggleShuffle()}function F(){b.interact(),h.skipNext()}function Z(e){b.setVolume(e),o.saveVolume(e)}function Q(e){e>=0&&e<1&&b.setCurrentTime(b.getDuration*e)}return(0,t.bv)((()=>{f.value=b.getElement,b.setVolume(c),f.value.addEventListener("ended",(e=>{console.debug("Audio is ended"),S.value&&U(x.value),"playlist"==b.getRepeatMode?h.allowSkipNext?F():(h.saveCurrentTrackIndex(0),b.stop(),b.play()):"track"==b.getRepeatMode?(b.stop(),b.play()):h.allowSkipNext?F():y.setStatusStopped()})),f.value.addEventListener("error",(e=>{console.debug("Audio loading error"),console.log(e)})),f.value.addEventListener("timeupdate",(e=>{P.value.currentProgress=f.value.currentTime/f.value.duration,P.value.duration=Math.floor(f.value.duration),P.value.currentTime=Math.floor(f.value.currentTime),isNaN(P.value.currentProgress)?P.value.position=0:P.value.position=Number(P.value.currentProgress.toFixed(2))}))})),(e,l)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(_,{coverImage:z.value,smallVinylImage:q.value,rotateVinyl:(0,n.SU)(y).isPlaying},null,8,["coverImage","smallVinylImage","rotateVinyl"]),xe,(0,t.wy)((0,t.Wm)(A,{active:w.value},null,8,["active"]),[[g.F8,w.value]]),(0,t.Wm)(T,{disabled:C.value,defaultValue:(0,n.SU)(c),onVolumeChange:Z},null,8,["disabled","defaultValue"]),(0,t.Wm)($,{currentElement:(0,n.SU)(h).getCurrentElement},null,8,["currentElement"]),(0,t.Wm)(te,{disabled:C.value,allowSkipPrevious:(0,n.SU)(h).allowSkipPrevious,allowPlay:!0,allowSkipNext:(0,n.SU)(h).allowSkipNext,isPlaying:(0,n.SU)(y).isPlaying,onSkipPrevious:I,onPlay:M,onSkipNext:F},null,8,["disabled","allowSkipPrevious","allowSkipNext","isPlaying"]),(0,t.Wm)(se,{disabled:C.value||!S.value,currentElementTimeData:P.value,onSeek:Q},null,8,["disabled","currentElementTimeData"]),(0,t.Wm)(me,{disabled:C.value,id:x.value,downloadURL:(0,n.SU)(h).getCurrentElementURL,isTrackFavorited:W.value,visibleAnalyzer:w.value,shuffle:(0,n.SU)(b).getShuffle,repeatMode:(0,n.SU)(b).getRepeatMode,onToggleAnalyzer:l[0]||(l[0]=e=>w.value=!w.value),onToggleShuffle:E,onToggleRepeatMode:V,onToggleTrackDetailsModal:l[1]||(l[1]=e=>k.value=!0)},null,8,["disabled","id","downloadURL","isTrackFavorited","visibleAnalyzer","shuffle","repeatMode"]),k.value?((0,t.wg)(),(0,t.j4)(Se,{key:0,coverImage:z.value,trackId:x.value,onHide:l[2]||(l[2]=e=>k.value=!1)},null,8,["coverImage","trackId"])):(0,t.kq)("",!0)]))}},ze=We,qe=ze,Ae={style:{},class:"bg-white text-dark"},Ce=(0,t._)("br",null,null,-1),Pe={__name:"SidebarPlaylist",setup(e){const l=(0,v.d)(),a=(0,n.iH)([]);return a.value=l.getElements,(e,l)=>{const n=(0,t.up)("q-item-label"),s=(0,t.up)("q-item-section"),r=(0,t.up)("q-icon"),i=(0,t.up)("q-item"),u=(0,t.up)("q-separator"),d=(0,t.up)("q-list");return(0,t.wg)(),(0,t.iD)("div",Ae,[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.value,((e,l)=>((0,t.wg)(),(0,t.j4)(i,{key:e.track.id},{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Wm)(n,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.track.title)+(0,o.zw)(l),1)])),_:2},1024),(0,t.Wm)(n,{caption:"",lines:"2"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.track.artist.name),1),Ce,(0,t.Uk)((0,o.zw)(e.track.album.title)+" ("+(0,o.zw)(e.track.album.year)+").",1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(s,{side:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)("4:34")])),_:1}),(0,t.Wm)(r,{name:"music_note",color:"pink"})])),_:1})])),_:2},1024)))),128)),(0,t.Wm)(u,{spaced:"",inset:""})])),_:1})])}}};var Ue=a(3115);h()(Pe,"components",{QList:P.Z,QItem:U.Z,QItemSection:I.Z,QItemLabel:Ue.Z,QIcon:M.Z,QSeparator:ye.Z});const Ie={__name:"AppLeftSidebar",setup(e){const l=(0,u.Z)();return(e,a)=>{const s=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(s,{class:(0,o.C_)(["q-mb-md",{fixed:(0,n.SU)(l).screen.gt.md}])},{default:(0,t.w5)((()=>[(0,t.Wm)(qe)])),_:1},8,["class"])}}},Me=Ie,Ve=Me;h()(Ie,"components",{QCard:we.Z});const Ee={class:"text-center"},Te={class:"text-weight-medium"},Fe={class:"text-grey-8 q-gutter-xs"},Ze={class:"text-weight-medium"},Qe=(0,t._)("br",null,null,-1),Le={class:"text-grey-8 q-gutter-xs"},Be={class:"text-weight-medium"},De={class:"text-grey-8 q-gutter-xs"},He={__name:"ToolbarSearch",setup(e){const{t:l}=(0,d.QT)(),a=(0,n.iH)(null),s=(0,n.iH)([]),i=(0,n.iH)(!1),u=(0,n.iH)([]);function c(e,a){e&&e.trim().length>0?i.value||(s.value=[],i.value=!0,a((()=>{r.api.globalSearch.search({text:e},1,3,!1,"","ASC").then((e=>{u.value=e.data.data,s.value=[],s.value=s.value.concat(u.value.tracks.map((e=>({isTrack:!0,id:e.id,label:e.title,caption:l("fastSearchResultCaption",{artistName:e.artist.name,albumTitle:e.album.title,albumYear:e.album.year})})))),s.value=s.value.concat(u.value.albums.map((e=>({isAlbum:!0,id:e.mbId,label:e.title,caption:"by  "+e.artist.name+" ("+e.year+")",albumArtist:e.artist.name,year:e.year,image:e.covers.small})))),s.value=s.value.concat(u.value.artists.map((e=>({isArtist:!0,id:e.mbId,label:e.name,caption:"total tracks: "+e.totalTracks})))),i.value=!1})).catch((e=>{i.value=!1,$q.notify({type:"negative",message:l("API Error: fatal error"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})}))}))):a((()=>{s.value=[]}))}function m(e){const l=u.value.tracks.find((l=>l.id==e));l&&re.dC.play(l)}function p(e){const l=u.value.tracks.find((l=>l.id==e));l&&re.dC.enqueue(l)}function v(e,l,a,t){let n={};n=e?{albumMbId:e}:{albumTitle:l||null,artistName:a||null,year:t||null},r.api.track.search(n,1,0,!1,"trackNumber","ASC").then((e=>{re.dC.play(e.data.data.items.map((e=>({track:e}))))})).catch((e=>{}))}function g(e,l,a,t){let n={};n=e?{albumMbId:e}:{albumTitle:l||null,artistName:a||null,year:t||null},r.api.track.search(n,1,0,!1,"trackNumber","ASC").then((e=>{re.dC.enqueue(e.data.data.items.map((e=>({track:e}))))})).catch((e=>{}))}return(e,r)=>{const u=(0,t.up)("q-spinner"),d=(0,t.up)("q-item-section"),b=(0,t.up)("q-item"),f=(0,t.up)("q-icon"),k=(0,t.up)("q-item-label"),w=(0,t.up)("q-btn"),h=(0,t.up)("q-separator"),y=(0,t.up)("q-img"),_=(0,t.up)("q-list"),S=(0,t.up)("q-select");return(0,t.wg)(),(0,t.j4)(S,{ref:"search",dense:"",standout:"","use-input":"","hide-selected":"",class:"q-mx-md",filled:"",color:"pink","stack-label":!1,label:(0,n.SU)(l)("Search..."),modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),options:s.value,onFilter:c,style:{"min-width":"24%"}},(0,t.Nv)({option:(0,t.w5)((e=>[(0,t.Wm)(_,{class:"bg-grey-2 text-dark"},{default:(0,t.w5)((()=>[e.opt.isTrack?((0,t.wg)(),(0,t.j4)(b,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{avatar:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"music_note",color:"black",size:"34px"})])),_:1}),(0,t.Wm)(d,{top:"",class:"col-1 gt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{class:"q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Uk)("Track")])),_:1})])),_:1}),(0,t.Wm)(d,{top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{lines:"1"},{default:(0,t.w5)((()=>[(0,t._)("span",Te,(0,o.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(k,{caption:"",lines:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.opt.caption),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(d,{top:"",side:""},{default:(0,t.w5)((()=>[(0,t._)("div",Fe,[(0,t.Wm)(w,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"play_arrow",title:(0,n.SU)(l)("play track"),onClick:l=>m(e.opt.id)},null,8,["title","onClick"]),(0,t.Wm)(w,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"add_box",title:(0,n.SU)(l)("enqueue track"),onClick:l=>p(e.opt.id)},null,8,["title","onClick"])])])),_:2},1024),(0,t.Wm)(h)])),_:2},1024)):e.opt.isAlbum?((0,t.wg)(),(0,t.j4)(b,{key:1},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{avatar:"",top:""},{default:(0,t.w5)((()=>[e.opt.image?((0,t.wg)(),(0,t.j4)(y,{key:0,src:e.opt.image,style:{width:"34px",height:"34px"}},{error:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"album",color:"black",size:"34px"})])),_:2},1032,["src"])):((0,t.wg)(),(0,t.j4)(f,{key:1,name:"album",color:"black",size:"34px"}))])),_:2},1024),(0,t.Wm)(d,{top:"",class:"col-1 gt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{class:"q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Uk)("Album")])),_:1})])),_:1}),(0,t.Wm)(d,{top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{lines:"1"},{default:(0,t.w5)((()=>[(0,t._)("span",Ze,(0,o.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(k,{caption:"",lines:"2"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.opt.caption)+" ",1),Qe,(0,t.Uk)(" total tracks: 13 ")])),_:2},1024)])),_:2},1024),(0,t.Wm)(d,{top:"",side:""},{default:(0,t.w5)((()=>[(0,t._)("div",Le,[(0,t.Wm)(w,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"play_arrow",title:(0,n.SU)(l)("play album"),onClick:l=>v(e.opt.id,e.opt.label,e.opt.albumArtist,e.opt.year)},null,8,["title","onClick"]),(0,t.Wm)(w,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"add_box",title:(0,n.SU)(l)("enqueue album"),onClick:l=>g(e.opt.id,e.opt.label,e.opt.albumArtist,e.opt.year)},null,8,["title","onClick"])])])),_:2},1024)])),_:2},1024)):e.opt.isArtist?((0,t.wg)(),(0,t.j4)(b,{key:2,clickable:"",to:{name:"artist",params:{name:e.opt.label}}},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{avatar:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"person",color:"black",size:"34px"})])),_:1}),(0,t.Wm)(d,{top:"",class:"col-1 gt-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{class:"q-mt-sm"},{default:(0,t.w5)((()=>[(0,t.Uk)("Artist")])),_:1})])),_:1}),(0,t.Wm)(d,{top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{lines:"1"},{default:(0,t.w5)((()=>[(0,t._)("span",Be,(0,o.zw)(e.opt.label),1)])),_:2},1024),(0,t.Wm)(k,{caption:"",lines:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.opt.caption),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(d,{top:"",side:""},{default:(0,t.w5)((()=>[(0,t._)("div",De,[(0,t.Wm)(f,{class:"gt-xs",size:"sm",flat:"",dense:"",round:"",name:"link"})])])),_:1})])),_:2},1032,["to"])):(0,t.kq)("",!0)])),_:2},1024)])),_:2},[i.value?{name:"no-option",fn:(0,t.w5)((()=>[(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t._)("div",Ee,[(0,t.Wm)(u,{color:"pink",size:"32px"})])])),_:1})])),_:1})])),key:"0"}:void 0]),1032,["label","modelValue","options"])}}};var Ne=a(6384),Re=a(3902);const je=He,Oe=je;h()(He,"components",{QSelect:Ne.Z,QItem:U.Z,QItemSection:I.Z,QSpinner:Re.Z,QList:P.Z,QIcon:M.Z,QItemLabel:Ue.Z,QBtn:K.Z,QSeparator:ye.Z,QImg:k.Z});const Ye=e=>((0,t.dD)("data-v-a3c4a996"),e=e(),(0,t.Cn)(),e),Ge={id:"visualization-container",style:{"background-image":"url('images/overlay.jpg')"}},Ke=Ye((()=>(0,t._)("div",{id:"analyzer-canvas-container"},null,-1))),Xe=Ye((()=>(0,t._)("div",{class:"text-h6"},"Spieldose analyzer settings ",-1))),$e={class:"row"},Je={class:"col-12"},el={class:"row q-pb-lg"},ll={class:"col-2"},al={class:"col-2"},tl={class:"col-2"},nl={class:"col-2"},ol={class:"col-2"},sl={class:"col-2"},rl={class:"row q-pb-lg"},il={class:"col-3"},ul={class:"col-3"},dl={class:"col-3"},cl={class:"col-3"},ml={key:0},pl={class:"row"},vl={class:"col-4"},gl={class:"col-2"},bl={class:"col-2"},fl={class:"col-2"},kl={class:"col-2"},wl={class:"row"},hl={class:"col-6"},yl={style:{margin:"64px"}},_l={key:0,class:"q-px-md",style:{"margin-left":"64px"}},Sl={class:"text-grey-2 q-mt-none q-mb-sm"},xl={key:0,class:"text-grey-5 q-mt-md q-mb-sm"},Wl={class:"text-grey-6 q-mt-xs"},zl={key:0},ql={class:"col-3 self-end"},Al={class:"text-grey-6 q-ml-lg q-mt-sm"},Cl={class:"col-3 self-center"},Pl={class:"fixed-bottom-right"},Ul={__name:"FullScreenVisualizationSettings",emits:["hide","skipPrevious","play","skipNext"],setup(e,{emit:l}){const a=(0,n.iH)(!1),s=((0,t.f3)("spieldoseEvents"),(0,u.Z)()),r=(0,i.F)();r.isLoaded||r.load();const d=Math.round(s.screen.height/2),c=(0,n.iH)(!1),g=(0,m.n)(),b=(0,p.l)(),f=(0,v.d)(),k=f.elementCount,w=(0,n.iH)(f.getCurrentIndex),h=((0,n.iH)(g.getElement),(0,t.Fl)((()=>f.getCurrentElement))),y=(0,t.Fl)((()=>h.value?h.value.track&&h.value.track.covers?h.value.track.covers.normal||null:h.value.radioStation&&h.value.radioStation.images&&h.value.radioStation.images.normal||null:null)),_=(0,t.Fl)((()=>f.allowSkipPrevious)),x=(0,t.Fl)((()=>f.allowSkipNext)),W=(0,t.Fl)((()=>f.allowPlay)),z={apple:{name:"Apple ][",colorStops:[{pos:.1667,color:"#61bb46"},{pos:.3333,color:"#fdb827"},{pos:.5,color:"#f5821f"},{pos:.6667,color:"#e03a3e"},{pos:.8333,color:"#963d97"},{pos:1,color:"#009ddc"}],disabled:!1},aurora:{name:"Aurora",bgColor:"#0e172a",colorStops:[{pos:.1,color:"hsl( 120, 100%, 50% )"},{pos:1,color:"hsl( 216, 100%, 50% )"}],disabled:!1},borealis:{name:"Borealis",bgColor:"#0d1526",colorStops:[{pos:.1,color:"hsl( 120, 100%, 50% )"},{pos:.5,color:"hsl( 189, 100%, 40% )"},{pos:1,color:"hsl( 290, 60%, 40% )"}],disabled:!1},candy:{name:"Candy",bgColor:"#0d0619",colorStops:[{pos:.1,color:"#ffaf7b"},{pos:.5,color:"#d76d77"},{pos:1,color:"#3a1c71"}],disabled:!1},cool:{name:"Cool",bgColor:"#0b202b",colorStops:["hsl( 208, 0%, 100% )","hsl( 208, 100%, 35% )"],disabled:!1},dusk:{name:"Dusk",bgColor:"#0e172a",colorStops:[{pos:.2,color:"hsl( 55, 100%, 50% )"},{pos:1,color:"hsl( 16, 100%, 50% )"}],disabled:!1},miami:{name:"Miami",bgColor:"#110a11",colorStops:[{pos:.024,color:"rgb( 251, 198, 6 )"},{pos:.283,color:"rgb( 224, 82, 95 )"},{pos:.462,color:"rgb( 194, 78, 154 )"},{pos:.794,color:"rgb( 32, 173, 190 )"},{pos:1,color:"rgb( 22, 158, 95 )"}],disabled:!1},orient:{name:"Orient",bgColor:"#100",colorStops:[{pos:.1,color:"#f00"},{pos:1,color:"#600"}],disabled:!1},outrun:{name:"Outrun",bgColor:"#101",colorStops:[{pos:0,color:"rgb( 255, 223, 67 )"},{pos:.182,color:"rgb( 250, 84, 118 )"},{pos:.364,color:"rgb( 198, 59, 243 )"},{pos:.525,color:"rgb( 133, 80, 255 )"},{pos:.688,color:"rgb( 74, 104, 247 )"},{pos:1,color:"rgb( 35, 210, 255 )"}],disabled:!1},pacific:{name:"Pacific Dream",bgColor:"#051319",colorStops:[{pos:.1,color:"#34e89e"},{pos:1,color:"#0f3443"}],disabled:!1},shahabi:{name:"Shahabi",bgColor:"#060613",colorStops:[{pos:.1,color:"#66ff00"},{pos:1,color:"#a80077"}],disabled:!1},summer:{name:"Summer",bgColor:"#041919",colorStops:[{pos:.1,color:"#fdbb2d"},{pos:1,color:"#22c1c3"}],disabled:!1},sunset:{name:"Sunset",bgColor:"#021119",colorStops:[{pos:.1,color:"#f56217"},{pos:1,color:"#0b486b"}],disabled:!1},tiedye:{name:"Tie Dye",colorStops:[{pos:.038,color:"rgb( 15, 209, 165 )"},{pos:.208,color:"rgb( 15, 157, 209 )"},{pos:.519,color:"rgb( 133, 13, 230 )"},{pos:.731,color:"rgb( 230, 13, 202 )"},{pos:.941,color:"rgb( 242, 180, 107 )"}],disabled:!1}},q=(0,n.iH)([{label:"classic",value:"classic"},{label:"orangered",value:"orangered"},{label:"prism",value:"prism"},{label:"rainbow",value:"rainbow"},{label:"steelblue",value:"steelblue"}]);for(const[t]of Object.entries(z))q.value.push({label:t,value:t});const A={0:"Discrete frequencies",1:"1/24th octave bands",2:"1/12th octave bands",3:"1/8th octave bands",4:"1/6th octave bands",5:"1/4th octave bands",6:"1/3rd octave bands",7:"Half octave bands",8:"Full octave bands",9:"Line / Area graph"},C=(0,t.Fl)((()=>A[E.value.audioMotionAnalyzer.mode])),P=(0,t.Fl)((()=>0!=E.value.audioMotionAnalyzer.maxFPS?E.value.audioMotionAnalyzer.maxFPS:"unlimited")),U=(0,t.Fl)((()=>0!=E.value.audioMotionAnalyzer.reflexRatio?E.value.audioMotionAnalyzer.reflexRatio:"no reflection")),I=(0,n.iH)(null);function M(e,l){"fschange"==e&&(l.isFullscreen||(I.value&&I.value.destroy(),ie.bus.emit("hideFullScreenVisualization")))}const V={source:null,fsElement:null,connectSpeakers:!1,gradient:"classic",fullScreen:!1,mode:2,mirror:0,height:625,barSpace:.6,maxFPS:60,showFPS:!1,radial:!1,ledBars:!0,trueLeds:!1,lumiBars:!1,alphaBars:!1,showPeaks:!0,channelLayout:"single",reflexRatio:.3,reflexAlpha:.2,reflexBright:.8,overlay:!0,showBgColor:!0,bgAlpha:.5,showScaleX:!1,showScaleY:!1,splitGradient:!1,start:!1,reflexFit:!0,onCanvasResize:null},E=(0,n.iH)(r.getFullScreenVisualizationSettings||{audioMotionAnalyzer:V});function T(e,l){const a={};a[e]=l,I.value.setOptions(a),r.saveFullScreenVisualizationSettings(E.value)}function F(){if(!I.value){const e=E.value.audioMotionAnalyzer.gradient||"classic";E.value.audioMotionAnalyzer.gradient="classic",E.value.audioMotionAnalyzer.source=g.getAudioMotionAnalyzerSource(),E.value.audioMotionAnalyzer.fsElement=document.getElementById("visualization-container"),E.value.audioMotionAnalyzer.onCanvasResize=M,I.value=new S.Z(document.getElementById("analyzer-canvas-container"),E.value.audioMotionAnalyzer);for(const[l,a]of Object.entries(z))I.value.registerGradient(l,{bgColor:a.bgColor||"#111",colorStops:a.colorStops||[]});E.value.audioMotionAnalyzer.gradient=e,I.value.setOptions({gradient:e})}I.value.isOn||(I.value.toggleAnalyzer(),I.value.toggleFullscreen())}function Z(){g.interact(),g.play(!1)}function Q(){g.interact(),f.skipPrevious()}function L(){g.interact(),f.skipNext()}function B(e){g.interact(),f.saveCurrentTrackIndex(e)}return E.value.anazly,(0,t.bv)((()=>{F()})),(e,l)=>{const s=(0,t.up)("q-space"),r=(0,t.up)("q-btn"),i=(0,t.up)("q-card-section"),u=(0,t.up)("q-item-label"),m=(0,t.up)("q-btn-toggle"),p=(0,t.up)("q-item-section"),v=(0,t.up)("q-item"),g=(0,t.up)("q-slider"),S=(0,t.up)("q-card"),z=(0,t.up)("q-img"),A=(0,t.up)("q-icon"),I=(0,t.up)("q-avatar"),M=(0,t.up)("q-separator"),V=(0,t.up)("q-virtual-scroll"),F=(0,t.up)("q-list");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",Ge,[Ke,c.value?((0,t.wg)(),(0,t.j4)(S,{key:0,id:"settings-container",class:"bg-grey-4 q-pb-lg fixed-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"row items-center q-pb-none"},{default:(0,t.w5)((()=>[Xe,(0,t.Wm)(s),(0,t.Wm)(r,{icon:"close",flat:"",round:"",dense:"",class:"cursor-pointer",onClick:l[0]||(l[0]=e=>{c.value=!1})})])),_:1}),(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t._)("div",$e,[(0,t._)("div",Je,[(0,t.Wm)(u,{header:"",class:"text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("Gradient")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{dense:"",modelValue:E.value.audioMotionAnalyzer.gradient,"onUpdate:modelValue":[l[1]||(l[1]=e=>E.value.audioMotionAnalyzer.gradient=e),l[2]||(l[2]=e=>T("gradient",e))],unelevated:"","toggle-color":"pink",options:q.value,"no-caps":""},null,8,["modelValue","options"])])),_:1})])),_:1})])]),(0,t.Wm)(u,{header:"",class:"text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("General")])),_:1}),(0,t._)("div",el,[(0,t._)("div",ll,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Max FPS")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:E.value.audioMotionAnalyzer.maxFPS,"onUpdate:modelValue":l[3]||(l[3]=e=>E.value.audioMotionAnalyzer.maxFPS=e),min:0,max:120,step:30,label:"","label-always":"","switch-label-side":"","label-value":P.value,color:"grey",onChange:l[4]||(l[4]=e=>T("maxFPS",E.value.audioMotionAnalyzer.maxFPS))},null,8,["modelValue","label-value"])])),_:1})])),_:1})]),(0,t._)("div",al,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Show FPS")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{dense:"",size:"sm",modelValue:E.value.audioMotionAnalyzer.showFPS,"onUpdate:modelValue":[l[5]||(l[5]=e=>E.value.audioMotionAnalyzer.showFPS=e),l[6]||(l[6]=e=>T("showFPS",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",tl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Analyzer mode")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{dense:"",modelValue:E.value.audioMotionAnalyzer.mode,"onUpdate:modelValue":l[7]||(l[7]=e=>E.value.audioMotionAnalyzer.mode=e),min:0,max:10,step:1,label:"","label-always":"","switch-label-side":"","label-value":C.value,color:"grey",onChange:l[8]||(l[8]=e=>T("mode",E.value.audioMotionAnalyzer.mode))},null,8,["modelValue","label-value"])])),_:1})])),_:1})]),(0,t._)("div",nl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Channel Layout")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{dense:"",size:"sm",modelValue:E.value.audioMotionAnalyzer.channelLayout,"onUpdate:modelValue":[l[9]||(l[9]=e=>E.value.audioMotionAnalyzer.channelLayout=e),l[10]||(l[10]=e=>T("channelLayout",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"mono",value:"single"},{label:"stereo",value:"dual-vertical"}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",ol,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Radial")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{dense:"",size:"sm",modelValue:E.value.audioMotionAnalyzer.radial,"onUpdate:modelValue":[l[11]||(l[11]=e=>E.value.audioMotionAnalyzer.radial=e),l[12]||(l[12]=e=>T("radial",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",sl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Peaks")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{dense:"",size:"sm",modelValue:E.value.audioMotionAnalyzer.showPeaks,"onUpdate:modelValue":[l[13]||(l[13]=e=>E.value.audioMotionAnalyzer.showPeaks=e),l[14]||(l[14]=e=>T("showPeaks",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}],disable:E.value.audioMotionAnalyzer.lumiBars},null,8,["modelValue","disable"])])),_:1})])),_:1})])]),(0,t.Wm)(u,{header:"",class:"q-pb-none text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("Mirror & reflex settings")])),_:1}),(0,t._)("div",rl,[(0,t._)("div",il,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Horizontal mirror")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{size:"sm",modelValue:E.value.audioMotionAnalyzer.mirror,"onUpdate:modelValue":[l[15]||(l[15]=e=>E.value.audioMotionAnalyzer.mirror=e),l[16]||(l[16]=e=>T("mirror",e))],unelevated:"","no-caps":"","toggle-color":"pink",spread:"",options:[{label:"Left",value:-1},{label:"None",value:0},{label:"Right",value:1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",ul,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Vertical reflex ratio")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:E.value.audioMotionAnalyzer.reflexRatio,"onUpdate:modelValue":l[17]||(l[17]=e=>E.value.audioMotionAnalyzer.reflexRatio=e),min:0,max:.9,step:.1,label:"","label-always":"","switch-label-side":"","label-value":U.value,color:"grey",onChange:l[18]||(l[18]=e=>T("reflexRatio",E.value.audioMotionAnalyzer.reflexRatio))},null,8,["modelValue","label-value"])])),_:1})])),_:1})]),(0,t._)("div",dl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Vertical reflex alpha")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:E.value.audioMotionAnalyzer.reflexAlpha,"onUpdate:modelValue":l[19]||(l[19]=e=>E.value.audioMotionAnalyzer.reflexAlpha=e),min:0,max:1,step:.1,label:"","label-always":"","switch-label-side":"",color:"grey",onChange:l[20]||(l[20]=e=>T("reflexAlpha",E.value.audioMotionAnalyzer.reflexAlpha))},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",cl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Vertical reflex bright")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:E.value.audioMotionAnalyzer.reflexBright,"onUpdate:modelValue":l[21]||(l[21]=e=>E.value.audioMotionAnalyzer.reflexBright=e),min:0,max:1,step:.1,label:"","label-always":"","switch-label-side":"",color:"grey",onChange:l[22]||(l[22]=e=>T("reflexBright",E.value.audioMotionAnalyzer.reflexBright))},null,8,["modelValue"])])),_:1})])),_:1})])]),E.value.audioMotionAnalyzer.mode>0&&E.value.audioMotionAnalyzer.mode<9?((0,t.wg)(),(0,t.iD)("div",ml,[(0,t.Wm)(u,{header:"",class:"text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("Octave bar settings")])),_:1}),(0,t._)("div",pl,[(0,t._)("div",vl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Bar space")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:E.value.audioMotionAnalyzer.barSpace,"onUpdate:modelValue":l[23]||(l[23]=e=>E.value.audioMotionAnalyzer.barSpace=e),min:0,max:.9,step:.1,label:"","label-always":"","switch-label-side":"",color:"grey",onChange:l[24]||(l[24]=e=>T("barSpace",E.value.audioMotionAnalyzer.barSpace))},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",gl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Led bars")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{size:"sm",modelValue:E.value.audioMotionAnalyzer.ledBars,"onUpdate:modelValue":[l[25]||(l[25]=e=>E.value.audioMotionAnalyzer.ledBars=e),l[26]||(l[26]=e=>T("ledBars",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",bl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("True leds")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{size:"sm",modelValue:E.value.audioMotionAnalyzer.trueLeds,"onUpdate:modelValue":[l[27]||(l[27]=e=>E.value.audioMotionAnalyzer.trueLeds=e),l[28]||(l[28]=e=>T("trueLeds",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",fl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Lumi bars")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{size:"sm",modelValue:E.value.audioMotionAnalyzer.lumiBars,"onUpdate:modelValue":[l[29]||(l[29]=e=>E.value.audioMotionAnalyzer.lumiBars=e),l[30]||(l[30]=e=>T("lumiBars",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})]),(0,t._)("div",kl,[(0,t.Wm)(u,{header:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Alpha bars")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{dense:"",size:"sm",modelValue:E.value.audioMotionAnalyzer.alphaBars,"onUpdate:modelValue":[l[31]||(l[31]=e=>E.value.audioMotionAnalyzer.alphaBars=e),l[32]||(l[32]=e=>T("alphaBars",e))],unelevated:"","toggle-color":"pink",spread:"",options:[{label:"ON",value:!0},{label:"OFF",value:!1}]},null,8,["modelValue"])])),_:1})])),_:1})])]),(0,t._)("div",null,[(0,t.Wm)(u,{header:"",class:"text-dark text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)("Analyzer canvas height")])),_:1}),(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:E.value.audioMotionAnalyzer.height,"onUpdate:modelValue":l[33]||(l[33]=e=>E.value.audioMotionAnalyzer.height=e),min:100,max:(0,n.SU)(d),step:25,label:"","label-always":"","switch-label-side":"",color:"grey",onChange:l[34]||(l[34]=e=>T("height",E.value.audioMotionAnalyzer.height))},null,8,["modelValue","max"])])),_:1})])),_:1})])])):(0,t.kq)("",!0)])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t._)("div",wl,[(0,t._)("div",hl,[(0,t._)("div",yl,[y.value?((0,t.wg)(),(0,t.j4)(z,{key:0,"img-class":"fullscreen_album_cover shadow-18",src:y.value,width:"400px",height:"400px","spinner-color":"pink"},{error:(0,t.w5)((()=>[(0,t.Wm)(z,{src:"images/vinyl.png",width:"400px",height:"400px"})])),_:1},8,["src"])):((0,t.wg)(),(0,t.j4)(z,{key:1,src:"images/vinyl.png",width:"400px",height:"400px"}))]),h.value&&h.value.track?((0,t.wg)(),(0,t.iD)("div",_l,[(0,t._)("h2",Sl,[(0,t.Wm)(A,{name:"music_note",size:"xl",class:"q-mr-sm"}),(0,t.Uk)((0,o.zw)(h.value.track.title||null),1)]),h.value.track.artist.name?((0,t.wg)(),(0,t.iD)("h4",xl,"by "+(0,o.zw)(h.value.track.artist.name),1)):(0,t.kq)("",!0),(0,t._)("h4",Wl,[(0,t.Wm)(A,{name:"album",size:"xl",class:"q-mr-sm"}),(0,t.Uk)((0,o.zw)(h.value.track.album.title)+" ",1),h.value.track.album.year?((0,t.wg)(),(0,t.iD)("span",zl,"("+(0,o.zw)(h.value.track.album.year)+")",1)):(0,t.kq)("",!0)])])):(0,t.kq)("",!0)]),(0,t._)("div",ql,[(0,t._)("div",null,[(0,t.Wm)(r,{round:"",dense:"",size:"30px",color:"dark",style:{opacity:"0.8"},disable:a.value||!_.value,onClick:Q},{default:(0,t.w5)((()=>[(0,t.Wm)(A,{name:"skip_previous",title:"Skip to previous track"})])),_:1},8,["disable"]),(0,t.Wm)(r,{round:"",dense:"",class:"q-mx-lg",size:"60px",color:"dark",style:{opacity:"0.8"},disable:a.value,onClick:Z},{default:(0,t.w5)((()=>[(0,t.Wm)(A,{name:(0,n.SU)(b).isPlaying?"pause":"play_arrow",class:(0,o.C_)({"text-pink-6":(0,n.SU)(b).isPlaying}),title:"Play/Pause/Resume track",disable:a.value||!W.value},null,8,["name","class","disable"])])),_:1},8,["disable"]),(0,t.Wm)(r,{round:"",dense:"",size:"30px",color:"dark",style:{opacity:"0.8"},disable:a.value||!x.value,onClick:L},{default:(0,t.w5)((()=>[(0,t.Wm)(A,{name:"skip_next",title:"Skip to next track"})])),_:1},8,["disable"])]),(0,t._)("h4",Al,"Track "+(0,o.zw)(w.value||0)+" of "+(0,o.zw)((0,n.SU)(k)||0),1)]),(0,t._)("div",Cl,[(0,t.Wm)(F,{dark:"",bordered:"",separator:"",style:{"max-width":"400px",background:"#000",opacity:"0.8"}},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Currently playing")])),_:1})])),_:1}),(0,t.Wm)(p,{side:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(w.value||0)+" of "+(0,o.zw)((0,n.SU)(k)||0),1)])),_:1})])),_:1})])),_:1}),h.value&&h.value.track?((0,t.wg)(),(0,t.j4)(v,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[h.value.track.covers.small?((0,t.wg)(),(0,t.j4)(z,{key:0,src:h.value.track.covers.small},{error:(0,t.w5)((()=>[(0,t.Wm)(A,{name:"album"})])),_:1},8,["src"])):((0,t.wg)(),(0,t.j4)(A,{key:1,name:"album"}))])),_:1})])),_:1}),(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(h.value.track.title),1)])),_:1}),(0,t.Wm)(u,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(h.value.track.artist.name),1)])),_:1})])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{overline:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Playlist")])),_:1}),(0,t.Wm)(u,{label:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Current playlist")])),_:1})])),_:1}),(0,t.Wm)(p,{side:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)((0,n.SU)(k))+" total tracks",1)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(M,{spaced:""}),(0,t.Wm)(V,{style:{height:"400px","max-width":"400px"},dark:"",visible:"",separator:"",items:(0,n.SU)(f).getElements},{default:(0,t.w5)((({item:e,index:l})=>[((0,t.wg)(),(0,t.j4)(v,{clickable:"",key:e.id,onClick:e=>B(l)},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[e.track.covers.small?((0,t.wg)(),(0,t.j4)(z,{key:0,src:e.track.covers.small},{error:(0,t.w5)((()=>[(0,t.Wm)(A,{name:"album"})])),_:2},1032,["src"])):((0,t.wg)(),(0,t.j4)(A,{key:1,name:"album"}))])),_:2},1024)])),_:2},1024),(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.track.title),1)])),_:2},1024),(0,t.Wm)(u,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.track.artist.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]))])),_:1},8,["items"])])),_:1})])]),(0,t._)("div",Pl,[(0,t.Wm)(A,{name:"settings",color:"white",size:"xs",class:"visualization-bottom-icons cursor-pointer q-ma-xs",onClick:l[35]||(l[35]=e=>c.value=!0)})])])])}}};var Il=a(136),Ml=a(1389),Vl=a(1357),El=a(8697);const Tl=(0,z.Z)(Ul,[["__scopeId","data-v-a3c4a996"]]),Fl=Tl;h()(Ul,"components",{QCard:we.Z,QCardSection:he.Z,QSpace:Il.Z,QBtn:K.Z,QItemLabel:Ue.Z,QItem:U.Z,QItemSection:I.Z,QBtnToggle:Ml.Z,QSlider:V.Z,QImg:k.Z,QIcon:M.Z,QList:P.Z,QAvatar:Vl.Z,QSeparator:ye.Z,QVirtualScroll:El.Z});var Zl=a(353);const Ql=(0,t._)("img",{src:"icons/favicon-96x96.png"},null,-1),Ll={class:"row"},Bl={class:"items-center q-px-md q-mb-none q-mx-auto",style:{width:"431px","max-width":"431px"}},Dl={key:0,class:"q-pr-md col-xl col-lg col-md col-sm-12 col-xs-12 q-mb-none q-mx-auto"},Hl={__name:"MainLayout",setup(e){(0,t.f3)("spieldosePlayer");const{t:l}=(0,d.QT)(),a=(0,u.Z)(),g=(0,s.tv)(),b=(0,p.l)(),f=(0,m.n)(),k=(0,v.d)(),w=(0,n.iH)(null),h=(0,i.F)();h.isLoaded||h.load();const y=(0,n.iH)(!1);ie.bus.on("showFullScreenVisualization",(()=>{y.value=!0})),ie.bus.on("hideFullScreenVisualization",(()=>{y.value=!1}));const _=(0,n.iH)([{shortLabel:"EN",label:"English",value:"en-US"},{shortLabel:"ES",label:"Español",value:"es-ES"},{shortLabel:"GL",label:"Galego",value:"gl-GL"}]),S=_.value.find((e=>e.value==c.defaultLocale)),x=(0,n.iH)(S||_.value[0]);function W(e,l){x.value=e,c.i18n.global.locale.value=e.value,l&&h.saveLocale(e.value)}const z=[{name:"dashboard",text:"Dashboard",icon:"analytics",linkRouteName:"dashboard"},{name:"current_playlist",text:"Current playlist",icon:"list_alt",linkRouteName:"currentPlaylist"},{name:"browse_artists",text:"Browse artists",icon:"person",linkRouteName:"artists"},{name:"browse_albums",text:"Browse albums",icon:"album",linkRouteName:"albums"},{name:"browse_paths",text:"Browse paths",icon:"folder_open",linkRouteName:"paths"},{name:"browse_playlists",text:"Browse playlists",icon:"list",linkRouteName:"playlists"},{name:"browse_radio_stations",text:"Browse radio stations",icon:"radio",linkRouteName:"radioStations"}],q=(0,t.Fl)((()=>{const e=k.getCurrentElement;return e?e.track&&e.track.url?e.track.url:e.radioStation&&e.radioStation.directStream?e.radioStation.directStream:null:null}));function A(){f.stop(),r.api.user.signOut().then((e=>{h.signOut(),g.push({name:"signIn"})})).catch((e=>{a.notify({type:"negative",message:l("API Error: fatal error"),caption:l("API Error: fatal error details",{status:e.response.status,statusText:e.response.statusText})})}))}return(0,t.YP)(q,(e=>{w.value&&(w.value.src=e,f.hasPreviousUserInteractions&&f.play(!0))})),f.create(),w.value=f.getElement,k.load(),f.hasPreviousUserInteractions&&(b.isPlaying||f.play(!0)),(e,s)=>{const r=(0,t.up)("q-avatar"),i=(0,t.up)("q-toolbar-title"),u=(0,t.up)("q-space"),d=(0,t.up)("q-route-tab"),c=(0,t.up)("q-item-section"),m=(0,t.up)("q-item"),p=(0,t.up)("q-separator"),v=(0,t.up)("q-list"),g=(0,t.up)("q-btn-dropdown"),b=(0,t.up)("q-btn"),f=(0,t.up)("q-tabs"),k=(0,t.up)("q-toolbar"),w=(0,t.up)("q-header"),S=(0,t.up)("q-ajax-bar"),q=(0,t.up)("router-view"),C=(0,t.up)("q-page"),P=(0,t.up)("q-page-container"),U=(0,t.up)("q-layout"),I=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(U,{view:"hHh Lpr lff"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{class:"bg-grey-3 text-black shadow-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{square:"",size:"42px",class:"q-mr-sm"},{default:(0,t.w5)((()=>[Ql])),_:1}),(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Spieldose")])),_:1}),(0,t.Wm)(u),(0,t.Wm)(Oe),(0,t.Wm)(f,{shrink:"",dense:"","no-caps":""},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(z,(e=>(0,t.Wm)(d,{key:e.name,to:{name:e.linkRouteName},name:e.name,icon:e.icon,label:(0,n.SU)(a).screen.gt.md?(0,n.SU)(l)(e.text):"",title:(0,n.SU)(l)(e.text),"no-caps":"","inline-label":"",exact:""},null,8,["to","name","icon","label","title"]))),64)),(0,t.Wm)(g,{icon:"language","auto-close":"",stretch:"",flat:"",label:x.value.shortLabel,stack:""},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{dense:"",style:{"min-width":"200px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{class:"GL__menu-link-signed-in"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Uk)((0,o.zw)((0,n.SU)(l)("Selected language"))+": ",1),(0,t._)("strong",null,(0,o.zw)(x.value.label),1)])])),_:1})])),_:1}),(0,t.Wm)(p),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(_.value,(e=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{clickable:"",disable:x.value.value==e.value,key:e.value,onClick:l=>W(e,!0)},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,(0,o.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["disable","onClick"])),[[I]]))),128))])),_:1})])),_:1},8,["label"]),(0,t.Wm)(b,{round:"",dense:"",flat:"",stretch:"",icon:(0,n.SU)(Zl.hjv),color:"dark","no-caps":"",href:"http://github.com/aportela/spieldose",target:"_blank"},null,8,["icon"]),(0,t.Wm)(b,{stretch:"",icon:"logout",label:(0,n.SU)(a).screen.xl?(0,n.SU)(l)("Signout"):"",title:(0,n.SU)(l)("Signout"),flat:"","no-caps":"",stack:"",onClick:A},null,8,["label","title"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(P,{class:"bg-grey-3 q-mt-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S),(0,t._)("div",Ll,[(0,t._)("div",Bl,[(0,t.Wm)(Ve)]),(0,n.SU)(h).getSingleLayoutMode?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Dl,[(0,t.Wm)(q)]))])])),_:1})])),_:1}),y.value?((0,t.wg)(),(0,t.j4)(Fl,{key:0})):(0,t.kq)("",!0)])),_:1})}}};var Nl=a(7605),Rl=a(6602),jl=a(1663),Ol=a(1973),Yl=a(7817),Gl=a(3333),Kl=a(2045),Xl=a(906),$l=a(2133),Jl=a(9885),ea=a(1602),la=a(2146);const aa=Hl,ta=aa;h()(Hl,"components",{QLayout:Nl.Z,QHeader:Rl.Z,QToolbar:jl.Z,QAvatar:Vl.Z,QToolbarTitle:Ol.Z,QSpace:Il.Z,QTabs:Yl.Z,QRouteTab:Gl.Z,QBtnDropdown:Kl.Z,QList:P.Z,QItem:U.Z,QItemSection:I.Z,QSeparator:ye.Z,QBtn:K.Z,QDrawer:Xl.Z,QPageContainer:$l.Z,QPage:Jl.Z,QAjaxBar:ea.Z}),h()(Hl,"directives",{ClosePopup:la.Z})}}]);